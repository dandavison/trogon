{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/GameFormFieldDropdownRow.vue?98f7","webpack:///./src/GameForm.vue?cf4c","webpack:///./src/RecordingPlayer.vue?e076","webpack:///./src/GameFormFieldDropdownRowMobile.vue?92ff","webpack:///./src/App.vue?6490","webpack:///./src/Navbar.vue?198b","webpack:///./src/event-bus.ts","webpack:///./src/Help.vue?a44c","webpack:///./src/Help.vue?ea69","webpack:///./src/Help.vue?4153","webpack:///./src/Help.vue","webpack:///./src/Navbar.vue?0062","webpack:///./src/Navbar.vue?f3f6","webpack:///./src/Navbar.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/Root.vue?86fd","webpack:///./src/Map.vue?f029","webpack:///./src/utils.ts","webpack:///./src/ebird.ts","webpack:///./src/Map.vue?59bd","webpack:///./src/types.ts","webpack:///./src/Map.vue?2026","webpack:///./src/Map.vue","webpack:///./src/Root.vue?5660","webpack:///./src/Root.vue?5f2c","webpack:///./src/Root.vue","webpack:///./src/GameRoot.vue?5a7d","webpack:///./src/FamilySelector.vue?ccaf","webpack:///./src/FamilySelector.vue?a81c","webpack:///./src/FamilySelector.vue?15cd","webpack:///./src/FamilySelector.vue","webpack:///./src/ControlPanel.vue?f471","webpack:///./src/NamesSelector.vue?ed55","webpack:///./src/NamesSelector.vue?f85c","webpack:///./src/NamesSelector.vue?9f79","webpack:///./src/NamesSelector.vue","webpack:///./src/ControlPanel.vue?e067","webpack:///./src/ControlPanel.vue?a9af","webpack:///./src/ControlPanel.vue","webpack:///./src/Game.vue?ef33","webpack:///./src/xeno-canto.ts","webpack:///./src/birds.ts","webpack:///./src/RecordingPlayer.vue?a5a8","webpack:///./src/RecordingPlayer.vue?e254","webpack:///./src/RecordingPlayer.vue?09a3","webpack:///./src/RecordingPlayer.vue","webpack:///./src/GameForm.vue?7a6a","webpack:///./src/GameFormField.vue?aa4c","webpack:///./src/GameFormFieldDropdownRow.vue?2713","webpack:///./src/GameFormFieldDropdownRow.vue?07ce","webpack:///./src/GameFormFieldDropdownRow.vue?0d05","webpack:///./src/GameFormFieldDropdownRow.vue","webpack:///./src/GameFormFieldDropdownRowMobile.vue?14a9","webpack:///./src/GameFormFieldDropdownRowMobile.vue?d076","webpack:///./src/GameFormFieldDropdownRowMobile.vue?3bbd","webpack:///./src/GameFormFieldDropdownRowMobile.vue","webpack:///./src/GameFormField.vue?ee2e","webpack:///./src/GameFormField.vue?d725","webpack:///./src/GameFormField.vue","webpack:///./src/GameFormFieldContainer.vue?3a73","webpack:///./src/GameFormFieldContainer.vue?7af1","webpack:///./src/GameFormFieldContainer.vue?aef3","webpack:///./src/GameFormFieldContainer.vue","webpack:///./src/GameForm.vue?7ebb","webpack:///./src/GameForm.vue?4718","webpack:///./src/GameForm.vue","webpack:///./src/RevealArea.vue?5f2b","webpack:///./src/RevealArea.vue?7f55","webpack:///./src/RevealArea.vue?6742","webpack:///./src/RevealArea.vue","webpack:///./src/ChallengeDescription.vue?4935","webpack:///./src/ChallengeDescription.vue?af99","webpack:///./src/ChallengeDescription.vue?0d37","webpack:///./src/ChallengeDescription.vue","webpack:///./src/ChallengeControls.vue?b1df","webpack:///./src/ChallengeControls.vue?ad77","webpack:///./src/ChallengeControls.vue?380c","webpack:///./src/ChallengeControls.vue","webpack:///./src/Game.vue?d313","webpack:///./src/Game.vue?59cb","webpack:///./src/Game.vue","webpack:///./src/GameRoot.vue?c157","webpack:///./src/GameRoot.vue?9b19","webpack:///./src/GameRoot.vue","webpack:///./src/main.ts","webpack:///./src/GameFormField.vue?6f5b","webpack:///./src/ControlPanel.vue?90ad"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","slot","attrs","on","showHelp","_v","model","callback","$$v","helpModalActive","expression","showControlPanel","eventBus","_m","extend","component","components","Help","methods","$emit","$route","path","Navbar","_b","staticStyle","center","showCoordinatesPopup","map","tileLayer","_l","hotspot","id","lat","lng","hotspotProps","$router","_s","locName","popup","latlng","toFixed","_e","isLoading","fetchMultipleJSON","urls","Promise","allSettled","url","fetch","then","resp","json","catch","error","console","log","settledPromises","filter","status","transformTaxonName","replace","toLowerCase","debug","msg","force","ebirdSpecies","getGenus","species","sciName","split","getSpeciesSciSp","getSpeciesSci","getSpeciesEn","comName","getFamilyEn","familyComName","getFamilySci","familySciName","getName","fnName","toUpperCase","fetchLocationSpecies","locIds","locId","speciesCodes","union","join","fetchRecentObservations","observations","flatten","fetchEbirdHotspots","fetchEbirdHotspotsByLatLng","response","fetchSpeciesImages","speciesString","sp","cachedSpeciesImages","remainingSpeciesNames","difference","si","fetchSpeciesImagesParallel","remainingSpeciesImages","concat","use","NamesLanguage","TaxonName","LMap","LTileLayer","LCircle","LMarker","LPopup","LLayerGroup","props","Array","zoom","tap","color","fillOpacity","radius","ebirdHotspots","mounted","$on","event","finally","MapComponent","ebirdHotSpots","controlPanelOpen","challengeFamilies","settings","locationRequest","isModalActive","entries","ref","family","selected","val","selectFamily","Map","open","sidebarAttributes","newSettings","$set","showFamilyModal","English","names","Scientific","Both","watch","newVal","NamesSelector","assign","overlay","fullheight","fullwidth","right","ebirdLocIds","locationSpecies","filteredLocationSpecies","commonSpecies","recentObservations","image","recording","setNextRecording","taxonMaps","imageURLMaps","answerIsCorrectSpecies","otherRecordings","fetchXenoCantoRecordings","query","encodeURIComponent","text","JSON","parse","recordings","makeQuery","locations","genus","speciesSci","countryCodes","Set","loc","countryCode","size","country","getCountry","fetchRecordings","xcRecs","x","makeRecording","xcRec","familySci","familyEn","speciesEn","file","raw","isSong","type","words","has","isDefaultSelectedFamily","family2order","nonPasserineDefaultSelectedFamilies","preload","ev","target","play","String","default","useFieldModals","isModal","scopedSlots","_u","fn","answer","handleFamilySci","shouldShowScientificNames","filterFamilySci","truth","getFamilySciImageURLs","im","shouldShowEnglishNames","$event","proxy","handleFamilyEn","filterFamilyEn","getFamilyEnImageURLs","handleGenus","filterGenus","getGenusImageURLs","handleSpeciesSci","filterSpeciesSci","getSpeciesSciImageURLs","handleSpeciesEn","filterSpeciesEn","getSpeciesEnImageURLs","fieldType","label","filteredCandidates","handleFocus","handleSelect","handleBlur","getImageURLs","option","imageLabelFn","showInputButtons","clear","reveal","images","Function","GameFormFieldDropdownRow","GameFormFieldDropdownRowMobile","initial","shouldShow","Boolean","handler","dismissMobileKeyboardOnDropdownScroll","isMobile","computed","stringify","isCorrect","sync","autocomplete","$refs","input","dropdown","dropdownContent","querySelector","onscroll","isActive","blur","_t","GameFormFieldContainer","GameFormField","familySciField","familyEnField","genusField","speciesSciField","speciesEnField","familySci2En","familyEn2Sci","genus2familySci","speciesSci2En","speciesSci2genus","speciesEn2Sci","promptIncludesImages","_getImageURLs","speciesSciName2images","genus2images","familySci2images","familyEn2images","imageURLMap","from","_filter","isFamilySciMatch","isFamilyEnMatch","isGenusMatch","isSpeciesSciMatch","isSpeciesEnMatch","matchFn","mapFn","uniq","_startsWith","_includes","includes","startsWith","recordingSpeciesWikipediaURL","recordingSpeciesSciName","promptIncludesRecording","active","rec","cnt","RecordingPlayer","h","nSelectedFamilies","values","also","index","GameForm","RevealArea","ChallengeDescription","ChallengeControls","selectedFamilies","speciesImages","makeTaxonMaps","makeImageMaps","challengeRecordingsIterator","makeEmptyRecordingsIterator","haveLocationData","challengeActive","created","disableNetworkRequests","fetchLocationData","obs","speciesCode2SciName","speciesCode","makeChallengeFamilies","filterSpecies","makeChallengeRecordingsIterator","handleFamilySelection","ebirdLocId","all","resolve","species2familyEn","commonSpeciesOnly","challengeFamily","shuffle","makeSpeciesRecordingsIterator","recordingMatchesFilters","f","songsOnly","gen","gameForm","next","done","alert","challengeSpecies","order","groupBy","spp","species2familySci","set","species2images","obj","haveSeenGenus","ControlPanel","FamilySelector","Game","config","productionTip","defaultIconPack","defaultContainerElement","routes","Root","GameRoot","route","location","coords","zipObject","router","render","App","$mount"],"mappings":"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","file":"js/app.1d29aa77.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRow.vue?vue&type=style&index=0&id=4b506920&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameForm.vue?vue&type=style&index=0&id=4a5e4308&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordingPlayer.vue?vue&type=style&index=0&id=b7f26996&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRowMobile.vue?vue&type=style&index=0&id=053663aa&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('navbar'),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',[_c('template',{slot:\"brand\"},[_c('b-navbar-item',[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('img',{attrs:{\"src\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Trogon_collaris_%28Trog%C3%B3n_collarejo%29_%2814027165535%29.jpg/320px-Trogon_collaris_%28Trog%C3%B3n_collarejo%29_%2814027165535%29.jpg\",\"alt\":\"Trogon\"}})])],1),_c('b-navbar-item',{attrs:{\"tag\":\"div\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-globe-americas\"})])],1),_c('b-navbar-item',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.showHelp}},[_vm._v(\" Help \")]),_c('b-modal',{model:{value:(_vm.helpModalActive),callback:function ($$v) {_vm.helpModalActive=$$v},expression:\"helpModalActive\"}},[_c('help')],1)],1),_c('template',{slot:\"end\"},[_c('b-navbar-item',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.showControlPanel}},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('b-navbar-item',{attrs:{\"href\":\"https://github.com/dandavison/trogon\"}},[_c('i',{staticClass:\"fab fa-github\"})])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\nconst eventBus = new Vue();\nexport default eventBus;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section has-text-grey-light\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"p-3\"},[_vm._v(\" Feedback appreciated! Please send comments, suggestions, etc to \"),_c('tt',[_vm._v(\"dandavison7@gmail.com\")]),_vm._v(\", or \"),_c('a',{attrs:{\"href\":\"https://github.com/dandavison/trogon/issues\"}},[_vm._v(\"open an issue\")]),_vm._v(\" on the Github page. \")],1),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_c('em',[_vm._v(\"Trogon\")]),_vm._v(\" is a tool for learning to identify birds. You select a location anywhere in the world on the map, and are taken to an identification challenge (audio or visual) featuring bird species occurring at that location. \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_vm._v(\" To select a location: \"),_c('ol',{staticClass:\"p-3\"},[_c('li',[_vm._v(\" Zoom in on some area of the world. \")]),_c('li',[_vm._v(\" Right click / long press (phone) to load nearby Ebird locations (red). If no red circles appear then there are no Ebird locations nearby. \")]),_c('li',[_vm._v(\" Click on the map marker, or on an individual Ebird location, to select that location for the identification challenge. \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_vm._v(\" The location data comes from \"),_c('a',{attrs:{\"href\":\"http://ebird.org/\"}},[_vm._v(\"Ebird\")]),_vm._v(\", the recordings of vocalisations come from \"),_c('a',{attrs:{\"href\":\"https://www.xeno-canto.org/\"}},[_vm._v(\"xeno-canto\")]),_vm._v(\", and the images come from \"),_c('a',{attrs:{\"href\":\"https://wikipedia.org/\"}},[_vm._v(\"Wikipedia\")]),_vm._v(\". \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nexport default Vue.extend({});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Help.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Help.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Help.vue?vue&type=template&id=4e308c6a&\"\nimport script from \"./Help.vue?vue&type=script&lang=ts&\"\nexport * from \"./Help.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport eventBus from \"./event-bus\";\nimport Help from \"./Help.vue\";\n\nexport default Vue.extend({\n  components: { Help },\n  data() {\n    return { helpModalActive: false };\n  },\n\n  methods: {\n    showControlPanel(): void {\n      eventBus.$emit(\"control-panel:show\");\n    },\n\n    showHelp(): void {\n      if (this.$route.path === \"/\") {\n        // TODO: We should just be able to display the help modal\n        // as an element within the navbar. However, when we do that,\n        // the map component obscures the help modal, so there is a\n        // special implementation of the help modal in Map.vue\n        // triggered by this event.\n        eventBus.$emit(\"show:help\");\n      } else {\n        this.helpModalActive = true;\n      }\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=957fd146&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Navbar from \"./Navbar.vue\";\n\nexport default Vue.extend({\n  components: { Navbar }\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7398493b&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('map-component',{attrs:{\"center\":[0.0, 0.0]}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.helpModalActive)?_c('l-map',_vm._b({staticStyle:{\"height\":\"800px\"},attrs:{\"center\":_vm.center},on:{\"contextmenu\":_vm.showCoordinatesPopup}},'l-map',_vm.map,false),[_c('l-tile-layer',_vm._b({},'l-tile-layer',_vm.tileLayer,false)),_vm._l((_vm.ebirdHotspots),function(hotspot){return _c('l-circle',_vm._b({key:hotspot.id,attrs:{\"lat-lng\":[hotspot.lat, hotspot.lng]}},'l-circle',_vm.hotspotProps,false),[_c('l-popup',[_c('b-button',{staticClass:\"is-success is-light\",on:{\"click\":function () { return _vm.$router.push((\"/challenge?location=\" + (hotspot.locId))); }}},[_vm._v(\" \"+_vm._s(hotspot.locName)+\" \")])],1)],1)}),(_vm.popup.latlng)?_c('l-marker',{attrs:{\"latLng\":_vm.popup.latlng}},[_c('l-popup',[_c('b-button',{staticClass:\"is-success is-light\",on:{\"click\":function () { return _vm.$router.push(\n                (\"/challenge?coords=\" + (_vm.popup.latlng.lat.toFixed(\n                  2\n                )) + \",\" + (_vm.popup.latlng.lng.toFixed(2)))\n              ); }}},[_vm._v(\" (\"+_vm._s(_vm.popup.latlng.lat.toFixed(2))+\", \"+_vm._s(_vm.popup.latlng.lng.toFixed(2))+\") \")])],1)],1):_vm._e(),_c('b-loading',{model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}})],2):_c('b-modal',{model:{value:(_vm.helpModalActive),callback:function ($$v) {_vm.helpModalActive=$$v},expression:\"helpModalActive\"}},[_c('help')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export async function fetchMultipleJSON(urls: string[]): Promise<Object[]> {\n  const settledPromises = await Promise.allSettled(\n    urls.map(url =>\n      fetch(url)\n        .then(resp => resp.json())\n        .catch(error => console.log(`Error: fetchJSONParallel: ${error}`))\n    )\n  );\n  return settledPromises\n    .filter(result => result.status === \"fulfilled\")\n    .map((result: any) => result.value);\n}\n\nexport function transformTaxonName(value: string): string {\n  return value.replace(\"-\", \" \").toLowerCase();\n}\n\nexport function debug(msg: string[], force: boolean = false): void {\n  var debug = false;\n  if (debug || force) {\n    console.log.apply(null, msg);\n  }\n}\n","import _ from \"lodash\";\nimport { LatLngLiteral } from \"leaflet\";\n\nimport { fetchMultipleJSON } from \"./utils\";\nimport {\n  EbirdHotspot,\n  EbirdObservation,\n  EbirdSpecies,\n  SpeciesImages,\n  TaxonName\n} from \"./types\";\n\nexport const ebirdSpecies = {\n  getGenus: function(species: EbirdSpecies): string {\n    return species.sciName.split(\" \")[0] || \"\";\n  },\n  getSpeciesSciSp: function(species: EbirdSpecies): string {\n    return species.sciName.split(\" \")[1] || \"\";\n  },\n  getSpeciesSci: function(species: EbirdSpecies): string {\n    return species.sciName;\n  },\n  getSpeciesEn: function(species: EbirdSpecies): string {\n    return species.comName;\n  },\n  getFamilyEn: function(species: EbirdSpecies): string {\n    return species.familyComName;\n  },\n  getFamilySci: function(species: EbirdSpecies): string {\n    return species.familySciName;\n  },\n  getName: function(name: TaxonName, species: EbirdSpecies): string {\n    const fnName = \"get\" + name[0]?.toUpperCase() + name.slice(1, name.length);\n    return (ebirdSpecies as any)[fnName](species);\n  }\n};\n\nexport async function fetchLocationSpecies(\n  locIds: string[]\n): Promise<EbirdSpecies[]> {\n  /// Fetch species lists for each location in parallel\n  var speciesCodes = await fetchMultipleJSON(\n    locIds.map(\n      locId =>\n        `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/product/spplist/${locId}?fmt=json`\n    )\n  );\n  speciesCodes = _.union(speciesCodes);\n  console.log(\n    `Fetched ${speciesCodes.length} species codes for locations: ${locIds.join(\n      \",\"\n    )}`\n  );\n  const species = await fetch(\n    `${\n      process.env.VUE_APP_SERVER_URL\n    }/api/ebird-species?species_codes=${speciesCodes.join(\",\")}`\n  ).then(resp => resp.json());\n  console.log(\n    `Fetched ${species.length} EbirdSpecies for ebird locations: ${locIds.join(\n      \",\"\n    )}`\n  );\n  return species;\n}\n\nexport async function fetchRecentObservations(\n  locIds: string[]\n): Promise<EbirdObservation[]> {\n  var observations = (await fetchMultipleJSON(\n    locIds.map(\n      locId =>\n        `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/data/obs/${locId}/recent/?back=30&fmt=json`\n    )\n  )) as EbirdObservation[];\n  return _.union(_.flatten(observations));\n}\n\nexport async function fetchEbirdHotspots(\n  locIds: string[]\n): Promise<EbirdHotspot[]> {\n  return (await fetchMultipleJSON(\n    locIds.map(\n      locId =>\n        `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/ref/hotspot/info/${locId}?fmt=json`\n    )\n  )) as EbirdHotspot[];\n}\n\nexport async function fetchEbirdHotspotsByLatLng(\n  latlng: LatLngLiteral\n): Promise<EbirdHotspot[]> {\n  const response = await fetch(\n    `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/ref/hotspot/geo?lat=${latlng.lat}&lng=${latlng.lng}&fmt=json`\n  );\n  return await response.json();\n}\n\nexport async function fetchSpeciesImages(\n  species: EbirdSpecies[]\n): Promise<SpeciesImages[]> {\n  const speciesString = species.map(sp => sp.sciName).join(\",\");\n  const cachedSpeciesImages: SpeciesImages[] = await fetch(\n    `${process.env.VUE_APP_SERVER_URL}/api/species-image-urls?species=${speciesString}&cached_only=true`\n  ).then(resp => resp.json());\n  const remainingSpeciesNames = _.difference(\n    species.map(ebirdSpecies.getSpeciesSci),\n    cachedSpeciesImages.map(si => si.species)\n  );\n  console.log(\n    `Got ${cachedSpeciesImages.length} cached species images; \\\n    fetching remaining ${remainingSpeciesNames.length}`\n  );\n  // HACK: how to correctly filter to successfully resolved promises only?\n  const remainingSpeciesImages = (\n    await fetchSpeciesImagesParallel(remainingSpeciesNames)\n  )\n    .filter(\n      result =>\n        result.status === \"fulfilled\" && result.value && result.value.urls\n    )\n    .map((result: any) => result.value); // result: PromiseFulfilledResult<SpeciesImages> ?\n\n  return _.concat(cachedSpeciesImages, remainingSpeciesImages);\n}\n\nasync function fetchSpeciesImagesParallel(\n  species: string[]\n): Promise<PromiseSettledResult<SpeciesImages>[]> {\n  return Promise.allSettled(\n    species.map(sp =>\n      fetch(\n        `${process.env.VUE_APP_SERVER_URL}/api/species-image-urls?species=${sp}&cached_only=false`\n      )\n        .then(resp => resp.json())\n        .then(data => data[0])\n        .catch(error =>\n          console.log(`Error: fetchSpeciesImagesParallel: ${error}`)\n        )\n    )\n  );\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport Vue2TouchEvents from \"vue2-touch-events\";\nimport VueI18n from \"vue-i18n\";\n\nVue.use(Vue2TouchEvents);\nVue.use(VueI18n);\n\nimport {\n  LMap,\n  LTileLayer,\n  LCircle,\n  LMarker,\n  LPopup,\n  LLayerGroup,\n} from \"vue2-leaflet\";\nimport eventBus from \"./event-bus\";\nimport Help from \"./Help.vue\";\nimport { fetchEbirdHotspotsByLatLng } from \"./ebird\";\nimport { LatLngLiteral } from \"leaflet\";\nimport { EbirdHotspot, LeafletMapEvent } from \"./types\";\n\nexport default Vue.extend({\n  components: {\n    Help,\n    LMap,\n    LTileLayer,\n    LCircle,\n    LMarker,\n    LPopup,\n    LLayerGroup,\n  },\n  props: {\n    center: Array as PropType<number[]>,\n  },\n  data() {\n    return {\n      map: {\n        zoom: 2,\n        tap: true,\n      },\n      tileLayer: {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      },\n      hotspotProps: {\n        color: \"#f03\",\n        fillOpacity: 0.5,\n        radius: 500,\n      },\n      popup: {\n        latlng: null as LatLngLiteral | null,\n      },\n      ebirdHotspots: [] as EbirdHotspot[],\n      isLoading: false,\n      helpModalActive: false,\n    };\n  },\n\n  mounted: function (): void {\n    eventBus.$on(\"show:help\", () => {\n      this.helpModalActive = true;\n    });\n  },\n\n  methods: {\n    showCoordinatesPopup(event: LeafletMapEvent): void {\n      this.popup.latlng = event.latlng as any; // TODO\n      if (this.popup.latlng) {\n        this.isLoading = true;\n        fetchEbirdHotspotsByLatLng(this.popup.latlng)\n          .then((data) => (this.ebirdHotspots = data))\n          .finally(() => (this.isLoading = false));\n      }\n    },\n  },\n});\n","import { LatLngLiteral } from \"leaflet\";\n\nexport interface Settings {\n  names: NamesLanguage;\n  commonSpeciesOnly: boolean;\n  songsOnly: boolean;\n  promptIncludesImages: boolean;\n  promptIncludesRecording: boolean;\n  useFieldModals: boolean;\n  disableNetworkRequests: boolean;\n}\n\nexport enum NamesLanguage {\n  Scientific = \"scientific\",\n  English = \"English\",\n  Both = \"both\"\n}\n\nexport enum TaxonName {\n  FamilySci = \"familySci\",\n  FamilyEn = \"familyEn\",\n  Genus = \"genus\",\n  SpeciesSci = \"speciesSci\",\n  SpeciesEn = \"speciesEn\"\n}\n\nexport interface LocationRequest {\n  ebirdLocId?: string;\n  latlng?: LatLngLiteral;\n}\n\nexport interface EbirdSpecies {\n  sciName: string;\n  comName: string;\n  speciesCode: string;\n  category: string;\n  taxonOrder: number;\n  order: string;\n  familyComName: string;\n  familySciName: string;\n}\n\nexport interface EbirdHotspot {\n  locId: string;\n  locName: string;\n  countryCode: string;\n  subnational1Code: string;\n  lat: number;\n  lng: number;\n  latestObsDt: string | null;\n  numSpeciesAllTime: number | null;\n}\n\nexport interface EbirdObservation {\n  sciName: string;\n  comName: string;\n  speciesCode: string;\n  locId: string;\n  locName: string;\n}\n\nexport interface Recording {\n  url: string;\n  familyEn: string;\n  familySci: string;\n  genus: string;\n  speciesEn: string;\n  speciesSci: string;\n  raw: XenoCantoRecording;\n  [index: string]: string | XenoCantoRecording;\n}\n\nexport interface XenoCantoRecording {\n  file: string;\n  gen: string;\n  sp: string;\n  en: string;\n  type: string;\n  loc: string;\n  cnt: string;\n  also: string[];\n}\n\nexport interface Answer {\n  familySci: string;\n  familyEn: string;\n  genus: string;\n  speciesSci: string;\n  speciesEn: string;\n  [index: string]: string;\n}\n\nexport interface SpeciesImages {\n  species: string;\n  urls: string[];\n}\n\nexport interface TaxonMaps {\n  speciesCode2SciName: Map<string, string>;\n  species2familySci: Map<string, string>;\n  species2familyEn: Map<string, string>;\n  familyEn2Sci: Map<string, string>;\n  familySci2En: Map<string, string>;\n  genus2familySci: Map<string, string>;\n  speciesSci2genus: Map<string, string>;\n  speciesSci2En: Map<string, string>;\n  speciesEn2Sci: Map<string, string>;\n}\n\nexport interface ImageMaps {\n  speciesSciName2images: Map<string, SpeciesImages[]>;\n  genus2images: Map<string, SpeciesImages[]>;\n  familySci2images: Map<string, SpeciesImages[]>;\n  familyEn2images: Map<string, SpeciesImages[]>;\n}\n\nexport interface ChallengeFamily {\n  n: number;\n  selected: boolean;\n}\n\nexport interface LeafletMapEvent {\n  latlng: LatLngLiteral;\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=4d0a1fc4&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { EbirdHotspot } from \"./types\";\nimport Vue from \"vue\";\n\nimport MapComponent from \"./Map.vue\";\n\nexport default Vue.extend({\n  components: { MapComponent },\n  data() {\n    return {\n      ebirdHotSpots: [] as EbirdHotspot[],\n    };\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Root.vue?vue&type=template&id=f7eae76e&\"\nimport script from \"./Root.vue?vue&type=script&lang=ts&\"\nexport * from \"./Root.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[_c('control-panel',{attrs:{\"open\":_vm.controlPanelOpen,\"challengeFamilies\":_vm.challengeFamilies,\"settings\":_vm.settings}}),_c('family-selector',{attrs:{\"challengeFamilies\":_vm.challengeFamilies}}),_c('game',{attrs:{\"settings\":_vm.settings,\"locationRequest\":_vm.locationRequest}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{model:{value:(_vm.isModalActive),callback:function ($$v) {_vm.isModalActive=$$v},expression:\"isModalActive\"}},[_c('section',{staticClass:\"section has-text-grey-light\"},[_c('ul',_vm._l((_vm.challengeFamilies.entries()),function(ref){\nvar family = ref[0];\nvar data = ref[1];\nreturn _c('li',{key:family},[_c('b-checkbox',{attrs:{\"value\":data.selected},on:{\"input\":function (val) { return _vm.selectFamily(family, val); }}}),_vm._v(\" \"+_vm._s(family)+\" (\"+_vm._s(data.n)+\") \")],1)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport eventBus from \"./event-bus\";\nimport Vue, { PropType } from \"vue\";\nimport { ChallengeFamily } from \"./types\";\nexport default Vue.extend({\n  props: {\n    challengeFamilies: Map as PropType<Map<string, ChallengeFamily>>,\n  },\n  data() {\n    return {\n      isModalActive: false,\n    };\n  },\n  mounted() {\n    eventBus.$on(\"show:family-selector\", () => (this.isModalActive = true));\n  },\n  methods: {\n    selectFamily(family: string, val: boolean): void {\n      eventBus.$emit(\"family:select\", family, val);\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FamilySelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FamilySelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FamilySelector.vue?vue&type=template&id=40cb321e&\"\nimport script from \"./FamilySelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./FamilySelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-sidebar',_vm._b({attrs:{\"type\":\"is-light\"},model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},'b-sidebar',_vm.sidebarAttributes,false),[_c('div',{staticClass:\"p-1\"},[_c('b-menu',[_c('b-menu-list',[_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Prompt\"}}),_c('b-switch',{model:{value:(_vm.newSettings.promptIncludesImages),callback:function ($$v) {_vm.$set(_vm.newSettings, \"promptIncludesImages\", $$v)},expression:\"newSettings.promptIncludesImages\"}},[_vm._v(\" Images \")]),_c('b-switch',{model:{value:(_vm.newSettings.promptIncludesRecording),callback:function ($$v) {_vm.$set(_vm.newSettings, \"promptIncludesRecording\", $$v)},expression:\"newSettings.promptIncludesRecording\"}},[_vm._v(\" Audio \")]),_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Names\"}}),_c('names-selector',{attrs:{\"settings\":_vm.settings}}),_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Recordings\"}}),_c('b-switch',{staticClass:\"p-1\",model:{value:(_vm.newSettings.commonSpeciesOnly),callback:function ($$v) {_vm.$set(_vm.newSettings, \"commonSpeciesOnly\", $$v)},expression:\"newSettings.commonSpeciesOnly\"}},[_vm._v(\" common species only \")]),_c('b-switch',{staticClass:\"p-1\",model:{value:(_vm.newSettings.songsOnly),callback:function ($$v) {_vm.$set(_vm.newSettings, \"songsOnly\", $$v)},expression:\"newSettings.songsOnly\"}},[_vm._v(\" Songs only \")]),_c('div',{staticClass:\"level p-1\"},[_c('div',{staticClass:\"level-left\"},[_c('b-button',{staticClass:\"light\",on:{\"click\":_vm.showFamilyModal}},[_c('i',{staticClass:\"fas fa-dna\"})]),_c('span',{staticClass:\"pl-2\"},[_vm._v(\"Select Families\")])],1)]),_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Appearance\"}}),_c('b-switch',{model:{value:(_vm.newSettings.useFieldModals),callback:function ($$v) {_vm.$set(_vm.newSettings, \"useFieldModals\", $$v)},expression:\"newSettings.useFieldModals\"}},[_vm._v(\" Full-screen dropdowns \")])],1)],1)],1)]),_c('div',{staticClass:\"block\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block\"},[_c('ul',[_c('li',[_c('b-radio',{attrs:{\"name\":\"name\",\"native-value\":_vm.NamesLanguage.English},model:{value:(_vm.names),callback:function ($$v) {_vm.names=$$v},expression:\"names\"}},[_vm._v(\" \"+_vm._s(_vm.NamesLanguage.English)+\" \")])],1),_c('li',[_c('b-radio',{attrs:{\"name\":\"name\",\"native-value\":_vm.NamesLanguage.Scientific},model:{value:(_vm.names),callback:function ($$v) {_vm.names=$$v},expression:\"names\"}},[_vm._v(\" \"+_vm._s(_vm.NamesLanguage.Scientific)+\" \")])],1),_c('li',[_c('b-radio',{attrs:{\"name\":\"name\",\"native-value\":_vm.NamesLanguage.Both},model:{value:(_vm.names),callback:function ($$v) {_vm.names=$$v},expression:\"names\"}},[_vm._v(\" \"+_vm._s(_vm.NamesLanguage.Both)+\" \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport eventBus from \"./event-bus\";\nimport { Settings, NamesLanguage } from \"./types\";\n\nexport default Vue.extend({\n  props: { settings: Object as PropType<Settings> },\n  data() {\n    return {\n      names: this.settings.names,\n      NamesLanguage,\n    };\n  },\n  watch: {\n    names: function (newVal) {\n      eventBus.$emit(\"settings:change:names\", newVal);\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./NamesSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./NamesSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NamesSelector.vue?vue&type=template&id=05459d8c&\"\nimport script from \"./NamesSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./NamesSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport eventBus from \"./event-bus\";\nimport NamesSelector from \"./NamesSelector.vue\";\nimport { ChallengeFamily, Settings } from \"./types\";\n\nexport default Vue.extend({\n  components: { NamesSelector },\n  props: {\n    challengeFamilies: Map as PropType<Map<string, ChallengeFamily>>,\n    settings: Object as PropType<Settings>,\n  },\n  data() {\n    return {\n      newSettings: Object.assign({}, this.settings) as Settings,\n      sidebarAttributes: {\n        overlay: false,\n        fullheight: true,\n        fullwidth: false,\n        right: true,\n      },\n      open: false,\n    };\n  },\n\n  watch: {\n    \"newSettings.commonSpeciesOnly\": function (newVal) {\n      eventBus.$emit(\"settings:change:commonSpeciesOnly\", newVal);\n    },\n    \"newSettings.songsOnly\": function (newVal) {\n      eventBus.$emit(\"settings:change:songsOnly\", newVal);\n    },\n    \"newSettings.promptIncludesImages\": function (newVal) {\n      eventBus.$emit(\"settings:change:promptIncludesImages\", newVal);\n    },\n    \"newSettings.promptIncludesRecording\": function (newVal) {\n      eventBus.$emit(\"settings:change:promptIncludesRecording\", newVal);\n    },\n    \"newSettings.useFieldModals\": function (newVal) {\n      eventBus.$emit(\"settings:change:useFieldModals\", newVal);\n    },\n  },\n\n  mounted: function (): void {\n    eventBus.$on(\"control-panel:show\", () => {\n      this.open = true;\n    });\n  },\n\n  methods: {\n    showFamilyModal() {\n      eventBus.$emit(\"show:family-selector\");\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ControlPanel.vue?vue&type=template&id=3805269e&scoped=true&\"\nimport script from \"./ControlPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./ControlPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ControlPanel.vue?vue&type=style&index=0&id=3805269e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3805269e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('challenge-description',{attrs:{\"ebirdLocIds\":_vm.ebirdLocIds,\"ebirdHotspots\":_vm.ebirdHotspots,\"locationSpecies\":_vm.locationSpecies,\"filteredLocationSpecies\":_vm.filteredLocationSpecies,\"challengeFamilies\":_vm.challengeFamilies,\"commonSpecies\":_vm.commonSpecies,\"recentObservations\":_vm.recentObservations,\"settings\":_vm.settings}}),_c('b-loading',{model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}}),_c('challenge-controls',{attrs:{\"image\":_vm.image,\"recording\":_vm.recording,\"setNextRecording\":_vm.setNextRecording,\"taxonMaps\":_vm.taxonMaps,\"settings\":_vm.settings}}),(_vm.recording)?_c('game-form',{ref:\"gameForm\",attrs:{\"locationSpecies\":_vm.filteredLocationSpecies,\"recording\":_vm.recording,\"image\":_vm.image,\"imageURLMaps\":_vm.imageURLMaps,\"taxonMaps\":_vm.taxonMaps,\"settings\":_vm.settings},on:{\"answer:species-correct\":function (value) { return (_vm.answerIsCorrectSpecies = value); }}}):_vm._e(),(_vm.answerIsCorrectSpecies)?_c('reveal-area',{attrs:{\"image\":_vm.image,\"recording\":_vm.recording,\"recordings\":_vm.otherRecordings,\"settings\":_vm.settings}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _ from \"lodash\";\nimport iso3311a2 from \"iso-3166-1-alpha-2\";\nimport {\n  EbirdHotspot,\n  EbirdSpecies,\n  Recording,\n  XenoCantoRecording\n} from \"./types\";\nimport { ebirdSpecies } from \"./ebird\";\n\nasync function fetchXenoCantoRecordings(\n  query: string\n): Promise<XenoCantoRecording[]> {\n  const response = await fetch(\n    `${\n      process.env.VUE_APP_SERVER_URL\n    }/proxy/xeno-canto/2/recordings?query=${encodeURIComponent(query)}`\n  );\n  const text = await response.text();\n  if (text) {\n    return JSON.parse(text).recordings;\n  } else {\n    return [];\n  }\n}\n\nfunction makeQuery(species: EbirdSpecies, locations: EbirdHotspot[]): string {\n  const genus = ebirdSpecies.getGenus(species);\n  const speciesSci = ebirdSpecies.getSpeciesSci(species);\n\n  var query = `${speciesSci}+gen:${genus}`;\n  const countryCodes = new Set(locations.map(loc => loc.countryCode));\n  if (countryCodes.size === 1) {\n    const [countryCode] = countryCodes;\n    const country = iso3311a2.getCountry(countryCode);\n    if (country) {\n      query = `${query}+cnt:\"${country}\"+q:A`;\n    }\n  }\n  return query;\n}\n\nexport async function fetchRecordings(\n  species: EbirdSpecies,\n  locations: EbirdHotspot[]\n): Promise<Recording[]> {\n  const query = makeQuery(species, locations);\n  const xcRecs = await fetchXenoCantoRecordings(query);\n  return xcRecs.map(x => makeRecording(x, species));\n}\n\nfunction makeRecording(\n  xcRec: XenoCantoRecording,\n  species: EbirdSpecies\n): Recording {\n  const familySci = ebirdSpecies.getFamilySci(species);\n  const familyEn = ebirdSpecies.getFamilyEn(species);\n  const genus = ebirdSpecies.getGenus(species);\n  const speciesSci = ebirdSpecies.getSpeciesSci(species);\n  const speciesEn = ebirdSpecies.getSpeciesEn(species);\n  return {\n    url: xcRec.file,\n    familySci: familySci,\n    familyEn: familyEn,\n    genus: genus,\n    speciesSci: speciesSci,\n    speciesEn: speciesEn,\n    raw: xcRec\n  };\n}\n\nexport function isSong(type: string): boolean {\n  const words = new Set(type.toLowerCase().split(\" \"));\n  return words.has(\"song\") || words.has(\"duet\");\n}\n","export function isDefaultSelectedFamily(\n  family: string,\n  family2order: Map<string, string>\n): boolean {\n  const nonPasserineDefaultSelectedFamilies = new Set([\n    \"Tinamous\",\n    \"Screamers\",\n    \"Pigeons and Doves\",\n    \"Cuckoos\",\n    \"Trogons\",\n    \"Motmots\",\n    \"Puffbirds\",\n    \"Jacamars\",\n    \"New World Barbets\",\n    \"Toucans\",\n    \"Woodpeckers\"\n  ]);\n  return (\n    family2order.get(family) === \"Passeriformes\" ||\n    nonPasserineDefaultSelectedFamilies.has(family)\n  );\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"mt-3\",attrs:{\"controls\":\"\",\"src\":_vm.recording.url,\"preload\":_vm.preload},on:{\"loadedmetadata\":function (ev) {\n      _vm.debug(['loadedmetadata']);\n      ev.target.play();\n    },\"loadeddata\":function (ev) {\n      _vm.debug(['loadeddata']);\n    },\"canplay\":function (ev) {\n      _vm.debug(['canplay']);\n    },\"canplaythrough\":function (ev) {\n      _vm.debug(['canplaythrough']);\n      ev.target.play();\n    },\"playing\":function (ev) {\n      _vm.debug(['playing']);\n    },\"play\":function (ev) {\n      _vm.debug(['play']);\n      _vm.eventBus.$emit('ready:challenge-recording');\n    }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport { debug } from \"./utils\";\nimport eventBus from \"./event-bus\";\nimport { Recording } from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    recording: Object as PropType<Recording>,\n    preload: { type: String, default: \"metadata\" },\n  },\n  data() {\n    return {\n      eventBus,\n      debug,\n    };\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordingPlayer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordingPlayer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RecordingPlayer.vue?vue&type=template&id=b7f26996&scoped=true&\"\nimport script from \"./RecordingPlayer.vue?vue&type=script&lang=ts&\"\nexport * from \"./RecordingPlayer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RecordingPlayer.vue?vue&type=style&index=0&id=b7f26996&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7f26996\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',[_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.familySci},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"familySciField\",attrs:{\"id\":\"familySci\",\"initial\":_vm.answer.familySci,\"handler\":_vm.handleFamilySci,\"shouldShow\":_vm.shouldShowScientificNames,\"filter\":_vm.filterFamilySci,\"truth\":_vm.truth.familySci,\"getImageURLs\":_vm.getFamilySciImageURLs,\"imageLabelFn\":function (im) { return im.species.split(' ')[0]; },\"label\":_vm.shouldShowEnglishNames ? 'Family (scientific)' : 'Family'},on:{\"focus\":function($event){_vm.isModal.familySci = true},\"select\":function($event){_vm.isModal.familySci = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.familyEn},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"familyEnField\",attrs:{\"id\":\"familyEn\",\"initial\":_vm.answer.familyEn,\"handler\":_vm.handleFamilyEn,\"shouldShow\":_vm.shouldShowEnglishNames,\"filter\":_vm.filterFamilyEn,\"truth\":_vm.truth.familyEn,\"getImageURLs\":_vm.getFamilyEnImageURLs,\"imageLabelFn\":function (im) { return im.species.split(' ')[0]; },\"label\":_vm.shouldShowScientificNames ? 'Family (English)' : 'Family'},on:{\"focus\":function($event){_vm.isModal.familyEn = true},\"select\":function($event){_vm.isModal.familyEn = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.genus},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"genusField\",attrs:{\"id\":\"genus\",\"initial\":_vm.answer.genus,\"handler\":_vm.handleGenus,\"shouldShow\":true,\"filter\":_vm.filterGenus,\"truth\":_vm.truth.genus,\"getImageURLs\":_vm.getGenusImageURLs,\"imageLabelFn\":function (im) { return im.species.split(' ')[1]; },\"label\":'Genus'},on:{\"focus\":function($event){_vm.isModal.genus = true},\"select\":function($event){_vm.isModal.genus = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.speciesSci},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"speciesSciField\",attrs:{\"id\":\"speciesSci\",\"initial\":_vm.answer.speciesSci,\"handler\":_vm.handleSpeciesSci,\"shouldShow\":_vm.shouldShowScientificNames,\"filter\":_vm.filterSpeciesSci,\"truth\":_vm.truth.speciesSci,\"getImageURLs\":_vm.getSpeciesSciImageURLs,\"imageLabelFn\":function (im) { return ''; },\"label\":_vm.shouldShowEnglishNames ? 'Species (scientific)' : 'Species'},on:{\"focus\":function($event){_vm.isModal.speciesSci = true},\"select\":function($event){_vm.isModal.speciesSci = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.speciesEn},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"speciesEnField\",attrs:{\"id\":\"speciesEn\",\"initial\":_vm.answer.speciesEn,\"handler\":_vm.handleSpeciesEn,\"shouldShow\":_vm.shouldShowEnglishNames,\"filter\":_vm.filterSpeciesEn,\"truth\":_vm.truth.speciesEn,\"getImageURLs\":_vm.getSpeciesEnImageURLs,\"imageLabelFn\":function (im) { return ''; },\"label\":_vm.shouldShowScientificNames ? 'Species (English)' : 'Species'},on:{\"focus\":function($event){_vm.isModal.speciesEn = true},\"select\":function($event){_vm.isModal.speciesEn = false}}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shouldShow)?_c('div',{staticClass:\"level\",attrs:{\"id\":_vm.id}},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field has-addons\",staticStyle:{\"width\":\"100%\"}},[_c('p',{staticClass:\"control\",staticStyle:{\"width\":\"100%\"}},[_c('b-field',{attrs:{\"type\":_vm.fieldType}},[_c('b-autocomplete',{ref:\"autocomplete\",attrs:{\"type\":\"text\",\"placeholder\":_vm.label,\"data\":_vm.filteredCandidates,\"open-on-focus\":true,\"dropdown-position\":\"bottom\",\"max-height\":\"100vh\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},on:{\"focus\":_vm.handleFocus,\"select\":_vm.handleSelect,\"blur\":_vm.handleBlur},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(_vm.isMobile)?_c('game-form-field-dropdown-row-mobile',{attrs:{\"images\":_vm.getImageURLs(props.option),\"imageLabelFn\":_vm.imageLabelFn,\"option\":props.option}}):_c('game-form-field-dropdown-row',{attrs:{\"images\":_vm.getImageURLs(props.option),\"imageLabelFn\":_vm.imageLabelFn,\"option\":props.option}})]}}],null,false,106505359),model:{value:(_vm.answer),callback:function ($$v) {_vm.answer=$$v},expression:\"answer\"}})],1)],1),_c('p',{staticClass:\"control\"},[(_vm.answer && _vm.answer != _vm.truth && _vm.showInputButtons)?_c('b-button',{on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"fas fa-eraser\"})]):_vm._e()],1),_c('p',{staticClass:\"control\"},[(_vm.answer != _vm.truth && _vm.showInputButtons)?_c('b-button',{on:{\"click\":_vm.reveal}},[_c('i',{staticClass:\"fas fa-eye\"})]):_vm._e()],1)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item has-text-left ml-2\",staticStyle:{\"width\":\"220px\"}},[_c('b',[_vm._v(_vm._s(_vm.option))])])]),_c('div',{staticClass:\"x-scrollable\",attrs:{\"width\":\"100%\"}},[_c('div',{staticClass:\"level-left\",staticStyle:{\"overflow-x\":\"hidden\",\"width\":\"9999px\"}},_vm._l((_vm.images),function(im,i){return _c('div',{key:i,staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('img',{staticStyle:{\"height\":\"160px\"},attrs:{\"src\":im.urls[0]}}),_c('p',{staticClass:\"help has-text-centered\"},[_c('i',[_vm._v(_vm._s(_vm.imageLabelFn(im)))])])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport { SpeciesImages } from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    option: String,\n    images: Array as PropType<SpeciesImages[]>,\n    imageLabelFn: Function,\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormFieldDropdownRow.vue?vue&type=template&id=4b506920&scoped=true&\"\nimport script from \"./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameFormFieldDropdownRow.vue?vue&type=style&index=0&id=4b506920&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b506920\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-1\"},[_c('b',[_vm._v(_vm._s(_vm.option))])]),_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"x-scrollable\",attrs:{\"width\":\"100%\"}},[_c('div',{staticClass:\"level-left\",staticStyle:{\"overflow-x\":\"hidden\",\"width\":\"9999px\"}},[_c('div',{staticClass:\"level-item is-justify-content-left\"},[_c('div',_vm._l((_vm.images),function(im,i){return _c('span',{key:i},[_c('img',{staticStyle:{\"height\":\"100px\"},attrs:{\"src\":im.urls[0]}})])}),0)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport { SpeciesImages } from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    option: String,\n    images: Array as PropType<SpeciesImages[]>,\n    imageLabelFn: Function,\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormFieldDropdownRowMobile.vue?vue&type=template&id=053663aa&scoped=true&\"\nimport script from \"./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameFormFieldDropdownRowMobile.vue?vue&type=style&index=0&id=053663aa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"053663aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { isMobile } from \"mobile-device-detect\";\n\nimport { debug, transformTaxonName } from \"./utils\";\nimport GameFormFieldDropdownRow from \"./GameFormFieldDropdownRow.vue\";\nimport GameFormFieldDropdownRowMobile from \"./GameFormFieldDropdownRowMobile.vue\";\n\nexport default Vue.extend({\n  components: { GameFormFieldDropdownRow, GameFormFieldDropdownRowMobile },\n  props: {\n    initial: String,\n    shouldShow: Boolean,\n    id: String,\n    label: String,\n    filter: Function,\n    truth: String,\n    getImageURLs: Function,\n    imageLabelFn: Function,\n    handler: Function,\n  },\n  mounted() {\n    this.dismissMobileKeyboardOnDropdownScroll();\n    // The following call is needed in the case where\n    // this component is being mounted in its non-modal form,\n    // after a value has been entered in a modal instance of this component.\n  },\n  data() {\n    return {\n      answer: this.initial,\n      showInputButtons: true,\n      isMobile,\n    };\n  },\n  computed: {\n    filteredCandidates(): string[] {\n      debug([`${this.id}.filteredCandidates:`, JSON.stringify(this.answer)]);\n      return this.filter(this.answer);\n    },\n\n    fieldType(): string {\n      if (this.answer && this.truth) {\n        return this.isCorrect() ? \"is-success\" : \"is-danger\";\n      } else {\n        return \"\";\n      }\n    },\n  },\n  watch: {\n    answer: {\n      sync: true,\n      handler: function (value: string): void {\n        debug([`${this.id}: watch: answer:`, JSON.stringify(value)]);\n        this.handler(value);\n      },\n    } as any, // sync is private\n  },\n  methods: {\n    clear(): void {\n      debug([`GameFormField(${this.id}).clear`]);\n      this.answer = \"\";\n      this.handler(this.answer);\n    },\n\n    reveal(): void {\n      debug([\n        `GameFormField(${this.id}).reveal:`,\n        JSON.stringify(this.answer),\n        JSON.stringify(this.truth),\n      ]);\n      this.answer = this.truth;\n    },\n\n    handleFocus() {\n      this.showInputButtons = false;\n      this.$emit(\"focus\");\n    },\n\n    handleBlur() {\n      this.showInputButtons = true;\n    },\n\n    handleSelect(answer: string) {\n      debug([\n        `GameFormField(${this.id}).handleSelect:`,\n        JSON.stringify(answer),\n      ]);\n      this.showInputButtons = true;\n      if (answer) {\n        this.answer = answer;\n        this.handler(this.answer);\n        this.$emit(\"select\");\n      }\n    },\n\n    isCorrect(): boolean {\n      debug([\n        `${this.id}.isCorrect:`,\n        transformTaxonName(this.truth),\n        transformTaxonName(this.answer),\n      ]);\n      return transformTaxonName(this.truth) === transformTaxonName(this.answer);\n    },\n\n    dismissMobileKeyboardOnDropdownScroll(): void {\n      const autocomplete = this.$refs.autocomplete as any;\n      const input = autocomplete?.$refs.input.$refs.input as HTMLElement;\n      const dropdown = autocomplete?.$refs.dropdown as HTMLElement;\n      const dropdownContent = dropdown?.querySelector(\n        \".dropdown-content\"\n      ) as HTMLElement;\n      if (input && dropdownContent) {\n        dropdownContent.onscroll = () => {\n          // The purpose of this handler is to cause the soft keyboard of\n          // mobile devices to be dismissed when the user starts scrolling.\n\n          // On iOS and Safari, a single onscroll event is emitted\n          // *after* selecting a dropdown item. Since at that point the\n          // dropdown is closed, we do not want this handler to run.\n          if (autocomplete.isActive) {\n            input.blur();\n            // If the input is focused, scrolling will emit a single blur event.\n            // Since we have arranged for blur events to show the buttons,\n            // we counteract this here.\n            this.showInputButtons = false;\n          }\n        };\n      } else {\n        debug([\n          \"Failed to obtain references to input and dropdown HTML elements.\",\n        ]);\n      }\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormField.vue?vue&type=template&id=320a3cdb&scoped=true&\"\nimport script from \"./GameFormField.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameFormField.vue?vue&type=style&index=0&id=320a3cdb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"320a3cdb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isModal)?_c('b-modal',{attrs:{\"active\":true,\"full-screen\":\"\"}},[_vm._t(\"form-field\")],2):_c('div',{staticClass:\"m-4\"},[_vm._t(\"form-field\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nexport default Vue.extend({\n  props: { isModal: Boolean },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormFieldContainer.vue?vue&type=template&id=ca3675de&\"\nimport script from \"./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport _ from \"lodash\";\nimport Vue, { PropType } from \"vue\";\n\nimport { debug, transformTaxonName } from \"./utils\";\nimport { EbirdSpecies } from \"./types\";\nimport { ebirdSpecies } from \"./ebird\";\nimport {\n  Answer,\n  ImageMaps,\n  NamesLanguage,\n  Recording,\n  Settings,\n  SpeciesImages,\n  TaxonMaps,\n} from \"./types\";\nimport GameFormField from \"./GameFormField.vue\";\nimport GameFormFieldContainer from \"./GameFormFieldContainer.vue\";\n\ntype GameFormFieldInstance = InstanceType<typeof GameFormField>;\n\nexport default Vue.extend({\n  components: { GameFormFieldContainer, GameFormField },\n  props: {\n    locationSpecies: Array as PropType<EbirdSpecies[]>,\n    recording: Object as PropType<Recording | null>,\n    image: String as PropType<string | null>,\n    imageURLMaps: Object as PropType<ImageMaps>,\n    taxonMaps: Object as PropType<TaxonMaps>,\n    settings: Object as PropType<Settings>,\n  },\n  data() {\n    return {\n      answer: {\n        familySci: \"\",\n        familyEn: \"\",\n        genus: \"\",\n        speciesSci: \"\",\n        speciesEn: \"\",\n      } as Answer,\n      isModal: {\n        familySci: false,\n        familyEn: false,\n        genus: false,\n        speciesSci: false,\n        speciesEn: false,\n      },\n    };\n  },\n\n  computed: {\n    shouldShowScientificNames(): boolean {\n      return new Set([NamesLanguage.Scientific, NamesLanguage.Both]).has(\n        this.settings.names\n      );\n    },\n\n    shouldShowEnglishNames(): boolean {\n      return new Set([NamesLanguage.English, NamesLanguage.Both]).has(\n        this.settings.names\n      );\n    },\n\n    truth(): Answer {\n      debug([`GameForm.truth:`, JSON.stringify(this.recording)]);\n      if (this.recording) {\n        return {\n          familySci: this.recording.familySci,\n          familyEn: this.recording.familyEn,\n          genus: this.recording.genus,\n          speciesSci: this.recording.speciesSci,\n          speciesEn: this.recording.speciesEn,\n        };\n      } else {\n        return {\n          familySci: \"\",\n          familyEn: \"\",\n          genus: \"\",\n          speciesSci: \"\",\n          speciesEn: \"\",\n        };\n      }\n    },\n\n    familySciField(): GameFormFieldInstance {\n      return this.$refs.familySciField as GameFormFieldInstance;\n    },\n\n    familyEnField(): GameFormFieldInstance {\n      return this.$refs.familyEnField as GameFormFieldInstance;\n    },\n\n    genusField(): GameFormFieldInstance {\n      return this.$refs.genusField as GameFormFieldInstance;\n    },\n\n    speciesSciField(): GameFormFieldInstance {\n      return this.$refs.speciesSciField as GameFormFieldInstance;\n    },\n\n    speciesEnField(): GameFormFieldInstance {\n      return this.$refs.speciesEnField as GameFormFieldInstance;\n    },\n  },\n\n  methods: {\n    handleFamilySci(value: string): void {\n      debug([\"handleFamilySci:\", JSON.stringify(value)]);\n      this.answer.familySci = value;\n      const familyEn = this.taxonMaps.familySci2En.get(value) || \"\";\n      this.familyEnField.answer = familyEn;\n      if (!familyEn) {\n        this.genusField.answer = \"\";\n      }\n    },\n\n    handleFamilyEn(value: string): void {\n      debug([\"handleFamilyEn:\", JSON.stringify(value)]);\n      this.answer.familyEn = value;\n      const familySci = this.taxonMaps.familyEn2Sci.get(value) || \"\";\n      this.familySciField.answer = familySci;\n    },\n\n    handleGenus(value: string): void {\n      debug([\"handleGenus:\", JSON.stringify(value)]);\n      this.answer.genus = value;\n      const familySci = this.taxonMaps.genus2familySci.get(value);\n      if (familySci) {\n        this.familySciField.answer = familySci;\n      } else {\n        this.speciesSciField.answer = \"\";\n      }\n    },\n\n    handleSpeciesSci(value: string): void {\n      debug([\"handleSpeciesSci:\", JSON.stringify(value)]);\n      this.answer.speciesSci = value;\n      // Autofill speciesEn\n      const speciesEn = this.taxonMaps.speciesSci2En.get(value) || \"\";\n      (this.$refs.speciesEnField as any).answer = speciesEn;\n      // Autofill genus if the species is valid\n      const genus = this.taxonMaps.speciesSci2genus.get(value);\n      if (genus) {\n        this.genusField.answer = genus;\n      }\n      this.$emit(\"answer:species-correct\", this.speciesSciField.isCorrect());\n    },\n\n    handleSpeciesEn(value: string): void {\n      debug([\"handleSpeciesEn:\", JSON.stringify(value)]);\n      this.answer.speciesEn = value;\n      // Autofill speciesSci\n      const speciesSci = this.taxonMaps.speciesEn2Sci.get(value) || \"\";\n      this.speciesSciField.answer = speciesSci;\n      this.$emit(\"answer:species-correct\", this.speciesEnField.isCorrect());\n    },\n\n    getSpeciesSciImageURLs(answer: string): SpeciesImages[] {\n      if (this.settings.promptIncludesImages) {\n        return [];\n      }\n      return this._getImageURLs(\n        answer,\n        this.imageURLMaps.speciesSciName2images\n      );\n    },\n\n    getSpeciesEnImageURLs(answer: string): SpeciesImages[] {\n      if (this.settings.promptIncludesImages) {\n        return [];\n      }\n      return this._getImageURLs(\n        this.taxonMaps.speciesEn2Sci.get(answer) || \"\",\n        this.imageURLMaps.speciesSciName2images\n      );\n    },\n\n    getGenusImageURLs(answer: string): SpeciesImages[] {\n      return this._getImageURLs(answer, this.imageURLMaps.genus2images);\n    },\n\n    getFamilySciImageURLs(answer: string): SpeciesImages[] {\n      return this._getImageURLs(answer, this.imageURLMaps.familySci2images);\n    },\n\n    getFamilyEnImageURLs(answer: string): SpeciesImages[] {\n      return this._getImageURLs(answer, this.imageURLMaps.familyEn2images);\n    },\n\n    _getImageURLs(\n      answer: string,\n      imageURLMap: Map<string, SpeciesImages[]>\n    ): SpeciesImages[] {\n      var images = imageURLMap.get(answer) || [];\n      if (this.settings.promptIncludesImages && this.image) {\n        images = images.filter((im) => !new Set(im.urls).has(this.image || \"\")); // TODO\n      }\n      return Array.from(images);\n    },\n\n    clear(): void {\n      this.familySciField.clear();\n      this.familyEnField.clear();\n      this.genusField.clear();\n      this.speciesSciField.clear();\n      this.speciesEnField.clear();\n    },\n\n    // filter*\n\n    filterFamilySci(answer: string): string[] {\n      return this._filter(\n        answer,\n        this.isFamilySciMatch,\n        ebirdSpecies.getFamilySci\n      );\n    },\n\n    filterFamilyEn(answer: string): string[] {\n      debug([\"filterFamilyEn:\", JSON.stringify(answer)]);\n      return this._filter(\n        answer,\n        this.isFamilyEnMatch,\n        ebirdSpecies.getFamilyEn\n      );\n    },\n\n    filterGenus(answer: string): string[] {\n      return this._filter(answer, this.isGenusMatch, ebirdSpecies.getGenus);\n    },\n\n    filterSpeciesSci(answer: string): string[] {\n      return this._filter(\n        answer,\n        this.isSpeciesSciMatch,\n        ebirdSpecies.getSpeciesSci\n      );\n    },\n\n    filterSpeciesEn(answer: string): string[] {\n      return this._filter(\n        answer,\n        this.isSpeciesEnMatch,\n        ebirdSpecies.getSpeciesEn\n      );\n    },\n\n    _filter(\n      answer: string,\n      matchFn: Function,\n      mapFn: (_: EbirdSpecies) => string\n    ): string[] {\n      return _.uniq(\n        this.locationSpecies.filter((sp) => matchFn(answer, sp)).map(mapFn)\n      );\n    },\n\n    // is*Match\n\n    isFamilySciMatch(answer: string, species: EbirdSpecies): boolean {\n      return _startsWith(species.familySciName, answer);\n    },\n\n    isFamilyEnMatch(answer: string, species: EbirdSpecies): boolean {\n      return _includes(species.familyComName, answer);\n    },\n\n    isGenusMatch(answer: string, species: EbirdSpecies): boolean {\n      if (\n        this.answer.familySci &&\n        !this.isFamilySciMatch(this.answer.familySci, species)\n      ) {\n        return false;\n      }\n      if (\n        this.answer.familyEn &&\n        !this.isFamilyEnMatch(this.answer.familyEn, species)\n      ) {\n        return false;\n      }\n      return _startsWith(ebirdSpecies.getGenus(species), answer);\n    },\n\n    isSpeciesSciMatch(answer: string, species: EbirdSpecies): boolean {\n      if (\n        this.answer.familySci &&\n        !this.isFamilySciMatch(this.answer.familySci, species)\n      ) {\n        return false;\n      }\n      if (this.answer.genus && !this.isGenusMatch(this.answer.genus, species)) {\n        return false;\n      }\n      return (\n        _startsWith(ebirdSpecies.getSpeciesSciSp(species), answer) ||\n        _startsWith(ebirdSpecies.getSpeciesSci(species), answer)\n      );\n    },\n\n    isSpeciesEnMatch(answer: string, species: EbirdSpecies): boolean {\n      if (\n        this.answer.familyEn &&\n        !this.isFamilyEnMatch(this.answer.familyEn, species)\n      ) {\n        return false;\n      }\n      if (this.answer.genus && !this.isGenusMatch(this.answer.genus, species)) {\n        return false;\n      }\n      return _includes(ebirdSpecies.getSpeciesEn(species), answer);\n    },\n  },\n});\n\nfunction _includes(truth: string, answer: string): boolean {\n  truth = transformTaxonName(truth);\n  answer = transformTaxonName(answer);\n  if (answer.length > 1) {\n    return truth.includes(answer);\n  } else {\n    return truth.startsWith(answer);\n  }\n}\n\nfunction _startsWith(truth: string, answer: string): boolean {\n  return transformTaxonName(truth).startsWith(transformTaxonName(answer));\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameForm.vue?vue&type=template&id=4a5e4308&scoped=true&\"\nimport script from \"./GameForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameForm.vue?vue&type=style&index=0&id=4a5e4308&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a5e4308\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('p',[_c('a',{attrs:{\"href\":_vm.recordingSpeciesWikipediaURL(),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.recordingSpeciesSciName())+\" \")])]),(_vm.image && !_vm.settings.promptIncludesImages)?_c('img',{attrs:{\"src\":_vm.image}}):_vm._e(),(_vm.settings.promptIncludesRecording && _vm.recording)?_c('b-dropdown',{scopedSlots:_vm._u([{key:\"trigger\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('b-button',{attrs:{\"icon-right\":\"chevron-down\",\"icon-pack\":\"fas\"}},[_c('i',{staticClass:\"fas fa-volume-up\"})])]}}],null,false,1660682314)},_vm._l((_vm.recordings),function(rec){return _c('b-dropdown-item',{key:rec.url},[_c('ul',[(rec.url != _vm.recording.url)?_c('li',[_c('ul',[_c('li',[_c('recording-player',{attrs:{\"recording\":rec,\"preload\":'none'}})],1),_c('li',[_vm._v(_vm._s(rec.raw.loc)+\", \"+_vm._s(rec.raw.cnt))])])]):_vm._e()])])}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport { NamesLanguage, Recording, Settings } from \"./types\";\nimport RecordingPlayer from \"./RecordingPlayer.vue\";\n\nexport default Vue.extend({\n  components: { RecordingPlayer },\n  props: {\n    image: String,\n    recording: Object as PropType<Recording>,\n    recordings: Array as PropType<Recording[]>,\n    settings: Object as PropType<Settings>,\n  },\n  methods: {\n    recordingSpeciesWikipediaURL(): string | null {\n      if (this.recording) {\n        return `https://en.wikipedia.org/w/index.php?title=${this.recording.speciesSci.replace(\n          \" \",\n          \"_\"\n        )}`;\n      } else {\n        return null;\n      }\n    },\n    recordingSpeciesSciName(): string | null {\n      if (this.recording) {\n        const speciesEn = this.recording.speciesEn;\n        if (this.settings.names == NamesLanguage.English) {\n          return speciesEn;\n        } else {\n          const speciesSci = this.recording.speciesSci;\n          if (this.settings.names == NamesLanguage.Scientific) {\n            return speciesSci;\n          } else {\n            return `${speciesSci} (${speciesEn})`;\n          }\n        }\n      } else {\n        return null;\n      }\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevealArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevealArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevealArea.vue?vue&type=template&id=dd1baeb2&\"\nimport script from \"./RevealArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevealArea.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.ebirdHotspots.length > 0 ? _vm.ebirdHotspots.map(function (h) { return h.locName; }).join(\", \") : _vm.ebirdLocIds.join(\", \"))+\" \")]),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.locationSpecies.length)+\" species\")]),_c('li',[_c('b-dropdown',{scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('a',{attrs:{\"role\":\"button\"}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.filteredLocationSpecies.length)+\" species in challenge \")]),_c('i',{staticClass:\"fas fa-chevron-down\"})])]},proxy:true}])},[_c('b-dropdown-item',[_vm._v(\" \"+_vm._s(_vm.nSelectedFamilies)+\" / \"+_vm._s(_vm.challengeFamilies.size)+\" families selected \")]),(_vm.settings.commonSpeciesOnly)?_c('b-dropdown-item',[_vm._v(\" Restricting to \"+_vm._s(_vm.commonSpecies.size)+\" recently observed species. \")]):_vm._e()],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport {\n  ChallengeFamily,\n  EbirdHotspot,\n  EbirdObservation,\n  EbirdSpecies,\n  Settings,\n} from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    ebirdLocIds: Array as PropType<string[]>,\n    ebirdHotspots: Array as PropType<EbirdHotspot[]>,\n    locationSpecies: Array as PropType<EbirdSpecies[]>,\n    filteredLocationSpecies: Array as PropType<EbirdSpecies[]>,\n    challengeFamilies: Map as PropType<Map<string, ChallengeFamily>>,\n    commonSpecies: Set as PropType<Set<string>>,\n    recentObservations: Array as PropType<EbirdObservation[]>,\n    settings: Object as PropType<Settings>,\n  },\n  computed: {\n    nSelectedFamilies(): number {\n      return [...this.challengeFamilies.values()].filter(\n        ({ selected }) => selected\n      ).length;\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeDescription.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeDescription.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChallengeDescription.vue?vue&type=template&id=4fba9874&\"\nimport script from \"./ChallengeDescription.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChallengeDescription.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[(!_vm.recording)?_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"light is-large\",on:{\"click\":_vm.setNextRecording}},[_c('i',{staticClass:\"fas fa-play\"})])],1)])])]):_c('ul',{staticClass:\"box has-text-centered\"},[_c('li',[_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"light\",on:{\"click\":_vm.setNextRecording}},[_c('i',{staticClass:\"fas fa-step-forward\"})])],1)])])])]),_c('li',[_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('recording-player',{attrs:{\"recording\":_vm.recording}})],1)])]),(_vm.image && _vm.settings.promptIncludesImages)?_c('p',{staticClass:\"level-item\"},[_c('img',{attrs:{\"src\":_vm.image}})]):_vm._e()])]),_c('li',[_vm._v(_vm._s(_vm.recording.raw.loc)+\", \"+_vm._s(_vm.recording.raw.cnt))]),_c('li',[_vm._v(_vm._s(_vm.recording.raw.type))]),(_vm.recording.raw.also.filter(Boolean).length > 0)?_c('li',[_c('small',[_vm._v(\" Also in recording: \"),_vm._l((_vm.recording.raw.also),function(sp,index){return _c('span',{key:index},[(_vm.settings.names === _vm.NamesLanguage.Scientific)?_c('i',[_vm._v(_vm._s(sp))]):_c('span',[_vm._v(\" \"+_vm._s(_vm.taxonMaps.speciesSci2En.get(sp) || \"\")+\" \"),(_vm.settings.names === _vm.NamesLanguage.Both)?_c('span',[_vm._v(\" (\"),_c('i',[_vm._v(_vm._s(sp))]),_vm._v(\")\")]):_vm._e()]),(index + 1 < _vm.recording.raw.also.length)?_c('span',[_vm._v(\", \")]):_vm._e()])})],2)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport { NamesLanguage, Recording, Settings, TaxonMaps } from \"./types\";\n\nimport RecordingPlayer from \"./RecordingPlayer.vue\";\n\nexport default Vue.extend({\n  components: { RecordingPlayer },\n  props: {\n    image: String,\n    recording: Object as PropType<Recording | null>,\n    setNextRecording: Function,\n    taxonMaps: Object as PropType<TaxonMaps>,\n    settings: Object as PropType<Settings>,\n  },\n  data() {\n    return { NamesLanguage };\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChallengeControls.vue?vue&type=template&id=7db9f729&\"\nimport script from \"./ChallengeControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChallengeControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport _ from \"lodash\";\nimport Vue, { PropType } from \"vue\";\n\nimport {\n  fetchEbirdHotspots,\n  ebirdSpecies,\n  fetchLocationSpecies,\n  fetchRecentObservations,\n  fetchSpeciesImages,\n  fetchEbirdHotspotsByLatLng,\n} from \"./ebird\";\nimport { fetchRecordings, isSong } from \"./xeno-canto\";\nimport { isDefaultSelectedFamily } from \"./birds\";\nimport RecordingPlayer from \"./RecordingPlayer.vue\";\nimport {\n  LocationRequest,\n  ChallengeFamily,\n  EbirdHotspot,\n  EbirdObservation,\n  EbirdSpecies,\n  TaxonMaps,\n  ImageMaps,\n  Recording,\n  Settings,\n  SpeciesImages,\n  XenoCantoRecording,\n} from \"./types\";\nimport GameForm from \"./GameForm.vue\";\n\nimport eventBus from \"./event-bus\";\nimport RevealArea from \"./RevealArea.vue\";\nimport ChallengeDescription from \"./ChallengeDescription.vue\";\nimport ChallengeControls from \"./ChallengeControls.vue\";\n\nexport default Vue.extend({\n  name: \"Home\",\n  components: {\n    RecordingPlayer,\n    GameForm,\n    RevealArea,\n    ChallengeDescription,\n    ChallengeControls,\n  },\n  props: {\n    locationRequest: Object as PropType<LocationRequest>,\n    settings: Object as PropType<Settings>,\n  },\n\n  data() {\n    return {\n      ebirdLocIds: [] as string[],\n      ebirdHotspots: [] as EbirdHotspot[],\n      locationSpecies: [] as EbirdSpecies[],\n      filteredLocationSpecies: [] as EbirdSpecies[],\n      commonSpecies: new Set([]) as Set<string>,\n      recentObservations: [] as EbirdObservation[],\n      challengeFamilies: new Map([]) as Map<string, ChallengeFamily>,\n      selectedFamilies: new Set([]) as Set<string>,\n      speciesImages: [] as SpeciesImages[],\n      taxonMaps: makeTaxonMaps([]),\n      imageURLMaps: makeImageMaps([], []),\n      challengeRecordingsIterator: makeEmptyRecordingsIterator() as AsyncGenerator<\n        [Recording, Recording[]]\n      >,\n      recording: null as Recording | null,\n      otherRecordings: [] as Recording[],\n      haveLocationData: false,\n      challengeActive: false,\n      image: \"\",\n      answerIsCorrectSpecies: false,\n    };\n  },\n\n  created: async function () {\n    if (!this.settings.disableNetworkRequests) {\n      await this.fetchLocationData();\n    }\n    this.haveLocationData = true;\n    this.imageURLMaps = makeImageMaps(this.speciesImages, this.locationSpecies);\n    this.taxonMaps = makeTaxonMaps(this.locationSpecies);\n    this.commonSpecies = new Set(\n      this.recentObservations\n        .map((obs) => this.taxonMaps.speciesCode2SciName.get(obs.speciesCode))\n        .filter(Boolean) as any\n    );\n    this.challengeFamilies = makeChallengeFamilies(this.locationSpecies);\n    eventBus.$emit(\"set:challenge-families\", this.challengeFamilies);\n    this.filterSpecies();\n    this.challengeRecordingsIterator = this.makeChallengeRecordingsIterator();\n  },\n\n  mounted: function () {\n    eventBus.$on(\"family:select\", this.handleFamilySelection);\n    eventBus.$on(\"change:species-filters\", this.filterSpecies);\n    eventBus.$on(\n      \"ready:challenge-recording\",\n      () => (this.challengeActive = true)\n    );\n  },\n\n  computed: {\n    isLoading(): Boolean {\n      return !this.haveLocationData;\n    },\n  },\n\n  methods: {\n    async fetchLocationData(): Promise<void> {\n      try {\n        // Determine locations from request parameters\n        if (this.locationRequest.ebirdLocId) {\n          this.ebirdLocIds = [this.locationRequest.ebirdLocId];\n        } else if (this.locationRequest.latlng) {\n          this.ebirdHotspots = await fetchEbirdHotspotsByLatLng(\n            this.locationRequest.latlng\n          );\n          this.ebirdLocIds = this.ebirdHotspots.map((h) => h.locId);\n        } else {\n          throw \"Expected ebird ebirdLocId or coordinates\";\n        }\n        // In parallel: given locations, fetch combined species list, hotspot info, and recent observations.\n        [\n          this.locationSpecies,\n          this.ebirdHotspots,\n          this.recentObservations,\n        ] = await Promise.all([\n          fetchLocationSpecies(this.ebirdLocIds),\n          this.ebirdHotspots.length > 0\n            ? Promise.resolve(this.ebirdHotspots)\n            : fetchEbirdHotspots(this.ebirdLocIds),\n          fetchRecentObservations(this.ebirdLocIds),\n        ]);\n        // In parallel: given species list, fetch recording and image URLs\n        this.speciesImages = await fetchSpeciesImages(this.locationSpecies);\n        console.log(`Fetched data for ${this.ebirdLocIds.length} locIds:`);\n        console.log(`hotspots: ${this.ebirdHotspots.length}`);\n        console.log(`species: ${this.locationSpecies.length}`);\n        console.log(`images: ${this.speciesImages.length}`);\n        console.log(`recent observations: ${this.recentObservations.length}`);\n      } catch (err) {\n        console.log(\"Error fetching location species and recordings: \", err);\n      }\n    },\n\n    filterSpecies(): void {\n      this.selectedFamilies = new Set(\n        Array.from(this.challengeFamilies.entries())\n          .filter(([_, { selected }]) => selected)\n          .map(([family, _]) => family)\n      );\n      var species = this.locationSpecies.filter((sp) =>\n        this.selectedFamilies.has(\n          this.taxonMaps.species2familyEn.get(sp.sciName) || \"\"\n        )\n      );\n      if (this.settings.commonSpeciesOnly) {\n        species = species.filter((sp) => this.commonSpecies.has(sp.sciName));\n      }\n      this.filteredLocationSpecies = species;\n    },\n\n    handleFamilySelection(family: string, selected: boolean): void {\n      var challengeFamily = this.challengeFamilies.get(family);\n      if (challengeFamily) {\n        challengeFamily.selected = selected;\n        // HACK: force re-evaluation of computed properties depending on this\n        this.challengeFamilies = new Map(this.challengeFamilies);\n      }\n      this.filterSpecies();\n    },\n\n    makeChallengeRecordingsIterator: async function* (): AsyncGenerator<\n      [Recording, Recording[]]\n    > {\n      for (let sp of _.shuffle(this.locationSpecies)) {\n        const recordings = await fetchRecordings(sp, this.ebirdHotspots);\n        // TODO: type\n        for (let recording of this.makeSpeciesRecordingsIterator(\n          recordings\n        ) as any) {\n          yield [recording, recordings];\n          break;\n        }\n      }\n    },\n\n    makeSpeciesRecordingsIterator: function* (\n      recordings: Recording[]\n    ): Iterator<Recording> {\n      for (let recording of _.shuffle(recordings)) {\n        if (this.recordingMatchesFilters(recording.raw, this.settings)) {\n          yield recording;\n        }\n      }\n    },\n\n    recordingMatchesFilters(\n      xcRec: XenoCantoRecording,\n      settings: Settings\n    ): boolean {\n      if (settings.songsOnly && !isSong(xcRec.type)) {\n        return false;\n      }\n      const species = `${xcRec.gen} ${xcRec.sp}`;\n      if (settings.commonSpeciesOnly && !this.commonSpecies.has(species)) {\n        return false;\n      }\n      if (\n        !new Set(this.filteredLocationSpecies.map((sp) => sp.sciName)).has(\n          species\n        )\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    async setNextRecording(): Promise<void> {\n      (this.$refs.gameForm as any)?.clear();\n      this.image = \"\";\n      const rec = await this.challengeRecordingsIterator.next();\n      if (!rec.done) {\n        [this.recording, this.otherRecordings] = rec.value;\n        let images = this.imageURLMaps.speciesSciName2images.get(\n          this.recording.speciesSci\n        );\n        if (images) {\n          let image = images.values().next();\n          if (!image.done && image.value.urls[0]) {\n            this.image = image.value.urls[0];\n          } else {\n            alert(\"No images for species!\");\n          }\n        }\n      } else {\n        alert(\"No more recordings!\");\n      }\n    },\n  },\n});\n\nfunction makeChallengeFamilies(\n  challengeSpecies: EbirdSpecies[]\n): Map<string, ChallengeFamily> {\n  const family2order = new Map(\n    challengeSpecies.map((sp) => [sp.familyComName, sp.order])\n  );\n\n  return new Map(\n    Object.entries(_.groupBy(challengeSpecies, (sp) => sp.familyComName)).map(\n      ([family, spp]) => [\n        family,\n        {\n          n: spp.length,\n          selected: isDefaultSelectedFamily(family, family2order),\n        },\n      ]\n    )\n  );\n}\n\nexport function makeTaxonMaps(species: EbirdSpecies[]): TaxonMaps {\n  const speciesCode2SciName = new Map();\n  const species2familySci = new Map();\n  const species2familyEn = new Map();\n  const familyEn2Sci = new Map();\n  const familySci2En = new Map();\n  const genus2familySci = new Map();\n  const speciesSci2genus = new Map();\n  const speciesSci2En = new Map();\n  const speciesEn2Sci = new Map();\n\n  for (let sp of species) {\n    speciesCode2SciName.set(sp.speciesCode, sp.sciName);\n    species2familySci.set(sp.sciName, sp.familySciName);\n    species2familyEn.set(sp.sciName, sp.familyComName);\n    familyEn2Sci.set(sp.familyComName, sp.familySciName);\n    familySci2En.set(sp.familySciName, sp.familyComName);\n    genus2familySci.set(ebirdSpecies.getGenus(sp), sp.familySciName);\n    speciesSci2genus.set(sp.sciName, ebirdSpecies.getGenus(sp));\n    speciesSci2En.set(sp.sciName, sp.comName);\n    speciesEn2Sci.set(sp.comName, sp.sciName);\n  }\n\n  return {\n    speciesCode2SciName,\n    species2familySci,\n    species2familyEn,\n    familyEn2Sci,\n    familySci2En,\n    genus2familySci,\n    speciesSci2genus,\n    speciesSci2En,\n    speciesEn2Sci,\n  };\n}\n\nfunction makeImageMaps(\n  speciesImages: SpeciesImages[],\n  locationSpecies: EbirdSpecies[]\n): ImageMaps {\n  var speciesSciName2images: Map<string, SpeciesImages[]> = new Map();\n  var genus2images: Map<string, SpeciesImages[]> = new Map();\n  var familySci2images: Map<string, SpeciesImages[]> = new Map();\n  var familyEn2images: Map<string, SpeciesImages[]> = new Map();\n\n  const species2images = new Map(\n    speciesImages.map((obj) => [obj.species, obj])\n  );\n\n  for (let sp of locationSpecies) {\n    let genus = ebirdSpecies.getGenus(sp);\n    let speciesSci = ebirdSpecies.getSpeciesSci(sp);\n    let haveSeenGenus = true;\n    let images = species2images.get(sp.sciName);\n    if (images) {\n      speciesSciName2images.set(speciesSci, [images]);\n\n      if (!genus2images.has(genus)) {\n        genus2images.set(genus, []);\n        haveSeenGenus = false;\n      }\n      genus2images.get(genus)?.push(images);\n      if (!haveSeenGenus) {\n        let familySci = ebirdSpecies.getFamilySci(sp);\n        let familyEn = ebirdSpecies.getFamilyEn(sp);\n        if (!familySci2images.has(familySci)) {\n          familySci2images.set(familySci, []);\n        }\n        if (!familyEn2images.has(familyEn)) {\n          familyEn2images.set(familyEn, []);\n        }\n        familySci2images.get(familySci)?.push(images);\n        familyEn2images.get(familyEn)?.push(images);\n      }\n    }\n  }\n\n  return {\n    speciesSciName2images,\n    genus2images,\n    familySci2images,\n    familyEn2images,\n  };\n}\n\nasync function* makeEmptyRecordingsIterator(): AsyncGenerator<\n  [Recording, Recording[]]\n> {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=44afbc58&\"\nimport script from \"./Game.vue?vue&type=script&lang=ts&\"\nexport * from \"./Game.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport { isMobile } from \"mobile-device-detect\";\n\nimport eventBus from \"./event-bus\";\nimport FamilySelector from \"./FamilySelector.vue\";\nimport ControlPanel from \"./ControlPanel.vue\";\nimport Game from \"./Game.vue\";\nimport {\n  ChallengeFamily,\n  LocationRequest,\n  NamesLanguage,\n  Settings,\n} from \"./types\";\n\nexport default Vue.extend({\n  name: \"GameRoot\",\n  props: { locationRequest: Object as PropType<LocationRequest> },\n  components: { ControlPanel, FamilySelector, Game },\n  data() {\n    return {\n      settings: {\n        names: NamesLanguage.Both,\n        promptIncludesImages: false,\n        promptIncludesRecording: true,\n        commonSpeciesOnly: false,\n        songsOnly: true,\n        useFieldModals: isMobile,\n        disableNetworkRequests: false,\n      } as Settings,\n      controlPanelOpen: false,\n      challengeFamilies: new Map() as Map<string, ChallengeFamily>,\n    };\n  },\n  mounted: function (): void {\n    eventBus.$on(\"settings:change:names\", (newVal: NamesLanguage) => {\n      this.settings.names = newVal;\n    });\n    eventBus.$on(\"settings:change:commonSpeciesOnly\", (newVal: boolean) => {\n      this.settings.commonSpeciesOnly = newVal;\n      eventBus.$emit(\"change:species-filters\");\n    });\n    eventBus.$on(\"settings:change:songsOnly\", (newVal: boolean) => {\n      this.settings.songsOnly = newVal;\n    });\n    eventBus.$on(\"settings:change:promptIncludesImages\", (newVal: boolean) => {\n      this.settings.promptIncludesImages = newVal;\n    });\n    eventBus.$on(\n      \"settings:change:promptIncludesRecording\",\n      (newVal: boolean) => {\n        this.settings.promptIncludesRecording = newVal;\n      }\n    );\n    eventBus.$on(\"settings:change:useFieldModals\", (newVal: boolean) => {\n      this.settings.useFieldModals = newVal;\n    });\n    eventBus.$on(\n      \"set:challenge-families\",\n      (newVal: Map<string, ChallengeFamily>) => {\n        this.challengeFamilies = newVal;\n      }\n    );\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameRoot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameRoot.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameRoot.vue?vue&type=template&id=7eb43a48&\"\nimport script from \"./GameRoot.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameRoot.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n\nVue.use(VueRouter);\n\nimport _ from \"lodash\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport \"../node_modules/@fortawesome/fontawesome-free/js/all.js\";\n\nimport { LocationRequest } from \"./types\";\nimport App from \"./App.vue\";\nimport Root from \"./Root.vue\";\nimport GameRoot from \"./GameRoot.vue\";\n\nVue.config.productionTip = false;\nVue.use(Buefy, {\n  defaultIconPack: \"fas\",\n  defaultContainerElement: \"#content\"\n});\n\nconst routes = [\n  { path: \"/\", component: Root },\n  {\n    path: \"/challenge/\",\n    component: GameRoot,\n    props: (route: any) => ({\n      locationRequest: {\n        ebirdLocId: route.query.location,\n        latlng: route.query.coords\n          ? (_.zipObject([\"lat\", \"lng\"], route.query.coords.split(\",\")) as any)\n          : null\n      } as LocationRequest\n    })\n  }\n];\n\nconst router = new VueRouter({ mode: \"history\", routes });\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormField.vue?vue&type=style&index=0&id=320a3cdb&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=style&index=0&id=3805269e&scoped=true&lang=css&\""],"sourceRoot":""}