{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/GameFormFieldDropdownRow.vue?98f7","webpack:///./src/GameForm.vue?cf4c","webpack:///./src/RecordingPlayer.vue?e076","webpack:///./src/GameFormFieldDropdownRowMobile.vue?92ff","webpack:///./src/GameFormField.vue?0c17","webpack:///./src/App.vue?6490","webpack:///./src/Navbar.vue?198b","webpack:///./src/event-bus.ts","webpack:///./src/Help.vue?a44c","webpack:///./src/Help.vue?ea69","webpack:///./src/Help.vue?4153","webpack:///./src/Help.vue","webpack:///./src/Navbar.vue?0062","webpack:///./src/Navbar.vue?f3f6","webpack:///./src/Navbar.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/Root.vue?86fd","webpack:///./src/Map.vue?f029","webpack:///./src/utils.ts","webpack:///./src/ebird.ts","webpack:///./src/Map.vue?59bd","webpack:///./src/types.ts","webpack:///./src/Map.vue?2026","webpack:///./src/Map.vue","webpack:///./src/Root.vue?5660","webpack:///./src/Root.vue?5f2c","webpack:///./src/Root.vue","webpack:///./src/GameRoot.vue?5a7d","webpack:///./src/FamilySelector.vue?ccaf","webpack:///./src/FamilySelector.vue?a81c","webpack:///./src/FamilySelector.vue?15cd","webpack:///./src/FamilySelector.vue","webpack:///./src/ControlPanel.vue?f471","webpack:///./src/NamesSelector.vue?ed55","webpack:///./src/NamesSelector.vue?f85c","webpack:///./src/NamesSelector.vue?9f79","webpack:///./src/NamesSelector.vue","webpack:///./src/ControlPanel.vue?e067","webpack:///./src/ControlPanel.vue?a9af","webpack:///./src/ControlPanel.vue","webpack:///./src/Game.vue?ef33","webpack:///./src/xeno-canto.ts","webpack:///./src/birds.ts","webpack:///./src/RecordingPlayer.vue?a5a8","webpack:///./src/RecordingPlayer.vue?e254","webpack:///./src/RecordingPlayer.vue?09a3","webpack:///./src/RecordingPlayer.vue","webpack:///./src/GameForm.vue?7a6a","webpack:///./src/GameFormField.vue?1a68","webpack:///./src/GameFormFieldDropdownRow.vue?2713","webpack:///./src/GameFormFieldDropdownRow.vue?07ce","webpack:///./src/GameFormFieldDropdownRow.vue?0d05","webpack:///./src/GameFormFieldDropdownRow.vue","webpack:///./src/GameFormFieldDropdownRowMobile.vue?14a9","webpack:///./src/GameFormFieldDropdownRowMobile.vue?d076","webpack:///./src/GameFormFieldDropdownRowMobile.vue?3bbd","webpack:///./src/GameFormFieldDropdownRowMobile.vue","webpack:///./src/GameFormField.vue?ee2e","webpack:///./src/GameFormField.vue?d725","webpack:///./src/GameFormField.vue","webpack:///./src/GameFormFieldContainer.vue?3a73","webpack:///./src/GameFormFieldContainer.vue?7af1","webpack:///./src/GameFormFieldContainer.vue?aef3","webpack:///./src/GameFormFieldContainer.vue","webpack:///./src/GameForm.vue?7ebb","webpack:///./src/GameForm.vue?4718","webpack:///./src/GameForm.vue","webpack:///./src/RevealArea.vue?c53d","webpack:///./src/RevealArea.vue?7f55","webpack:///./src/RevealArea.vue?6742","webpack:///./src/RevealArea.vue","webpack:///./src/ChallengeDescription.vue?4935","webpack:///./src/ChallengeDescription.vue?af99","webpack:///./src/ChallengeDescription.vue?0d37","webpack:///./src/ChallengeDescription.vue","webpack:///./src/ChallengeControls.vue?5c42","webpack:///./src/ChallengeControls.vue?ad77","webpack:///./src/ChallengeControls.vue?380c","webpack:///./src/ChallengeControls.vue","webpack:///./src/Game.vue?d313","webpack:///./src/Game.vue?59cb","webpack:///./src/Game.vue","webpack:///./src/GameRoot.vue?c157","webpack:///./src/GameRoot.vue?9b19","webpack:///./src/GameRoot.vue","webpack:///./src/main.ts","webpack:///./src/ControlPanel.vue?90ad"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","slot","attrs","on","showHelp","_v","model","callback","$$v","helpModalActive","expression","showControlPanel","eventBus","_m","extend","component","components","Help","methods","$emit","$route","path","Navbar","_b","staticStyle","center","showCoordinatesPopup","map","tileLayer","_l","hotspot","id","lat","lng","hotspotProps","$router","_s","locName","popup","latlng","toFixed","_e","isLoading","fetchMultipleJSON","urls","Promise","allSettled","url","fetch","then","resp","json","catch","error","console","log","settledPromises","filter","status","transformTaxonName","replace","toLowerCase","debug","msg","force","ebirdSpecies","getGenus","species","sciName","split","getSpeciesSciSp","getSpeciesSci","getSpeciesEn","comName","getFamilyEn","familyComName","getFamilySci","familySciName","fetchLocationSpecies","locIds","locId","speciesCodes","union","join","fetchRecentObservations","observations","flatten","fetchEbirdHotspots","fetchEbirdHotspotsByLatLng","response","fetchSpeciesImages","speciesString","sp","cachedSpeciesImages","remainingSpeciesNames","difference","si","fetchSpeciesImagesParallel","remainingSpeciesImages","concat","use","NamesLanguage","LMap","LTileLayer","LCircle","LMarker","LPopup","LLayerGroup","props","Array","zoom","tap","color","fillOpacity","radius","ebirdHotspots","mounted","$on","event","finally","MapComponent","ebirdHotSpots","controlPanelOpen","challengeFamilies","settings","locationRequest","isModalActive","entries","ref","family","selected","val","selectFamily","Map","open","sidebarAttributes","newSettings","$set","showFamilyModal","English","names","Scientific","Both","watch","newVal","NamesSelector","assign","overlay","fullheight","fullwidth","right","ebirdLocIds","locationSpecies","filteredLocationSpecies","commonSpecies","recentObservations","image","recording","setNextRecording","taxonMaps","imageURLMaps","answerIsCorrectSpecies","otherRecordings","fetchXenoCantoRecordings","query","encodeURIComponent","text","JSON","parse","recordings","makeQuery","locations","genus","speciesSci","countryCodes","Set","loc","countryCode","size","country","getCountry","fetchRecordings","xcRecs","x","makeRecording","xcRec","familySci","familyEn","speciesEn","file","raw","isSong","type","words","has","isDefaultSelectedFamily","family2order","nonPasserineDefaultSelectedFamilies","preload","ev","target","play","String","default","useFieldModals","isModal","scopedSlots","_u","fn","answer","handleFamilySci","shouldShowScientificNames","filterFamilySci","truth","getFamilySciImageURLs","im","shouldShowEnglishNames","$event","proxy","handleFamilyEn","filterFamilyEn","getFamilyEnImageURLs","handleGenus","filterGenus","getGenusImageURLs","handleSpeciesSci","filterSpeciesSci","getSpeciesSciImageURLs","handleSpeciesEn","filterSpeciesEn","getSpeciesEnImageURLs","label","filteredCandidates","handleFocus","handleSelect","handleBlur","getImageURLs","option","imageLabelFn","showInputButtons","clear","reveal","images","Function","GameFormFieldDropdownRow","GameFormFieldDropdownRowMobile","initial","shouldShow","Boolean","handler","dismissMobileKeyboardOnDropdownScroll","isMobile","computed","stringify","sync","styleInputAccordingToAnswer","isCorrect","autocomplete","$refs","input","classList","remove","add","dropdown","dropdownContent","querySelector","onscroll","isActive","blur","_t","GameFormFieldContainer","GameFormField","familySciField","familyEnField","genusField","speciesSciField","speciesEnField","familySci2En","familyEn2Sci","genus2familySci","speciesSci2En","speciesSci2genus","speciesEn2Sci","promptIncludesImages","_getImageURLs","speciesSciName2images","genus2images","familySci2images","familyEn2images","imageURLMap","from","_filter","isFamilySciMatch","isFamilyEnMatch","isGenusMatch","isSpeciesSciMatch","isSpeciesEnMatch","matchFn","mapFn","uniq","_startsWith","_includes","includes","startsWith","recordingSpeciesWikipediaURL","recordingSpeciesSciName","promptIncludesRecording","active","rec","cnt","RecordingPlayer","h","nSelectedFamilies","values","also","index","GameForm","RevealArea","ChallengeDescription","ChallengeControls","selectedFamilies","speciesImages","makeTaxonMaps","makeImageMaps","challengeRecordingsIterator","makeEmptyRecordingsIterator","haveLocationData","challengeActive","created","disableNetworkRequests","fetchLocationData","obs","speciesCode2SciName","speciesCode","makeChallengeFamilies","filterSpecies","makeChallengeRecordingsIterator","handleFamilySelection","ebirdLocId","all","resolve","species2familyEn","commonSpeciesOnly","challengeFamily","shuffle","makeSpeciesRecordingsIterator","recordingMatchesFilters","f","songsOnly","gen","gameForm","next","done","alert","challengeSpecies","order","groupBy","spp","species2familySci","set","species2images","obj","haveSeenGenus","ControlPanel","FamilySelector","Game","config","productionTip","defaultIconPack","defaultContainerElement","routes","Root","GameRoot","route","location","coords","zipObject","router","render","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,oCCAA,W,oICAA,W,kCCAA,W,yDCAA,W,kKCAI,G,oBAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,UAAUA,EAAG,gBAAgB,KAChKG,EAAkB,GCDlB,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACA,EAAG,WAAW,CAACI,KAAK,SAAS,CAACJ,EAAG,gBAAgB,CAACA,EAAG,cAAc,CAACK,MAAM,CAAC,GAAK,MAAM,CAACL,EAAG,MAAM,CAACK,MAAM,CAAC,IAAM,sMAAsM,IAAM,eAAe,GAAGL,EAAG,gBAAgB,CAACK,MAAM,CAAC,IAAM,QAAQ,CAACL,EAAG,cAAc,CAACK,MAAM,CAAC,GAAK,MAAM,CAACL,EAAG,IAAI,CAACE,YAAY,6BAA6B,GAAGF,EAAG,gBAAgB,CAACK,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQV,EAAIW,WAAW,CAACX,EAAIY,GAAG,YAAYR,EAAG,UAAU,CAACS,MAAM,CAAC7B,MAAOgB,EAAmB,gBAAEc,SAAS,SAAUC,GAAMf,EAAIgB,gBAAgBD,GAAKE,WAAW,oBAAoB,CAACb,EAAG,SAAS,IAAI,GAAGA,EAAG,WAAW,CAACI,KAAK,OAAO,CAACJ,EAAG,gBAAgB,CAACK,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQV,EAAIkB,mBAAmB,CAACd,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,gBAAgB,CAACK,MAAM,CAAC,KAAO,yCAAyC,CAACL,EAAG,IAAI,CAACE,YAAY,qBAAqB,IAAI,IAC3iC,EAAkB,GCAhBa,EAAW,IAAI,OACN,ICFX,EAAS,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,+BAA+B,CAACN,EAAIoB,GAAG,GAAGpB,EAAIoB,GAAG,GAAGhB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIY,GAAG,qEAAqER,EAAG,KAAK,CAACJ,EAAIY,GAAG,2BAA2BZ,EAAIY,GAAG,SAASR,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,gDAAgD,CAACT,EAAIY,GAAG,mBAAmBZ,EAAIY,GAAG,0BAA0B,GAAGZ,EAAIoB,GAAG,MAC3d,EAAkB,CAAC,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIY,GAAG,YAAYZ,EAAIY,GAAG,4NAA4N,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIY,GAAG,2BAA2BR,EAAG,KAAK,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACJ,EAAIY,GAAG,0CAA0CR,EAAG,KAAK,CAACJ,EAAIY,GAAG,iJAAiJR,EAAG,KAAK,CAACJ,EAAIY,GAAG,mIAAmI,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIY,GAAG,kCAAkCR,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,sBAAsB,CAACT,EAAIY,GAAG,WAAWZ,EAAIY,GAAG,gDAAgDR,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,gCAAgC,CAACT,EAAIY,GAAG,gBAAgBZ,EAAIY,GAAG,+BAA+BR,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,2BAA2B,CAACT,EAAIY,GAAG,eAAeZ,EAAIY,GAAG,UC2Cz2C,SAAIS,OAAO,IC5CmV,I,YCOzWC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCwBA,SAAID,OAAO,CACxBE,WAAY,CAAEC,QACdrF,KAFwB,WAGtB,MAAO,CAAE6E,iBAAiB,IAG5BS,QAAS,CACPP,iBADO,WAEL,EAASQ,MAAM,uBAGjBf,SALO,WAMoB,MAArBV,KAAK0B,OAAOC,KAMd,EAASF,MAAM,aAEfzB,KAAKe,iBAAkB,MC9DgV,ICO3W,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCPA,SAAIK,OAAO,CACxBE,WAAY,CAAEM,YCZ4V,ICOxW,EAAY,eACd,EACA,EACAtB,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,gBAAgB,CAACK,MAAM,CAAC,OAAS,CAAC,EAAK,OAAS,IAC7J,EAAkB,GCDlB,EAAS,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAGJ,EAAIgB,gBAIuJZ,EAAG,UAAU,CAACS,MAAM,CAAC7B,MAAOgB,EAAmB,gBAAEc,SAAS,SAAUC,GAAMf,EAAIgB,gBAAgBD,GAAKE,WAAW,oBAAoB,CAACb,EAAG,SAAS,GAJrRA,EAAG,QAAQJ,EAAI8B,GAAG,CAACC,YAAY,CAAC,OAAS,SAAStB,MAAM,CAAC,OAAST,EAAIgC,QAAQtB,GAAG,CAAC,YAAcV,EAAIiC,uBAAuB,QAAQjC,EAAIkC,KAAI,GAAO,CAAC9B,EAAG,eAAeJ,EAAI8B,GAAG,GAAG,eAAe9B,EAAImC,WAAU,IAAQnC,EAAIoC,GAAIpC,EAAiB,eAAE,SAASqC,GAAS,OAAOjC,EAAG,WAAWJ,EAAI8B,GAAG,CAACxC,IAAI+C,EAAQC,GAAG7B,MAAM,CAAC,UAAU,CAAC4B,EAAQE,IAAKF,EAAQG,OAAO,WAAWxC,EAAIyC,cAAa,GAAO,CAACrC,EAAG,UAAU,CAACA,EAAG,WAAW,CAACE,YAAY,sBAAsBI,GAAG,CAAC,MAAQ,WAAc,OAAOV,EAAI0C,QAAQzF,KAAM,uBAA0BoF,EAAa,UAAS,CAACrC,EAAIY,GAAG,IAAIZ,EAAI2C,GAAGN,EAAQO,SAAS,QAAQ,IAAI,MAAM5C,EAAI6C,MAAY,OAAEzC,EAAG,WAAW,CAACK,MAAM,CAAC,OAAST,EAAI6C,MAAMC,SAAS,CAAC1C,EAAG,UAAU,CAACA,EAAG,WAAW,CAACE,YAAY,sBAAsBI,GAAG,CAAC,MAAQ,WAAc,OAAOV,EAAI0C,QAAQzF,KACx3B,qBAAwB+C,EAAI6C,MAAMC,OAAOP,IAAIQ,QAC5C,GACG,IAAO/C,EAAI6C,MAAMC,OAAON,IAAIO,QAAQ,OACpC,CAAC/C,EAAIY,GAAG,KAAKZ,EAAI2C,GAAG3C,EAAI6C,MAAMC,OAAOP,IAAIQ,QAAQ,IAAI,KAAK/C,EAAI2C,GAAG3C,EAAI6C,MAAMC,OAAON,IAAIO,QAAQ,IAAI,SAAS,IAAI,GAAG/C,EAAIgD,KAAK5C,EAAG,YAAY,CAACS,MAAM,CAAC7B,MAAOgB,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIiD,UAAUlC,GAAKE,WAAW,gBAAgB,IAAsJ,IACtZ,EAAkB,G,6NCLf,SAAeiC,EAAtB,kC,8DAAO,WAAiCC,GAAjC,uGACyBC,QAAQC,WACpCF,EAAKjB,KAAI,SAAAoB,GAAG,OACVC,MAAMD,GACHE,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAR,oCAAyCF,WAL1D,cACCG,EADD,yBAQEA,EACJC,QAAO,SAAAxG,GAAM,MAAsB,cAAlBA,EAAOyG,UACxB/B,KAAI,SAAC1E,GAAD,OAAiBA,EAAOwB,UAV1B,2C,wBAaD,SAAUkF,EAAmBlF,GACjC,OAAOA,EAAMmF,QAAQ,IAAK,KAAKC,cAG3B,SAAUC,EAAMC,GAAqC,IAAtBC,EAAsB,wDACrDF,GAAQ,GACRA,GAASE,IACXV,QAAQC,IAAIxG,MAAM,KAAMgH,GCdrB,IAAME,EAAe,CAC1BC,SAAU,SAASC,GACjB,OAAOA,EAAQC,QAAQC,MAAM,KAAK,IAAM,IAE1CC,gBAAiB,SAASH,GACxB,OAAOA,EAAQC,QAAQC,MAAM,KAAK,IAAM,IAE1CE,cAAe,SAASJ,GACtB,OAAOA,EAAQC,SAEjBI,aAAc,SAASL,GACrB,OAAOA,EAAQM,SAEjBC,YAAa,SAASP,GACpB,OAAOA,EAAQQ,eAEjBC,aAAc,SAAST,GACrB,OAAOA,EAAQU,gBAIZ,SAAeC,EAAtB,kC,8DAAO,WACLC,GADK,yGAIoBpC,EACvBoC,EAAOpD,KACL,SAAAqD,GAAK,gBACA,GADA,2CACiEA,EADjE,iBANJ,cAIDC,EAJC,OAULA,EAAe,IAAEC,MAAMD,GACvB3B,QAAQC,IAAR,kBACa0B,EAAa7I,OAD1B,yCACiE2I,EAAOI,KACpE,OAbC,SAgBiBnC,MAAM,GAAD,OAEvB,GAFuB,4CAGWiC,EAAaE,KAAK,OACtDlC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UApBf,cAgBCgB,EAhBD,OAqBLb,QAAQC,IAAR,kBACaY,EAAQ/H,OADrB,8CACiE2I,EAAOI,KACpE,OAvBC,kBA0BEhB,GA1BF,4C,wBA6BA,SAAeiB,EAAtB,kC,8DAAO,WACLL,GADK,uGAGqBpC,EACxBoC,EAAOpD,KACL,SAAAqD,GAAK,gBACA,GADA,oCAC0DA,EAD1D,iCALJ,cAGDK,EAHC,yBASE,IAAEH,MAAM,IAAEI,QAAQD,KATpB,2C,wBAYA,SAAeE,EAAtB,kC,8DAAO,WACLR,GADK,iGAGSpC,EACZoC,EAAOpD,KACL,SAAAqD,GAAK,gBACA,GADA,4CACkEA,EADlE,iBALJ,mF,wBAWA,SAAeQ,GAAtB,mC,gEAAO,WACLjD,GADK,uGAGkBS,MAAM,GAAD,OACvB,GADuB,+CAC8CT,EAAOP,IADrD,gBACgEO,EAAON,IADvE,cAHvB,cAGCwD,EAHD,gBAMQA,EAAStC,OANjB,mF,yBASA,SAAeuC,GAAtB,mC,gEAAO,WACLvB,GADK,oGAGCwB,EAAgBxB,EAAQxC,KAAI,SAAAiE,GAAE,OAAIA,EAAGxB,WAASe,KAAK,KAHpD,SAI8CnC,MAAM,GAAD,OACnD,GADmD,2CACc2C,EADd,sBAEtD1C,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UANf,cAIC0C,EAJD,OAOCC,EAAwB,IAAEC,WAC9B5B,EAAQxC,IAAIsC,EAAaM,eACzBsB,EAAoBlE,KAAI,SAAAqE,GAAE,OAAIA,EAAG7B,YAEnCb,QAAQC,IAAR,cACSsC,EAAoBzJ,OAD7B,0DAEuB0J,EAAsB1J,SAbxC,SAiBG6J,GAA2BH,GAjB9B,cAgBCI,EAhBD,OAmBFzC,QACC,SAAAxG,GAAM,MACc,cAAlBA,EAAOyG,QAA0BzG,EAAOwB,OAASxB,EAAOwB,MAAMmE,QAEjEjB,KAAI,SAAC1E,GAAD,OAAiBA,EAAOwB,SAvB1B,kBAyBE,IAAE0H,OAAON,EAAqBK,IAzBhC,4C,kCA4BQD,G,mGAAf,WACE9B,GADF,0GAGStB,QAAQC,WACbqB,EAAQxC,KAAI,SAAAiE,GAAE,OACZ5C,MAAM,GAAD,OACA,GADA,2CACiE4C,EADjE,uBAGF3C,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAArH,GAAI,OAAIA,EAAK,MAClBwH,OAAM,SAAAC,GAAK,OACVC,QAAQC,IAAR,6CAAkDF,YAX5D,2C,yBC1DA,OAAI+C,IAAI,KACR,OAAIA,IAAI,QAgBO,IC/DHC,GD+DG,UAAIvF,OAAO,CACxBE,WAAY,CACVC,OACAqF,OAAA,KACAC,aAAA,KACAC,UAAA,KACAC,UAAA,KACAC,SAAA,KACAC,cAAA,MAEFC,MAAO,CACLnF,OAAQoF,OAEVjL,KAbwB,WActB,MAAO,CACL+F,IAAK,CACHmF,KAAM,EACNC,KAAK,GAEPnF,UAAW,CACTmB,IAAK,sDAEPb,aAAc,CACZ8E,MAAO,OACPC,YAAa,GACbC,OAAQ,KAEV5E,MAAO,CACLC,OAAQ,MAEV4E,cAAe,GACfzE,WAAW,EACXjC,iBAAiB,IAIrB2G,QAAS,sBACP,EAASC,IAAI,aAAa,WACxB,EAAK5G,iBAAkB,MAI3BS,QAAS,CACPQ,qBADO,SACc4F,GAAsB,WACzC5H,KAAK4C,MAAMC,OAAS+E,EAAM/E,OACtB7C,KAAK4C,MAAMC,SACb7C,KAAKgD,WAAY,EACjB8C,GAA2B9F,KAAK4C,MAAMC,QACnCU,MAAK,SAACrH,GAAD,OAAW,EAAKuL,cAAgBvL,KACrC2L,SAAQ,kBAAO,EAAK7E,WAAY,UE5HiU,MCOxW,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QCNA,UAAI5B,OAAO,CACxBE,WAAY,CAAEwG,aAAA,IACd5L,KAFwB,WAGtB,MAAO,CACL6L,cAAe,OChBwV,MCOzW,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIhI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,WAAW,CAACF,EAAG,gBAAgB,CAACK,MAAM,CAAC,KAAOT,EAAIiI,iBAAiB,kBAAoBjI,EAAIkI,kBAAkB,SAAWlI,EAAImI,YAAY/H,EAAG,kBAAkB,CAACK,MAAM,CAAC,kBAAoBT,EAAIkI,qBAAqB9H,EAAG,OAAO,CAACK,MAAM,CAAC,SAAWT,EAAImI,SAAS,gBAAkBnI,EAAIoI,oBAAoB,IAC5Z,GAAkB,G,yBCDlB,GAAS,WAAa,IAAIpI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACS,MAAM,CAAC7B,MAAOgB,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAIqI,cAActH,GAAKE,WAAW,kBAAkB,CAACb,EAAG,UAAU,CAACE,YAAY,+BAA+B,CAACF,EAAG,KAAKJ,EAAIoC,GAAIpC,EAAIkI,kBAAkBI,WAAW,SAASC,GACjV,IAAIC,EAASD,EAAI,GACbpM,EAAOoM,EAAI,GACf,OAAOnI,EAAG,KAAK,CAACd,IAAIkJ,GAAQ,CAACpI,EAAG,aAAa,CAACK,MAAM,CAAC,MAAQtE,EAAKsM,UAAU/H,GAAG,CAAC,MAAQ,SAAUgI,GAAO,OAAO1I,EAAI2I,aAAaH,EAAQE,OAAW1I,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG6F,GAAQ,KAAKxI,EAAI2C,GAAGxG,EAAKqD,GAAG,OAAO,MAAK,QAC1M,GAAkB,GCgBP,UAAI6B,OAAO,CACxB8F,MAAO,CACLe,kBAAmBU,KAErBzM,KAJwB,WAKtB,MAAO,CACLkM,eAAe,IAGnBV,QATwB,WASjB,WACL,EAASC,IAAI,wBAAwB,kBAAO,EAAKS,eAAgB,MAEnE5G,QAAS,CACPkH,aADO,SACMH,EAAgBE,GAC3B,EAAShH,MAAM,gBAAiB8G,EAAQE,OClCyU,MCOnX,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI1I,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,YAAYJ,EAAI8B,GAAG,CAACrB,MAAM,CAAC,KAAO,YAAYI,MAAM,CAAC7B,MAAOgB,EAAQ,KAAEc,SAAS,SAAUC,GAAMf,EAAI6I,KAAK9H,GAAKE,WAAW,SAAS,YAAYjB,EAAI8I,mBAAkB,GAAO,CAAC1I,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,cAAc,CAACE,YAAY,qCAAqCG,MAAM,CAAC,MAAQ,YAAYL,EAAG,WAAW,CAACS,MAAM,CAAC7B,MAAOgB,EAAI+I,YAAgC,qBAAEjI,SAAS,SAAUC,GAAMf,EAAIgJ,KAAKhJ,EAAI+I,YAAa,uBAAwBhI,IAAME,WAAW,qCAAqC,CAACjB,EAAIY,GAAG,cAAcR,EAAG,WAAW,CAACS,MAAM,CAAC7B,MAAOgB,EAAI+I,YAAmC,wBAAEjI,SAAS,SAAUC,GAAMf,EAAIgJ,KAAKhJ,EAAI+I,YAAa,0BAA2BhI,IAAME,WAAW,wCAAwC,CAACjB,EAAIY,GAAG,aAAaR,EAAG,cAAc,CAACE,YAAY,qCAAqCG,MAAM,CAAC,MAAQ,WAAWL,EAAG,iBAAiB,CAACK,MAAM,CAAC,SAAWT,EAAImI,YAAY/H,EAAG,cAAc,CAACE,YAAY,qCAAqCG,MAAM,CAAC,MAAQ,gBAAgBL,EAAG,WAAW,CAACE,YAAY,MAAMO,MAAM,CAAC7B,MAAOgB,EAAI+I,YAA6B,kBAAEjI,SAAS,SAAUC,GAAMf,EAAIgJ,KAAKhJ,EAAI+I,YAAa,oBAAqBhI,IAAME,WAAW,kCAAkC,CAACjB,EAAIY,GAAG,2BAA2BR,EAAG,WAAW,CAACE,YAAY,MAAMO,MAAM,CAAC7B,MAAOgB,EAAI+I,YAAqB,UAAEjI,SAAS,SAAUC,GAAMf,EAAIgJ,KAAKhJ,EAAI+I,YAAa,YAAahI,IAAME,WAAW,0BAA0B,CAACjB,EAAIY,GAAG,kBAAkBR,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,WAAW,CAACE,YAAY,QAAQI,GAAG,CAAC,MAAQV,EAAIiJ,kBAAkB,CAAC7I,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIY,GAAG,sBAAsB,KAAKR,EAAG,cAAc,CAACE,YAAY,qCAAqCG,MAAM,CAAC,MAAQ,gBAAgBL,EAAG,WAAW,CAACS,MAAM,CAAC7B,MAAOgB,EAAI+I,YAA0B,eAAEjI,SAAS,SAAUC,GAAMf,EAAIgJ,KAAKhJ,EAAI+I,YAAa,iBAAkBhI,IAAME,WAAW,+BAA+B,CAACjB,EAAIY,GAAG,8BAA8B,IAAI,IAAI,KAAKR,EAAG,MAAM,CAACE,YAAY,WAAW,IACloE,GAAkB,GCDlB,GAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,OAAO,eAAeT,EAAI4G,cAAcsC,SAASrI,MAAM,CAAC7B,MAAOgB,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAImJ,MAAMpI,GAAKE,WAAW,UAAU,CAACjB,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAI4G,cAAcsC,SAAS,QAAQ,GAAG9I,EAAG,KAAK,CAACA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,OAAO,eAAeT,EAAI4G,cAAcwC,YAAYvI,MAAM,CAAC7B,MAAOgB,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAImJ,MAAMpI,GAAKE,WAAW,UAAU,CAACjB,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAI4G,cAAcwC,YAAY,QAAQ,GAAGhJ,EAAG,KAAK,CAACA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,OAAO,eAAeT,EAAI4G,cAAcyC,MAAMxI,MAAM,CAAC7B,MAAOgB,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAImJ,MAAMpI,GAAKE,WAAW,UAAU,CAACjB,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAI4G,cAAcyC,MAAM,QAAQ,QACjzB,GAAkB,IZWtB,SAAYzC,GACV,6BACA,uBACA,kBAHF,CAAYA,QAAa,KauBV,cAAIvF,OAAO,CACxB8F,MAAO,CAAEgB,SAAUvL,QACnBT,KAFwB,WAGtB,MAAO,CACLgN,MAAOlJ,KAAKkI,SAASgB,MACrBvC,mBAGJ0C,MAAO,CACLH,MAAO,SAAUI,GACf,EAAS7H,MAAM,wBAAyB6H,OC7CwU,MCOlX,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QC+CA,UAAIlI,OAAO,CACxBE,WAAY,CAAEiI,kBACdrC,MAAO,CACLe,kBAAmBU,IACnBT,SAAUvL,QAEZT,KANwB,WAOtB,MAAO,CACL4M,YAAanM,OAAO6M,OAAO,GAAIxJ,KAAKkI,UACpCW,kBAAmB,CACjBY,SAAS,EACTC,YAAY,EACZC,WAAW,EACXC,OAAO,GAEThB,MAAM,IAIVS,MAAO,CACL,gCAAiC,SAAUC,GACzC,EAAS7H,MAAM,oCAAqC6H,IAEtD,wBAAyB,SAAUA,GACjC,EAAS7H,MAAM,4BAA6B6H,IAE9C,mCAAoC,SAAUA,GAC5C,EAAS7H,MAAM,uCAAwC6H,IAEzD,sCAAuC,SAAUA,GAC/C,EAAS7H,MAAM,0CAA2C6H,IAE5D,6BAA8B,SAAUA,GACtC,EAAS7H,MAAM,iCAAkC6H,KAIrD5B,QAAS,sBACP,EAASC,IAAI,sBAAsB,WACjC,EAAKiB,MAAO,MAIhBpH,QAAS,CACPwH,gBADO,WAEL,EAASvH,MAAM,4BC9GgW,MCQjX,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,wBAAwB,CAACK,MAAM,CAAC,YAAcT,EAAI8J,YAAY,cAAgB9J,EAAI0H,cAAc,gBAAkB1H,EAAI+J,gBAAgB,wBAA0B/J,EAAIgK,wBAAwB,kBAAoBhK,EAAIkI,kBAAkB,cAAgBlI,EAAIiK,cAAc,mBAAqBjK,EAAIkK,mBAAmB,SAAWlK,EAAImI,YAAY/H,EAAG,YAAY,CAACS,MAAM,CAAC7B,MAAOgB,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIiD,UAAUlC,GAAKE,WAAW,eAAeb,EAAG,qBAAqB,CAACK,MAAM,CAAC,MAAQT,EAAImK,MAAM,UAAYnK,EAAIoK,UAAU,iBAAmBpK,EAAIqK,iBAAiB,UAAYrK,EAAIsK,UAAU,SAAWtK,EAAImI,YAAanI,EAAa,UAAEI,EAAG,YAAY,CAACmI,IAAI,WAAW9H,MAAM,CAAC,gBAAkBT,EAAIgK,wBAAwB,UAAYhK,EAAIoK,UAAU,MAAQpK,EAAImK,MAAM,aAAenK,EAAIuK,aAAa,UAAYvK,EAAIsK,UAAU,SAAWtK,EAAImI,UAAUzH,GAAG,CAAC,yBAAyB,SAAU1B,GAAS,OAAQgB,EAAIwK,uBAAyBxL,MAAagB,EAAIgD,KAAMhD,EAA0B,uBAAEI,EAAG,cAAc,CAACK,MAAM,CAAC,MAAQT,EAAImK,MAAM,UAAYnK,EAAIoK,UAAU,WAAapK,EAAIyK,gBAAgB,SAAWzK,EAAImI,YAAYnI,EAAIgD,MAAM,IAC9sC,GAAkB,G,qHCSP0H,G,mGAAf,WACEC,GADF,yGAGyBpH,MAAM,GAAD,OAExB,GAFwB,gDAGcqH,mBAAmBD,KAN/D,cAGQ3E,EAHR,gBAQqBA,EAAS6E,OAR9B,UAQQA,EARR,QASMA,EATN,0CAUWC,KAAKC,MAAMF,GAAMG,YAV5B,iCAYW,IAZX,4C,yBAgBA,SAASC,GAAUvG,EAAuBwG,GACxC,IAAMC,EAAQ3G,EAAaC,SAASC,GAC9B0G,EAAa5G,EAAaM,cAAcJ,GAE1CiG,EAAQ,GAAH,OAAMS,EAAN,gBAAwBD,GAC3BE,EAAe,IAAIC,IAAIJ,EAAUhJ,KAAI,SAAAqJ,GAAG,OAAIA,EAAIC,gBACtD,GAA0B,IAAtBH,EAAaI,KAAY,uBACLJ,EADK,GACpBG,EADoB,KAErBE,EAAU,KAAUC,WAAWH,GACjCE,IACFf,EAAQ,GAAH,OAAMA,EAAN,iBAAoBe,EAApB,UAGT,OAAOf,EAGF,SAAeiB,GAAtB,qC,gEAAO,WACLlH,EACAwG,GAFK,gGAICP,EAAQM,GAAUvG,EAASwG,GAJ5B,SAKgBR,GAAyBC,GALzC,cAKCkB,EALD,yBAMEA,EAAO3J,KAAI,SAAA4J,GAAC,OAAIC,GAAcD,EAAGpH,OANnC,2C,yBASP,SAASqH,GACPC,EACAtH,GAEA,IAAMuH,EAAYzH,EAAaW,aAAaT,GACtCwH,EAAW1H,EAAaS,YAAYP,GACpCyG,EAAQ3G,EAAaC,SAASC,GAC9B0G,EAAa5G,EAAaM,cAAcJ,GACxCyH,EAAY3H,EAAaO,aAAaL,GAC5C,MAAO,CACLpB,IAAK0I,EAAMI,KACXH,UAAWA,EACXC,SAAUA,EACVf,MAAOA,EACPC,WAAYA,EACZe,UAAWA,EACXE,IAAKL,GAIH,SAAUM,GAAOC,GACrB,IAAMC,EAAQ,IAAIlB,IAAIiB,EAAKnI,cAAcQ,MAAM,MAC/C,OAAO4H,EAAMC,IAAI,SAAWD,EAAMC,IAAI,QCzElC,SAAUC,GACdlE,EACAmE,GAEA,IAAMC,EAAsC,IAAItB,IAAI,CAClD,WACA,YACA,oBACA,UACA,UACA,UACA,YACA,WACA,oBACA,UACA,gBAEF,MAC+B,kBAA7BqB,EAAa/N,IAAI4J,IACjBoE,EAAoCH,IAAIjE,GCnB5C,IAAI,GAAS,WAAa,IAAIxI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,YAAY,OAAOG,MAAM,CAAC,SAAW,GAAG,IAAMT,EAAIoK,UAAU9G,IAAI,QAAUtD,EAAI6M,SAASnM,GAAG,CAAC,eAAiB,SAAUoM,GAC5N9M,EAAIqE,MAAM,CAAC,mBACXyI,EAAGC,OAAOC,QACV,WAAa,SAAUF,GACvB9M,EAAIqE,MAAM,CAAC,gBACX,QAAU,SAAUyI,GACpB9M,EAAIqE,MAAM,CAAC,aACX,eAAiB,SAAUyI,GAC3B9M,EAAIqE,MAAM,CAAC,mBACXyI,EAAGC,OAAOC,QACV,QAAU,SAAUF,GACpB9M,EAAIqE,MAAM,CAAC,aACX,KAAO,SAAUyI,GACjB9M,EAAIqE,MAAM,CAAC,SACXrE,EAAImB,SAASO,MAAM,kCAErB,GAAkB,GCiCP,UAAIL,OAAO,CACxB8F,MAAO,CACLiD,UAAWxN,OACXiQ,QAAS,CAAEN,KAAMU,OAAQC,QAAS,aAEpC/Q,KALwB,WAMtB,MAAO,CACLgF,SAAA,EACAkD,YCzDkX,MCQpX,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,4BAA4B,CAACK,MAAM,CAAC,QAAUT,EAAImI,SAASgF,gBAAkBnN,EAAIoN,QAAQnB,WAAWoB,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,aAAaiO,GAAG,WAAW,MAAO,CAACnN,EAAG,kBAAkB,CAACmI,IAAI,iBAAiB9H,MAAM,CAAC,GAAK,YAAY,QAAUT,EAAIwN,OAAOvB,UAAU,QAAUjM,EAAIyN,gBAAgB,WAAazN,EAAI0N,0BAA0B,OAAS1N,EAAI2N,gBAAgB,MAAQ3N,EAAI4N,MAAM3B,UAAU,aAAejM,EAAI6N,sBAAsB,aAAe,SAAUC,GAAM,OAAOA,EAAGpJ,QAAQE,MAAM,KAAK,IAAM,MAAQ5E,EAAI+N,uBAAyB,sBAAwB,UAAUrN,GAAG,CAAC,MAAQ,SAASsN,GAAQhO,EAAIoN,QAAQnB,WAAY,GAAM,OAAS,SAAS+B,GAAQhO,EAAIoN,QAAQnB,WAAY,QAAYgC,OAAM,OAAU7N,EAAG,4BAA4B,CAACK,MAAM,CAAC,QAAUT,EAAImI,SAASgF,gBAAkBnN,EAAIoN,QAAQlB,UAAUmB,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,aAAaiO,GAAG,WAAW,MAAO,CAACnN,EAAG,kBAAkB,CAACmI,IAAI,gBAAgB9H,MAAM,CAAC,GAAK,WAAW,QAAUT,EAAIwN,OAAOtB,SAAS,QAAUlM,EAAIkO,eAAe,WAAalO,EAAI+N,uBAAuB,OAAS/N,EAAImO,eAAe,MAAQnO,EAAI4N,MAAM1B,SAAS,aAAelM,EAAIoO,qBAAqB,aAAe,SAAUN,GAAM,OAAOA,EAAGpJ,QAAQE,MAAM,KAAK,IAAM,MAAQ5E,EAAI0N,0BAA4B,mBAAqB,UAAUhN,GAAG,CAAC,MAAQ,SAASsN,GAAQhO,EAAIoN,QAAQlB,UAAW,GAAM,OAAS,SAAS8B,GAAQhO,EAAIoN,QAAQlB,UAAW,QAAY+B,OAAM,OAAU7N,EAAG,4BAA4B,CAACK,MAAM,CAAC,QAAUT,EAAImI,SAASgF,gBAAkBnN,EAAIoN,QAAQjC,OAAOkC,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,aAAaiO,GAAG,WAAW,MAAO,CAACnN,EAAG,kBAAkB,CAACmI,IAAI,aAAa9H,MAAM,CAAC,GAAK,QAAQ,QAAUT,EAAIwN,OAAOrC,MAAM,QAAUnL,EAAIqO,YAAY,YAAa,EAAK,OAASrO,EAAIsO,YAAY,MAAQtO,EAAI4N,MAAMzC,MAAM,aAAenL,EAAIuO,kBAAkB,aAAe,SAAUT,GAAM,OAAOA,EAAGpJ,QAAQE,MAAM,KAAK,IAAM,MAAQ,SAASlE,GAAG,CAAC,MAAQ,SAASsN,GAAQhO,EAAIoN,QAAQjC,OAAQ,GAAM,OAAS,SAAS6C,GAAQhO,EAAIoN,QAAQjC,OAAQ,QAAY8C,OAAM,OAAU7N,EAAG,4BAA4B,CAACK,MAAM,CAAC,QAAUT,EAAImI,SAASgF,gBAAkBnN,EAAIoN,QAAQhC,YAAYiC,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,aAAaiO,GAAG,WAAW,MAAO,CAACnN,EAAG,kBAAkB,CAACmI,IAAI,kBAAkB9H,MAAM,CAAC,GAAK,aAAa,QAAUT,EAAIwN,OAAOpC,WAAW,QAAUpL,EAAIwO,iBAAiB,WAAaxO,EAAI0N,0BAA0B,OAAS1N,EAAIyO,iBAAiB,MAAQzO,EAAI4N,MAAMxC,WAAW,aAAepL,EAAI0O,uBAAuB,aAAe,SAAUZ,GAAM,MAAO,IAAM,MAAQ9N,EAAI+N,uBAAyB,uBAAyB,WAAWrN,GAAG,CAAC,MAAQ,SAASsN,GAAQhO,EAAIoN,QAAQhC,YAAa,GAAM,OAAS,SAAS4C,GAAQhO,EAAIoN,QAAQhC,YAAa,QAAY6C,OAAM,OAAU7N,EAAG,4BAA4B,CAACK,MAAM,CAAC,QAAUT,EAAImI,SAASgF,gBAAkBnN,EAAIoN,QAAQjB,WAAWkB,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,aAAaiO,GAAG,WAAW,MAAO,CAACnN,EAAG,kBAAkB,CAACmI,IAAI,iBAAiB9H,MAAM,CAAC,GAAK,YAAY,QAAUT,EAAIwN,OAAOrB,UAAU,QAAUnM,EAAI2O,gBAAgB,WAAa3O,EAAI+N,uBAAuB,OAAS/N,EAAI4O,gBAAgB,MAAQ5O,EAAI4N,MAAMzB,UAAU,aAAenM,EAAI6O,sBAAsB,aAAe,SAAUf,GAAM,MAAO,IAAM,MAAQ9N,EAAI0N,0BAA4B,oBAAsB,WAAWhN,GAAG,CAAC,MAAQ,SAASsN,GAAQhO,EAAIoN,QAAQjB,WAAY,GAAM,OAAS,SAAS6B,GAAQhO,EAAIoN,QAAQjB,WAAY,QAAY8B,OAAM,QAAW,IAC74G,GAAkB,GCDlB,I,8BAAS,WAAa,IAAIjO,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,QAAQG,MAAM,CAAC,GAAKT,EAAIsC,KAAK,CAAClC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmByB,YAAY,CAAC,MAAQ,SAAS,CAAC3B,EAAG,IAAI,CAACE,YAAY,UAAUyB,YAAY,CAAC,MAAQ,SAAS,CAAC3B,EAAG,iBAAiB,CAACmI,IAAI,eAAe9H,MAAM,CAAC,KAAO,OAAO,YAAcT,EAAI8O,MAAM,KAAO9O,EAAI+O,mBAAmB,iBAAgB,EAAK,oBAAoB,SAAS,aAAa,QAAQ,aAAe,MAAM,YAAc,MAAM,eAAiB,MAAM,WAAa,SAASrO,GAAG,CAAC,MAAQV,EAAIgP,YAAY,OAAShP,EAAIiP,aAAa,KAAOjP,EAAIkP,YAAY7B,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,UAAUiO,GAAG,SAASpG,GAAO,MAAO,CAAEnH,EAAY,SAAEI,EAAG,sCAAsC,CAACK,MAAM,CAAC,OAAST,EAAImP,aAAahI,EAAMiI,QAAQ,aAAepP,EAAIqP,aAAa,OAASlI,EAAMiI,UAAUhP,EAAG,+BAA+B,CAACK,MAAM,CAAC,OAAST,EAAImP,aAAahI,EAAMiI,QAAQ,aAAepP,EAAIqP,aAAa,OAASlI,EAAMiI,cAAc,MAAK,EAAM,WAAWvO,MAAM,CAAC7B,MAAOgB,EAAU,OAAEc,SAAS,SAAUC,GAAMf,EAAIwN,OAAOzM,GAAKE,WAAW,aAAa,GAAGb,EAAG,IAAI,CAACE,YAAY,WAAW,CAAEN,EAAIwN,QAAUxN,EAAIwN,QAAUxN,EAAI4N,OAAS5N,EAAIsP,iBAAkBlP,EAAG,WAAW,CAACM,GAAG,CAAC,MAAQV,EAAIuP,QAAQ,CAACnP,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAIgD,MAAM,GAAG5C,EAAG,IAAI,CAACE,YAAY,WAAW,CAAEN,EAAIwN,QAAUxN,EAAI4N,OAAS5N,EAAIsP,iBAAkBlP,EAAG,WAAW,CAACM,GAAG,CAAC,MAAQV,EAAIwP,SAAS,CAACpP,EAAG,IAAI,CAACE,YAAY,iBAAiBN,EAAIgD,MAAM,SAAShD,EAAIgD,OAC9/C,GAAkB,GCDlB,GAAS,WAAa,IAAIhD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgCyB,YAAY,CAAC,MAAQ,UAAU,CAAC3B,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAG3C,EAAIoP,eAAehP,EAAG,MAAM,CAACE,YAAY,eAAeG,MAAM,CAAC,MAAQ,SAAS,CAACL,EAAG,MAAM,CAACE,YAAY,aAAayB,YAAY,CAAC,aAAa,SAAS,MAAQ,WAAW/B,EAAIoC,GAAIpC,EAAU,QAAE,SAAS8N,EAAGrR,GAAG,OAAO2D,EAAG,MAAM,CAACd,IAAI7C,EAAE6D,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAAC2B,YAAY,CAAC,OAAS,SAAStB,MAAM,CAAC,IAAMqN,EAAG3K,KAAK,MAAM/C,EAAG,IAAI,CAACE,YAAY,0BAA0B,CAACF,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAG3C,EAAIqP,aAAavB,gBAAgB,QACttB,GAAkB,GC0BP,UAAIzM,OAAO,CACxB8F,MAAO,CACLiI,OAAQnC,OACRwC,OAAQrI,MACRiI,aAAcK,YC/B+W,MCQ7X,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI1P,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAG3C,EAAIoP,aAAahP,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeG,MAAM,CAAC,MAAQ,SAAS,CAACL,EAAG,MAAM,CAACE,YAAY,aAAayB,YAAY,CAAC,aAAa,SAAS,MAAQ,WAAW,CAAC3B,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,MAAMJ,EAAIoC,GAAIpC,EAAU,QAAE,SAAS8N,EAAGrR,GAAG,OAAO2D,EAAG,OAAO,CAACd,IAAI7C,GAAG,CAAC2D,EAAG,MAAM,CAAC2B,YAAY,CAAC,OAAS,SAAStB,MAAM,CAAC,IAAMqN,EAAG3K,KAAK,WAAU,cAC/iB,GAAkB,GCyBP,UAAI9B,OAAO,CACxB8F,MAAO,CACLiI,OAAQnC,OACRwC,OAAQrI,MACRiI,aAAcK,YC9BqX,MCQnY,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC6CA,UAAIrO,OAAO,CACxBE,WAAY,CAAEoO,4BAA0BC,mCACxCzI,MAAO,CACL0I,QAAS5C,OACT6C,WAAYC,QACZzN,GAAI2K,OACJ6B,MAAO7B,OACPjJ,OAAQ0L,SACR9B,MAAOX,OACPkC,aAAcO,SACdL,aAAcK,SACdM,QAASN,UAEX/H,QAbwB,WActB1H,KAAKgQ,yCAEP9T,KAhBwB,WAiBtB,MAAO,CACLqR,OAAQvN,KAAK4P,QACbP,kBAAkB,EAClBY,SAAA,iBAGJC,SAAU,CACRpB,mBADQ,WAGN,OADA1K,EAAM,CAAC,GAAD,OAAIpE,KAAKqC,GAAT,wBAAmCwI,KAAKsF,UAAUnQ,KAAKuN,UACtDvN,KAAK+D,OAAO/D,KAAKuN,UAG5BlE,MAAO,CACLkE,OAAQ,CACN6C,MAAM,EACNL,QAAS,SAAUhR,GACjBqF,EAAM,CAAC,GAAD,OAAIpE,KAAKqC,GAAT,oBAA+BwI,KAAKsF,UAAUpR,KACpDiB,KAAK+P,QAAQhR,GACbiB,KAAKqQ,iCAIX7O,QAAS,CACP8N,MADO,WAELlL,EAAM,CAAC,iBAAD,OAAkBpE,KAAKqC,GAAvB,aACNrC,KAAKuN,OAAS,GACdvN,KAAK+P,QAAQ/P,KAAKuN,SAGpBgC,OAPO,WAQLnL,EAAM,CAAC,iBAAD,OACapE,KAAKqC,GADlB,aAEJwI,KAAKsF,UAAUnQ,KAAKuN,QACpB1C,KAAKsF,UAAUnQ,KAAK2N,SAEtB3N,KAAKuN,OAASvN,KAAK2N,OAGrBoB,YAhBO,WAiBL/O,KAAKqP,kBAAmB,EACxBrP,KAAKyB,MAAM,UAGbwN,WArBO,WAsBLjP,KAAKqP,kBAAmB,GAG1BL,aAzBO,SAyBMzB,GACXnJ,EAAM,CAAC,iBAAD,OACapE,KAAKqC,GADlB,mBAEJwI,KAAKsF,UAAU5C,KAEjBvN,KAAKqP,kBAAmB,EACpB9B,IACFvN,KAAKuN,OAASA,EACdvN,KAAK+P,QAAQ/P,KAAKuN,QAClBvN,KAAKyB,MAAM,WAEbzB,KAAKqQ,+BAGPC,UAvCO,WA6CL,OALAlM,EAAM,CAAC,GAAD,OACDpE,KAAKqC,GADJ,eAEJ4B,EAAmBjE,KAAK2N,OACxB1J,EAAmBjE,KAAKuN,UAEnBtJ,EAAmBjE,KAAK2N,SAAW1J,EAAmBjE,KAAKuN,SAGpE8C,4BAhDO,WAiDL,IAAME,EAAevQ,KAAKwQ,MAAMD,aAC1BE,EAAK,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAcC,MAAMC,MAAMD,MAAMC,MAC9CrM,EAAM,CAAC,GAAD,OACDpE,KAAKqC,GADJ,2CAEDoO,GACH5F,KAAKsF,UAAUnQ,KAAKuN,QACpB1C,KAAKsF,UAAUnQ,KAAK2N,SAElB8C,IACFA,EAAMC,UAAUC,OAAO,aACvBF,EAAMC,UAAUC,OAAO,cACnB3Q,KAAKuN,QAAUvN,KAAK2N,OACtB8C,EAAMC,UAAUE,IAAI5Q,KAAKsQ,YAAc,aAAe,eAK5DN,sCAlEO,WAkE8B,WAC7BO,EAAevQ,KAAKwQ,MAAMD,aAC1BE,EAAK,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAcC,MAAMC,MAAMD,MAAMC,MACxCI,EAAQ,OAAGN,QAAH,IAAGA,OAAH,EAAGA,EAAcC,MAAMK,SAC/BC,EAAe,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAUE,cAChC,qBAEEN,GAASK,EACXA,EAAgBE,SAAW,WAOrBT,EAAaU,WACfR,EAAMS,OAIN,EAAK7B,kBAAmB,IAI5BjL,EAAM,CACJ,yEClM4W,MCQlX,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,UAAU,CAACK,MAAM,CAAC,QAAS,EAAK,cAAc,KAAK,CAACT,EAAIoR,GAAG,eAAe,GAAGhR,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIoR,GAAG,eAAe,IAAI,IAC5P,GAAkB,GCUP,UAAI/P,OAAO,CACxB8F,MAAO,CAAEiG,QAAS2C,WCZ2W,MCO3X,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCgHA,UAAI1O,OAAO,CACxBE,WAAY,CAAE8P,0BAAwBC,kBACtCnK,MAAO,CACL4C,gBAAiB3C,MACjBgD,UAAWxN,OACXuN,MAAO8C,OACP1C,aAAc3N,OACd0N,UAAW1N,OACXuL,SAAUvL,QAEZT,KAVwB,WAWtB,MAAO,CACLqR,OAAQ,CACNvB,UAAW,GACXC,SAAU,GACVf,MAAO,GACPC,WAAY,GACZe,UAAW,IAEbiB,QAAS,CACPnB,WAAW,EACXC,UAAU,EACVf,OAAO,EACPC,YAAY,EACZe,WAAW,KAKjBgE,SAAU,CACRzC,0BADQ,WAEN,OAAO,IAAIpC,IAAI,CAAC1E,GAAcwC,WAAYxC,GAAcyC,OAAOoD,IAC7DxM,KAAKkI,SAASgB,QAIlB4E,uBAPQ,WAQN,OAAO,IAAIzC,IAAI,CAAC1E,GAAcsC,QAAStC,GAAcyC,OAAOoD,IAC1DxM,KAAKkI,SAASgB,QAIlByE,MAbQ,WAeN,OADAvJ,EAAM,CAAC,kBAAmByG,KAAKsF,UAAUnQ,KAAKmK,aAC1CnK,KAAKmK,UACA,CACL6B,UAAWhM,KAAKmK,UAAU6B,UAC1BC,SAAUjM,KAAKmK,UAAU8B,SACzBf,MAAOlL,KAAKmK,UAAUe,MACtBC,WAAYnL,KAAKmK,UAAUgB,WAC3Be,UAAWlM,KAAKmK,UAAU+B,WAGrB,CACLF,UAAW,GACXC,SAAU,GACVf,MAAO,GACPC,WAAY,GACZe,UAAW,KAKjBoF,eAlCQ,WAmCN,OAAOtR,KAAKwQ,MAAMc,gBAGpBC,cAtCQ,WAuCN,OAAOvR,KAAKwQ,MAAMe,eAGpBC,WA1CQ,WA2CN,OAAOxR,KAAKwQ,MAAMgB,YAGpBC,gBA9CQ,WA+CN,OAAOzR,KAAKwQ,MAAMiB,iBAGpBC,eAlDQ,WAmDN,OAAO1R,KAAKwQ,MAAMkB,iBAItBlQ,QAAS,CACPgM,gBADO,SACSzO,GACdqF,EAAM,CAAC,mBAAoByG,KAAKsF,UAAUpR,KAC1CiB,KAAKuN,OAAOvB,UAAYjN,EACxB,IAAMkN,EAAWjM,KAAKqK,UAAUsH,aAAahT,IAAII,IAAU,GAC3DiB,KAAKuR,cAAchE,OAAStB,EACvBA,IACHjM,KAAKwR,WAAWjE,OAAS,KAI7BU,eAXO,SAWQlP,GACbqF,EAAM,CAAC,kBAAmByG,KAAKsF,UAAUpR,KACzCiB,KAAKuN,OAAOtB,SAAWlN,EACvB,IAAMiN,EAAYhM,KAAKqK,UAAUuH,aAAajT,IAAII,IAAU,GAC5DiB,KAAKsR,eAAe/D,OAASvB,GAG/BoC,YAlBO,SAkBKrP,GACVqF,EAAM,CAAC,eAAgByG,KAAKsF,UAAUpR,KACtCiB,KAAKuN,OAAOrC,MAAQnM,EACpB,IAAMiN,EAAYhM,KAAKqK,UAAUwH,gBAAgBlT,IAAII,GACjDiN,EACFhM,KAAKsR,eAAe/D,OAASvB,EAE7BhM,KAAKyR,gBAAgBlE,OAAS,IAIlCgB,iBA7BO,SA6BUxP,GACfqF,EAAM,CAAC,oBAAqByG,KAAKsF,UAAUpR,KAC3CiB,KAAKuN,OAAOpC,WAAapM,EAEzB,IAAMmN,EAAYlM,KAAKqK,UAAUyH,cAAcnT,IAAII,IAAU,GAC5DiB,KAAKwQ,MAAMkB,eAAuBnE,OAASrB,EAE5C,IAAMhB,EAAQlL,KAAKqK,UAAU0H,iBAAiBpT,IAAII,GAC9CmM,IACFlL,KAAKwR,WAAWjE,OAASrC,GAE3BlL,KAAKyB,MAAM,yBAA0BzB,KAAKyR,gBAAgBnB,cAG5D5B,gBA3CO,SA2CS3P,GACdqF,EAAM,CAAC,mBAAoByG,KAAKsF,UAAUpR,KAC1CiB,KAAKuN,OAAOrB,UAAYnN,EAExB,IAAMoM,EAAanL,KAAKqK,UAAU2H,cAAcrT,IAAII,IAAU,GAC9DiB,KAAKyR,gBAAgBlE,OAASpC,EAC9BnL,KAAKyB,MAAM,yBAA0BzB,KAAK0R,eAAepB,cAG3D7B,uBApDO,SAoDgBlB,GACrB,OAAIvN,KAAKkI,SAAS+J,qBACT,GAEFjS,KAAKkS,cACV3E,EACAvN,KAAKsK,aAAa6H,wBAItBvD,sBA9DO,SA8DerB,GACpB,OAAIvN,KAAKkI,SAAS+J,qBACT,GAEFjS,KAAKkS,cACVlS,KAAKqK,UAAU2H,cAAcrT,IAAI4O,IAAW,GAC5CvN,KAAKsK,aAAa6H,wBAItB7D,kBAxEO,SAwEWf,GAChB,OAAOvN,KAAKkS,cAAc3E,EAAQvN,KAAKsK,aAAa8H,eAGtDxE,sBA5EO,SA4EeL,GACpB,OAAOvN,KAAKkS,cAAc3E,EAAQvN,KAAKsK,aAAa+H,mBAGtDlE,qBAhFO,SAgFcZ,GACnB,OAAOvN,KAAKkS,cAAc3E,EAAQvN,KAAKsK,aAAagI,kBAGtDJ,cApFO,SAqFL3E,EACAgF,GAAyC,WAErC/C,EAAS+C,EAAY5T,IAAI4O,IAAW,GAIxC,OAHIvN,KAAKkI,SAAS+J,sBAAwBjS,KAAKkK,QAC7CsF,EAASA,EAAOzL,QAAO,SAAC8J,GAAD,OAAS,IAAIxC,IAAIwC,EAAG3K,MAAMsJ,IAAI,EAAKtC,OAAS,QAE9D/C,MAAMqL,KAAKhD,IAGpBF,MA/FO,WAgGLtP,KAAKsR,eAAehC,QACpBtP,KAAKuR,cAAcjC,QACnBtP,KAAKwR,WAAWlC,QAChBtP,KAAKyR,gBAAgBnC,QACrBtP,KAAK0R,eAAepC,SAKtB5B,gBAzGO,SAyGSH,GACd,OAAOvN,KAAKyS,QACVlF,EACAvN,KAAK0S,iBACLnO,EAAaW,eAIjBgJ,eAjHO,SAiHQX,GAEb,OADAnJ,EAAM,CAAC,kBAAmByG,KAAKsF,UAAU5C,KAClCvN,KAAKyS,QACVlF,EACAvN,KAAK2S,gBACLpO,EAAaS,cAIjBqJ,YA1HO,SA0HKd,GACV,OAAOvN,KAAKyS,QAAQlF,EAAQvN,KAAK4S,aAAcrO,EAAaC,WAG9DgK,iBA9HO,SA8HUjB,GACf,OAAOvN,KAAKyS,QACVlF,EACAvN,KAAK6S,kBACLtO,EAAaM,gBAIjB8J,gBAtIO,SAsISpB,GACd,OAAOvN,KAAKyS,QACVlF,EACAvN,KAAK8S,iBACLvO,EAAaO,eAIjB2N,QA9IO,SA+ILlF,EACAwF,EACAC,GAEA,OAAO,IAAEC,KACPjT,KAAK8J,gBAAgB/F,QAAO,SAACmC,GAAD,OAAQ6M,EAAQxF,EAAQrH,MAAKjE,IAAI+Q,KAMjEN,iBA1JO,SA0JUnF,EAAgB9I,GAC/B,OAAOyO,GAAYzO,EAAQU,cAAeoI,IAG5CoF,gBA9JO,SA8JSpF,EAAgB9I,GAC9B,OAAO0O,GAAU1O,EAAQQ,cAAesI,IAG1CqF,aAlKO,SAkKMrF,EAAgB9I,GAC3B,QACEzE,KAAKuN,OAAOvB,YACXhM,KAAK0S,iBAAiB1S,KAAKuN,OAAOvB,UAAWvH,QAK9CzE,KAAKuN,OAAOtB,WACXjM,KAAK2S,gBAAgB3S,KAAKuN,OAAOtB,SAAUxH,KAIvCyO,GAAY3O,EAAaC,SAASC,GAAU8I,KAGrDsF,kBAlLO,SAkLWtF,EAAgB9I,GAChC,QACEzE,KAAKuN,OAAOvB,YACXhM,KAAK0S,iBAAiB1S,KAAKuN,OAAOvB,UAAWvH,QAI5CzE,KAAKuN,OAAOrC,QAAUlL,KAAK4S,aAAa5S,KAAKuN,OAAOrC,MAAOzG,MAI7DyO,GAAY3O,EAAaK,gBAAgBH,GAAU8I,IACnD2F,GAAY3O,EAAaM,cAAcJ,GAAU8I,MAIrDuF,iBAlMO,SAkMUvF,EAAgB9I,GAC/B,QACEzE,KAAKuN,OAAOtB,WACXjM,KAAK2S,gBAAgB3S,KAAKuN,OAAOtB,SAAUxH,QAI1CzE,KAAKuN,OAAOrC,QAAUlL,KAAK4S,aAAa5S,KAAKuN,OAAOrC,MAAOzG,KAGxD0O,GAAU5O,EAAaO,aAAaL,GAAU8I,QAK3D,SAAS4F,GAAUxF,EAAeJ,GAGhC,OAFAI,EAAQ1J,EAAmB0J,GAC3BJ,EAAStJ,EAAmBsJ,GACxBA,EAAO7Q,OAAS,EACXiR,EAAMyF,SAAS7F,GAEfI,EAAM0F,WAAW9F,GAI5B,SAAS2F,GAAYvF,EAAeJ,GAClC,OAAOtJ,EAAmB0J,GAAO0F,WAAWpP,EAAmBsJ,IClbgT,UCQ7W,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIxN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,IAAI,CAACA,EAAG,IAAI,CAACK,MAAM,CAAC,KAAOT,EAAIuT,+BAA+B,OAAS,WAAW,CAACvT,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAIwT,2BAA2B,SAAUxT,EAAImK,QAAUnK,EAAImI,SAAS+J,qBAAsB9R,EAAG,MAAM,CAACK,MAAM,CAAC,IAAMT,EAAImK,SAASnK,EAAIgD,KAAMhD,EAAImI,SAASsL,yBAA2BzT,EAAIoK,UAAWhK,EAAG,aAAa,CAACiN,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,UAAUiO,GAAG,SAAShF,GACxcA,EAAImL,OACjB,MAAO,CAACtT,EAAG,WAAW,CAACK,MAAM,CAAC,aAAa,eAAe,YAAY,QAAQ,CAACL,EAAG,IAAI,CAACE,YAAY,2BAA2B,MAAK,EAAM,aAAaN,EAAIoC,GAAIpC,EAAc,YAAE,SAAS2T,GAAK,OAAOvT,EAAG,kBAAkB,CAACd,IAAIqU,EAAIrQ,KAAK,CAAClD,EAAG,KAAK,CAAEuT,EAAIrQ,KAAOtD,EAAIoK,UAAU9G,IAAKlD,EAAG,KAAK,CAACA,EAAG,mBAAmB,CAACK,MAAM,CAAC,UAAYkT,EAAI,QAAU,WAAW,GAAG3T,EAAIgD,KAAK5C,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAGgR,EAAItH,IAAId,KAAK,KAAKvL,EAAI2C,GAAGgR,EAAItH,IAAIuH,eAAc,GAAG5T,EAAIgD,MAAM,IACtb,GAAkB,GC8BP,UAAI3B,OAAO,CACxBE,WAAY,CAAEsS,oBACd1M,MAAO,CACLgD,MAAO8C,OACP7C,UAAWxN,OACXoO,WAAY5D,MACZe,SAAUvL,QAEZ6E,QAAS,CACP8R,6BADO,WAEL,OAAItT,KAAKmK,UACP,qDAAqDnK,KAAKmK,UAAUgB,WAAWjH,QAC7E,IACA,MAGK,MAGXqP,wBAXO,WAYL,GAAIvT,KAAKmK,UAAW,CAClB,IAAM+B,EAAYlM,KAAKmK,UAAU+B,UACjC,GAAIlM,KAAKkI,SAASgB,OAASvC,GAAcsC,QACvC,OAAOiD,EAEP,IAAMf,EAAanL,KAAKmK,UAAUgB,WAClC,OAAInL,KAAKkI,SAASgB,OAASvC,GAAcwC,WAChCgC,EAEP,UAAUA,EAAV,aAAyBe,EAAzB,KAIJ,OAAO,SClEoW,MCO/W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAInM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,KAAK,CAAC2B,YAAY,CAAC,cAAc,SAAS,CAAC/B,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAI0H,cAAc/K,OAAS,EAAIqD,EAAI0H,cAAcxF,KAAI,SAAU4R,GAAK,OAAOA,EAAElR,WAAY8C,KAAK,MAAQ1F,EAAI8J,YAAYpE,KAAK,OAAO,OAAOtF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAG3C,EAAI+J,gBAAgBpN,QAAQ,cAAcyD,EAAG,KAAK,CAACA,EAAG,aAAa,CAACiN,YAAYrN,EAAIsN,GAAG,CAAC,CAAChO,IAAI,UAAUiO,GAAG,WAAW,MAAO,CAACnN,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,WAAW,CAACL,EAAG,OAAO,CAACJ,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAIgK,wBAAwBrN,QAAQ,4BAA4ByD,EAAG,IAAI,CAACE,YAAY,4BAA4B2N,OAAM,MAAS,CAAC7N,EAAG,kBAAkB,CAACJ,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAI+T,mBAAmB,MAAM/T,EAAI2C,GAAG3C,EAAIkI,kBAAkBuD,MAAM,yBAA0BzL,EAAImI,SAA0B,kBAAE/H,EAAG,kBAAkB,CAACJ,EAAIY,GAAG,mBAAmBZ,EAAI2C,GAAG3C,EAAIiK,cAAcwB,MAAM,kCAAkCzL,EAAIgD,MAAM,IAAI,QACh7B,GAAkB,G,aC2CP,UAAI3B,OAAO,CACxB8F,MAAO,CACL2C,YAAa1C,MACbM,cAAeN,MACf2C,gBAAiB3C,MACjB4C,wBAAyB5C,MACzBc,kBAAmBU,IACnBqB,cAAeqB,IACfpB,mBAAoB9C,MACpBe,SAAUvL,QAEZuT,SAAU,CACR4D,kBADQ,WAEN,OAAO,gBAAI9T,KAAKiI,kBAAkB8L,UAAUhQ,QAC1C,gBAAGyE,EAAH,EAAGA,SAAH,OAAkBA,KAClB9L,WC3DqX,MCOzX,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIqD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,WAAW,CAAGN,EAAIoK,UAAgRhK,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACF,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAACE,YAAY,QAAQI,GAAG,CAAC,MAAQV,EAAIqK,mBAAmB,CAACjK,EAAG,IAAI,CAACE,YAAY,2BAA2B,WAAWF,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,mBAAmB,CAACK,MAAM,CAAC,UAAYT,EAAIoK,cAAc,OAAQpK,EAAImK,OAASnK,EAAImI,SAAS+J,qBAAsB9R,EAAG,IAAI,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAMT,EAAImK,WAAWnK,EAAIgD,SAAS5C,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAG3C,EAAIoK,UAAUiC,IAAId,KAAK,KAAKvL,EAAI2C,GAAG3C,EAAIoK,UAAUiC,IAAIuH,QAAS5T,EAAIoK,UAAUiC,IAAI4H,KAAKjQ,OAAO+L,SAASpT,OAAS,EAAGyD,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACJ,EAAIY,GAAG,wBAAwBZ,EAAIoC,GAAIpC,EAAIoK,UAAUiC,IAAQ,MAAE,SAASlG,EAAG+N,GAAO,OAAO9T,EAAG,OAAO,CAACd,IAAI4U,GAAO,CAAElU,EAAImI,SAASgB,QAAUnJ,EAAI4G,cAAcwC,WAAYhJ,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAGwD,MAAO/F,EAAG,OAAO,CAACJ,EAAIY,GAAG,IAAIZ,EAAI2C,GAAG3C,EAAIsK,UAAUyH,cAAcnT,IAAIuH,IAAO,IAAI,KAAMnG,EAAImI,SAASgB,QAAUnJ,EAAI4G,cAAcyC,KAAMjJ,EAAG,OAAO,CAACJ,EAAIY,GAAG,MAAMR,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAI2C,GAAGwD,MAAOnG,EAAIY,GAAG,OAAOZ,EAAIgD,OAAQkR,EAAQ,EAAIlU,EAAIoK,UAAUiC,IAAI4H,KAAKtX,OAAQyD,EAAG,OAAO,CAACJ,EAAIY,GAAG,QAAQZ,EAAIgD,WAAU,KAAKhD,EAAIgD,OAAniD5C,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAACE,YAAY,iBAAiBI,GAAG,CAAC,MAAQV,EAAIqK,mBAAmB,CAACjK,EAAG,IAAI,CAACE,YAAY,mBAAmB,YAC/Y,GAAkB,GCmEP,UAAIe,OAAO,CACxBE,WAAY,CAAEsS,oBACd1M,MAAO,CACLgD,MAAO8C,OACP7C,UAAWxN,OACXyN,iBAAkBqF,SAClBpF,UAAW1N,OACXuL,SAAUvL,QAEZT,KATwB,WAUtB,MAAO,CAAEyK,qBC9E6W,MCOtX,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QC8DA,UAAIvF,OAAO,CACxB9C,KAAM,OACNgD,WAAY,CACVsS,mBACAM,YACAC,cACAC,wBACAC,sBAEFnN,MAAO,CACLiB,gBAAiBxL,OACjBuL,SAAUvL,QAGZT,KAdwB,WAetB,MAAO,CACL2N,YAAa,GACbpC,cAAe,GACfqC,gBAAiB,GACjBC,wBAAyB,GACzBC,cAAe,IAAIqB,IAAI,IACvBpB,mBAAoB,GACpBhC,kBAAmB,IAAIU,IAAI,IAC3B2L,iBAAkB,IAAIjJ,IAAI,IAC1BkJ,cAAe,GACflK,UAAWmK,GAAc,IACzBlK,aAAcmK,GAAc,GAAI,IAChCC,4BAA6BC,KAG7BxK,UAAW,KACXK,gBAAiB,GACjBoK,kBAAkB,EAClBC,iBAAiB,EACjB3K,MAAO,GACPK,wBAAwB,IAI5BuK,QAAS,WAAF,8CAAE,4GACF9U,KAAKkI,SAAS6M,uBADZ,gCAEC/U,KAAKgV,oBAFN,OAIPhV,KAAK4U,kBAAmB,EACxB5U,KAAKsK,aAAemK,GAAczU,KAAKuU,cAAevU,KAAK8J,iBAC3D9J,KAAKqK,UAAYmK,GAAcxU,KAAK8J,iBACpC9J,KAAKgK,cAAgB,IAAIqB,IACvBrL,KAAKiK,mBACFhI,KAAI,SAACgT,GAAD,OAAS,EAAK5K,UAAU6K,oBAAoBvW,IAAIsW,EAAIE,gBACxDpR,OAAO+L,UAEZ9P,KAAKiI,kBAAoBmN,GAAsBpV,KAAK8J,iBACpD,EAASrI,MAAM,yBAA0BzB,KAAKiI,mBAC9CjI,KAAKqV,gBACLrV,KAAK0U,4BAA8B1U,KAAKsV,kCAfjC,iDAAF,qDAAE,GAkBT5N,QAAS,sBACP,EAASC,IAAI,gBAAiB3H,KAAKuV,uBACnC,EAAS5N,IAAI,yBAA0B3H,KAAKqV,eAC5C,EAAS1N,IACP,6BACA,kBAAO,EAAKkN,iBAAkB,MAIlC3E,SAAU,CACRlN,UADQ,WAEN,OAAQhD,KAAK4U,mBAIjBpT,QAAS,CACDwT,kBADC,WACgB,6KAGf,EAAK7M,gBAAgBqN,WAHN,gBAIjB,EAAK3L,YAAc,CAAC,EAAK1B,gBAAgBqN,YAJxB,2BAKR,EAAKrN,gBAAgBtF,OALb,iCAMUiD,GACzB,EAAKqC,gBAAgBtF,QAPN,OAMjB,EAAK4E,cANY,OASjB,EAAKoC,YAAc,EAAKpC,cAAcxF,KAAI,SAAC4R,GAAD,OAAOA,EAAEvO,SATlC,6BAWX,2CAXW,yBAkBTnC,QAAQsS,IAAI,CACpBrQ,EAAqB,EAAKyE,aAC1B,EAAKpC,cAAc/K,OAAS,EACxByG,QAAQuS,QAAQ,EAAKjO,eACrB5B,EAAmB,EAAKgE,aAC5BnE,EAAwB,EAAKmE,eAvBZ,+CAejB,EAAKC,gBAfY,KAgBjB,EAAKrC,cAhBY,KAiBjB,EAAKwC,mBAjBY,eA0BQjE,GAAmB,EAAK8D,iBA1BhC,QA0BnB,EAAKyK,cA1Bc,OA2BnB3Q,QAAQC,IAAR,2BAAgC,EAAKgG,YAAYnN,OAAjD,aACAkH,QAAQC,IAAR,oBAAyB,EAAK4D,cAAc/K,SAC5CkH,QAAQC,IAAR,mBAAwB,EAAKiG,gBAAgBpN,SAC7CkH,QAAQC,IAAR,kBAAuB,EAAK0Q,cAAc7X,SAC1CkH,QAAQC,IAAR,+BAAoC,EAAKoG,mBAAmBvN,SA/BzC,qDAiCnBkH,QAAQC,IAAI,mDAAZ,MAjCmB,6DAqCvBwR,cAtCO,WAsCM,WACXrV,KAAKsU,iBAAmB,IAAIjJ,IAC1BlE,MAAMqL,KAAKxS,KAAKiI,kBAAkBI,WAC/BtE,QAAO,uCAAOyE,GAAP,UAAOA,UAAP,OAAuBA,KAC9BvG,KAAI,uCAAEsG,EAAF,iBAAiBA,MAE1B,IAAI9D,EAAUzE,KAAK8J,gBAAgB/F,QAAO,SAACmC,GAAD,OACxC,EAAKoO,iBAAiB9H,IACpB,EAAKnC,UAAUsL,iBAAiBhX,IAAIuH,EAAGxB,UAAY,OAGnD1E,KAAKkI,SAAS0N,oBAChBnR,EAAUA,EAAQV,QAAO,SAACmC,GAAD,OAAQ,EAAK8D,cAAcwC,IAAItG,EAAGxB,aAE7D1E,KAAK+J,wBAA0BtF,GAGjC8Q,sBAvDO,SAuDehN,EAAgBC,GACpC,IAAIqN,EAAkB7V,KAAKiI,kBAAkBtJ,IAAI4J,GAC7CsN,IACFA,EAAgBrN,SAAWA,EAE3BxI,KAAKiI,kBAAoB,IAAIU,IAAI3I,KAAKiI,oBAExCjI,KAAKqV,iBAGPC,gCAAiC,WAAF,+CAAE,kIAGhB,IAAEQ,QAAQ9V,KAAK8J,kBAHC,gEAGtB5D,EAHsB,iCAIJyF,GAAgBzF,EAAIlG,KAAKyH,gBAJrB,OAIvBsD,EAJuB,yBAMP/K,KAAK+V,8BACzBhL,IAP2B,0DAS3B,OAHOZ,EANoB,kBASrB,CAACA,EAAWY,GATS,sYAAF,kDAAE,GAejCgL,8BAA6B,yBAAE,WAC7BhL,GAD6B,6GAGP,IAAE+K,QAAQ/K,IAHH,4DAGpBZ,EAHoB,SAIvBnK,KAAKgW,wBAAwB7L,EAAUiC,IAAKpM,KAAKkI,UAJ1B,gBAKzB,OALyB,SAKnBiC,EALmB,wHAAA8L,IAAA,4EAU/BD,wBA1FO,SA2FLjK,EACA7D,GAEA,GAAIA,EAASgO,YAAc7J,GAAON,EAAMO,MACtC,OAAO,EAET,IAAM7H,EAAU,GAAH,OAAMsH,EAAMoK,IAAZ,YAAmBpK,EAAM7F,IACtC,QAAIgC,EAAS0N,oBAAsB5V,KAAKgK,cAAcwC,IAAI/H,OAIvD,IAAI4G,IAAIrL,KAAK+J,wBAAwB9H,KAAI,SAACiE,GAAD,OAAQA,EAAGxB,YAAU8H,IAC7D/H,IAQA2F,iBA/GC,WA+Ge,6KACnB,YAAKoG,MAAM4F,gBAAX,SAA6B9G,QAC9B,EAAKpF,MAAQ,GAFO,SAGF,EAAKwK,4BAA4B2B,OAH/B,OAGd3C,EAHc,OAIfA,EAAI4C,KAcPC,MAAM,wBAdO,kBAC4B7C,EAAI3U,MADhC,GACZ,EAAKoL,UADO,KACI,EAAKK,gBADT,KAETgF,EAAS,EAAKlF,aAAa6H,sBAAsBxT,IACnD,EAAKwL,UAAUgB,YAEbqE,IACEtF,EAAQsF,EAAOuE,SAASsC,QACvBnM,EAAMoM,MAAQpM,EAAMnL,MAAMmE,KAAK,GAClC,EAAKgH,MAAQA,EAAMnL,MAAMmE,KAAK,GAE9BqT,MAAM,4BAdQ,iDAwB1B,SAASnB,GACPoB,GAEA,IAAM9J,EAAe,IAAI/D,IACvB6N,EAAiBvU,KAAI,SAACiE,GAAD,MAAQ,CAACA,EAAGjB,cAAeiB,EAAGuQ,WAGrD,OAAO,IAAI9N,IACThM,OAAO0L,QAAQ,IAAEqO,QAAQF,GAAkB,SAACtQ,GAAD,OAAQA,EAAGjB,kBAAgBhD,KACpE,uCAAEsG,EAAF,KAAUoO,EAAV,WAAmB,CACjBpO,EACA,CACEhJ,EAAGoX,EAAIja,OACP8L,SAAUiE,GAAwBlE,EAAQmE,SAO9C,SAAU8H,GAAc/P,GAC5B,IADmD,EAC7CyQ,EAAsB,IAAIvM,IAC1BiO,EAAoB,IAAIjO,IACxBgN,EAAmB,IAAIhN,IACvBiJ,EAAe,IAAIjJ,IACnBgJ,EAAe,IAAIhJ,IACnBkJ,EAAkB,IAAIlJ,IACtBoJ,EAAmB,IAAIpJ,IACvBmJ,EAAgB,IAAInJ,IACpBqJ,EAAgB,IAAIrJ,IATyB,kBAWpClE,GAXoC,IAWnD,2BAAwB,KAAfyB,EAAe,QACtBgP,EAAoB2B,IAAI3Q,EAAGiP,YAAajP,EAAGxB,SAC3CkS,EAAkBC,IAAI3Q,EAAGxB,QAASwB,EAAGf,eACrCwQ,EAAiBkB,IAAI3Q,EAAGxB,QAASwB,EAAGjB,eACpC2M,EAAaiF,IAAI3Q,EAAGjB,cAAeiB,EAAGf,eACtCwM,EAAakF,IAAI3Q,EAAGf,cAAee,EAAGjB,eACtC4M,EAAgBgF,IAAItS,EAAaC,SAAS0B,GAAKA,EAAGf,eAClD4M,EAAiB8E,IAAI3Q,EAAGxB,QAASH,EAAaC,SAAS0B,IACvD4L,EAAc+E,IAAI3Q,EAAGxB,QAASwB,EAAGnB,SACjCiN,EAAc6E,IAAI3Q,EAAGnB,QAASmB,EAAGxB,UApBgB,8BAuBnD,MAAO,CACLwQ,sBACA0B,oBACAjB,mBACA/D,eACAD,eACAE,kBACAE,mBACAD,gBACAE,iBAIJ,SAASyC,GACPF,EACAzK,GAEA,IAF+B,EAE3BqI,EAAsD,IAAIxJ,IAC1DyJ,EAA6C,IAAIzJ,IACjD0J,EAAiD,IAAI1J,IACrD2J,EAAgD,IAAI3J,IAElDmO,EAAiB,IAAInO,IACzB4L,EAActS,KAAI,SAAC8U,GAAD,MAAS,CAACA,EAAItS,QAASsS,OARZ,kBAWhBjN,GAXgB,IAW/B,2BAAgC,KAKlB,EALL5D,EAAuB,QAC1BgF,EAAQ3G,EAAaC,SAAS0B,GAC9BiF,EAAa5G,EAAaM,cAAcqB,GACxC8Q,GAAgB,EAChBxH,EAASsH,EAAenY,IAAIuH,EAAGxB,SACnC,GAAI8K,EAQF,GAPA2C,EAAsB0E,IAAI1L,EAAY,CAACqE,IAElC4C,EAAa5F,IAAItB,KACpBkH,EAAayE,IAAI3L,EAAO,IACxB8L,GAAgB,GAElB,UAAA5E,EAAazT,IAAIuM,UAAjB,SAAyBlO,KAAKwS,IACzBwH,EAAe,SACdhL,EAAYzH,EAAaW,aAAagB,GACtC+F,EAAW1H,EAAaS,YAAYkB,GACnCmM,EAAiB7F,IAAIR,IACxBqG,EAAiBwE,IAAI7K,EAAW,IAE7BsG,EAAgB9F,IAAIP,IACvBqG,EAAgBuE,IAAI5K,EAAU,IAEhC,UAAAoG,EAAiB1T,IAAIqN,UAArB,SAAiChP,KAAKwS,GACtC,UAAA8C,EAAgB3T,IAAIsN,UAApB,SAA+BjP,KAAKwS,KAlCX,8BAuC/B,MAAO,CACL2C,wBACAC,eACAC,mBACAC,mB,SAIYqC,K,iGAAhB,kI,yBCxY6W,UCOzW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCSA,UAAIvT,OAAO,CACxB9C,KAAM,WACN4I,MAAO,CAAEiB,gBAAiBxL,QAC1B2E,WAAY,CAAE2V,gBAAcC,kBAAgBC,SAC5Cjb,KAJwB,WAKtB,MAAO,CACLgM,SAAU,CACRgB,MAAOvC,GAAcyC,KACrB6I,sBAAsB,EACtBuB,yBAAyB,EACzBoC,mBAAmB,EACnBM,WAAW,EACXhJ,eAAgB,eAChB6H,wBAAwB,GAE1B/M,kBAAkB,EAClBC,kBAAmB,IAAIU,MAG3BjB,QAAS,sBACP,EAASC,IAAI,yBAAyB,SAAC2B,GACrC,EAAKpB,SAASgB,MAAQI,KAExB,EAAS3B,IAAI,qCAAqC,SAAC2B,GACjD,EAAKpB,SAAS0N,kBAAoBtM,EAClC,EAAS7H,MAAM,6BAEjB,EAASkG,IAAI,6BAA6B,SAAC2B,GACzC,EAAKpB,SAASgO,UAAY5M,KAE5B,EAAS3B,IAAI,wCAAwC,SAAC2B,GACpD,EAAKpB,SAAS+J,qBAAuB3I,KAEvC,EAAS3B,IACP,2CACA,SAAC2B,GACC,EAAKpB,SAASsL,wBAA0BlK,KAG5C,EAAS3B,IAAI,kCAAkC,SAAC2B,GAC9C,EAAKpB,SAASgF,eAAiB5D,KAEjC,EAAS3B,IACP,0BACA,SAAC2B,GACC,EAAKrB,kBAAoBqB,QCxEgV,MCO7W,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCff,OAAI5C,IAAI,QAYR,OAAI0Q,OAAOC,eAAgB,EAC3B,OAAI3Q,IAAI,OAAO,CACb4Q,gBAAiB,MACjBC,wBAAyB,aAG3B,IAAMC,GAAS,CACb,CAAE7V,KAAM,IAAKN,UAAWoW,IACxB,CACE9V,KAAM,cACNN,UAAWqW,GACXxQ,MAAO,SAACyQ,GAAD,MAAiB,CACtBxP,gBAAiB,CACfqN,WAAYmC,EAAMjN,MAAMkN,SACxB/U,OAAQ8U,EAAMjN,MAAMmN,OACf,IAAEC,UAAU,CAAC,MAAO,OAAQH,EAAMjN,MAAMmN,OAAOlT,MAAM,MACtD,UAMNoT,GAAS,IAAI,OAAU,CAAE9Y,KAAM,UAAWuY,YAEhD,IAAI,OAAI,CACNO,UACAC,OAAQ,SAAAnE,GAAC,OAAIA,EAAEoE,MACdC,OAAO,S,yDC1CV","file":"js/app.ca3911d5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRow.vue?vue&type=style&index=0&id=4b506920&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameForm.vue?vue&type=style&index=0&id=4a5e4308&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordingPlayer.vue?vue&type=style&index=0&id=b7f26996&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRowMobile.vue?vue&type=style&index=0&id=053663aa&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormField.vue?vue&type=style&index=0&id=0840a4c6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('navbar'),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',[_c('template',{slot:\"brand\"},[_c('b-navbar-item',[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('img',{attrs:{\"src\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Trogon_collaris_%28Trog%C3%B3n_collarejo%29_%2814027165535%29.jpg/320px-Trogon_collaris_%28Trog%C3%B3n_collarejo%29_%2814027165535%29.jpg\",\"alt\":\"Trogon\"}})])],1),_c('b-navbar-item',{attrs:{\"tag\":\"div\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-globe-americas\"})])],1),_c('b-navbar-item',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.showHelp}},[_vm._v(\" Help \")]),_c('b-modal',{model:{value:(_vm.helpModalActive),callback:function ($$v) {_vm.helpModalActive=$$v},expression:\"helpModalActive\"}},[_c('help')],1)],1),_c('template',{slot:\"end\"},[_c('b-navbar-item',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.showControlPanel}},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('b-navbar-item',{attrs:{\"href\":\"https://github.com/dandavison/trogon\"}},[_c('i',{staticClass:\"fab fa-github\"})])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\nconst eventBus = new Vue();\nexport default eventBus;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section has-text-grey-light\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"p-3\"},[_vm._v(\" Feedback appreciated! Please send comments, suggestions, etc to \"),_c('tt',[_vm._v(\"dandavison7@gmail.com\")]),_vm._v(\", or \"),_c('a',{attrs:{\"href\":\"https://github.com/dandavison/trogon/issues\"}},[_vm._v(\"open an issue\")]),_vm._v(\" on the Github page. \")],1),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_c('em',[_vm._v(\"Trogon\")]),_vm._v(\" is a tool for learning to identify birds. You select a location anywhere in the world on the map, and are taken to an identification challenge (audio or visual) featuring bird species occurring at that location. \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_vm._v(\" To select a location: \"),_c('ol',{staticClass:\"p-3\"},[_c('li',[_vm._v(\" Zoom in on some area of the world. \")]),_c('li',[_vm._v(\" Right click / long press (phone) to load nearby Ebird locations (red). If no red circles appear then there are no Ebird locations nearby. \")]),_c('li',[_vm._v(\" Click on the map marker, or on an individual Ebird location, to select that location for the identification challenge. \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-3\"},[_vm._v(\" The location data comes from \"),_c('a',{attrs:{\"href\":\"http://ebird.org/\"}},[_vm._v(\"Ebird\")]),_vm._v(\", the recordings of vocalisations come from \"),_c('a',{attrs:{\"href\":\"https://www.xeno-canto.org/\"}},[_vm._v(\"xeno-canto\")]),_vm._v(\", and the images come from \"),_c('a',{attrs:{\"href\":\"https://wikipedia.org/\"}},[_vm._v(\"Wikipedia\")]),_vm._v(\". \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nexport default Vue.extend({});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Help.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Help.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Help.vue?vue&type=template&id=4e308c6a&\"\nimport script from \"./Help.vue?vue&type=script&lang=ts&\"\nexport * from \"./Help.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nimport eventBus from \"./event-bus\";\nimport Help from \"./Help.vue\";\n\nexport default Vue.extend({\n  components: { Help },\n  data() {\n    return { helpModalActive: false };\n  },\n\n  methods: {\n    showControlPanel(): void {\n      eventBus.$emit(\"control-panel:show\");\n    },\n\n    showHelp(): void {\n      if (this.$route.path === \"/\") {\n        // TODO: We should just be able to display the help modal\n        // as an element within the navbar. However, when we do that,\n        // the map component obscures the help modal, so there is a\n        // special implementation of the help modal in Map.vue\n        // triggered by this event.\n        eventBus.$emit(\"show:help\");\n      } else {\n        this.helpModalActive = true;\n      }\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=957fd146&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Navbar from \"./Navbar.vue\";\n\nexport default Vue.extend({\n  components: { Navbar }\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7398493b&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('map-component',{attrs:{\"center\":[0.0, 0.0]}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.helpModalActive)?_c('l-map',_vm._b({staticStyle:{\"height\":\"800px\"},attrs:{\"center\":_vm.center},on:{\"contextmenu\":_vm.showCoordinatesPopup}},'l-map',_vm.map,false),[_c('l-tile-layer',_vm._b({},'l-tile-layer',_vm.tileLayer,false)),_vm._l((_vm.ebirdHotspots),function(hotspot){return _c('l-circle',_vm._b({key:hotspot.id,attrs:{\"lat-lng\":[hotspot.lat, hotspot.lng]}},'l-circle',_vm.hotspotProps,false),[_c('l-popup',[_c('b-button',{staticClass:\"is-success is-light\",on:{\"click\":function () { return _vm.$router.push((\"/challenge?location=\" + (hotspot.locId))); }}},[_vm._v(\" \"+_vm._s(hotspot.locName)+\" \")])],1)],1)}),(_vm.popup.latlng)?_c('l-marker',{attrs:{\"latLng\":_vm.popup.latlng}},[_c('l-popup',[_c('b-button',{staticClass:\"is-success is-light\",on:{\"click\":function () { return _vm.$router.push(\n                (\"/challenge?coords=\" + (_vm.popup.latlng.lat.toFixed(\n                  2\n                )) + \",\" + (_vm.popup.latlng.lng.toFixed(2)))\n              ); }}},[_vm._v(\" (\"+_vm._s(_vm.popup.latlng.lat.toFixed(2))+\", \"+_vm._s(_vm.popup.latlng.lng.toFixed(2))+\") \")])],1)],1):_vm._e(),_c('b-loading',{model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}})],2):_c('b-modal',{model:{value:(_vm.helpModalActive),callback:function ($$v) {_vm.helpModalActive=$$v},expression:\"helpModalActive\"}},[_c('help')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export async function fetchMultipleJSON(urls: string[]): Promise<Object[]> {\n  const settledPromises = await Promise.allSettled(\n    urls.map(url =>\n      fetch(url)\n        .then(resp => resp.json())\n        .catch(error => console.log(`Error: fetchJSONParallel: ${error}`))\n    )\n  );\n  return settledPromises\n    .filter(result => result.status === \"fulfilled\")\n    .map((result: any) => result.value);\n}\n\nexport function transformTaxonName(value: string): string {\n  return value.replace(\"-\", \" \").toLowerCase();\n}\n\nexport function debug(msg: string[], force: boolean = false): void {\n  var debug = false;\n  if (debug || force) {\n    console.log.apply(null, msg);\n  }\n}\n","import _ from \"lodash\";\nimport { LatLngLiteral } from \"leaflet\";\n\nimport { fetchMultipleJSON } from \"./utils\";\nimport { EbirdHotspot, EbirdObservation, EbirdSpecies, SpeciesImages } from \"./types\";\n\nexport const ebirdSpecies = {\n  getGenus: function(species: EbirdSpecies): string {\n    return species.sciName.split(\" \")[0] || \"\";\n  },\n  getSpeciesSciSp: function(species: EbirdSpecies): string {\n    return species.sciName.split(\" \")[1] || \"\";\n  },\n  getSpeciesSci: function(species: EbirdSpecies): string {\n    return species.sciName;\n  },\n  getSpeciesEn: function(species: EbirdSpecies): string {\n    return species.comName;\n  },\n  getFamilyEn: function(species: EbirdSpecies): string {\n    return species.familyComName;\n  },\n  getFamilySci: function(species: EbirdSpecies): string {\n    return species.familySciName;\n  }\n};\n\nexport async function fetchLocationSpecies(\n  locIds: string[]\n): Promise<EbirdSpecies[]> {\n  /// Fetch species lists for each location in parallel\n  var speciesCodes = await fetchMultipleJSON(\n    locIds.map(\n      locId =>\n        `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/product/spplist/${locId}?fmt=json`\n    )\n  );\n  speciesCodes = _.union(speciesCodes);\n  console.log(\n    `Fetched ${speciesCodes.length} species codes for locations: ${locIds.join(\n      \",\"\n    )}`\n  );\n  const species = await fetch(\n    `${\n      process.env.VUE_APP_SERVER_URL\n    }/api/ebird-species?species_codes=${speciesCodes.join(\",\")}`\n  ).then(resp => resp.json());\n  console.log(\n    `Fetched ${species.length} EbirdSpecies for ebird locations: ${locIds.join(\n      \",\"\n    )}`\n  );\n  return species;\n}\n\nexport async function fetchRecentObservations(\n  locIds: string[]\n): Promise<EbirdObservation[]> {\n  var observations = (await fetchMultipleJSON(\n    locIds.map(\n      locId =>\n        `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/data/obs/${locId}/recent/?back=30&fmt=json`\n    )\n  )) as EbirdObservation[];\n  return _.union(_.flatten(observations));\n}\n\nexport async function fetchEbirdHotspots(\n  locIds: string[]\n): Promise<EbirdHotspot[]> {\n  return (await fetchMultipleJSON(\n    locIds.map(\n      locId =>\n        `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/ref/hotspot/info/${locId}?fmt=json`\n    )\n  )) as EbirdHotspot[];\n}\n\nexport async function fetchEbirdHotspotsByLatLng(\n  latlng: LatLngLiteral\n): Promise<EbirdHotspot[]> {\n  const response = await fetch(\n    `${process.env.VUE_APP_SERVER_URL}/proxy/ebird/v2/ref/hotspot/geo?lat=${latlng.lat}&lng=${latlng.lng}&fmt=json`\n  );\n  return await response.json();\n}\n\nexport async function fetchSpeciesImages(\n  species: EbirdSpecies[]\n): Promise<SpeciesImages[]> {\n  const speciesString = species.map(sp => sp.sciName).join(\",\");\n  const cachedSpeciesImages: SpeciesImages[] = await fetch(\n    `${process.env.VUE_APP_SERVER_URL}/api/species-image-urls?species=${speciesString}&cached_only=true`\n  ).then(resp => resp.json());\n  const remainingSpeciesNames = _.difference(\n    species.map(ebirdSpecies.getSpeciesSci),\n    cachedSpeciesImages.map(si => si.species)\n  );\n  console.log(\n    `Got ${cachedSpeciesImages.length} cached species images; \\\n    fetching remaining ${remainingSpeciesNames.length}`\n  );\n  // HACK: how to correctly filter to successfully resolved promises only?\n  const remainingSpeciesImages = (\n    await fetchSpeciesImagesParallel(remainingSpeciesNames)\n  )\n    .filter(\n      result =>\n        result.status === \"fulfilled\" && result.value && result.value.urls\n    )\n    .map((result: any) => result.value); // result: PromiseFulfilledResult<SpeciesImages> ?\n\n  return _.concat(cachedSpeciesImages, remainingSpeciesImages);\n}\n\nasync function fetchSpeciesImagesParallel(\n  species: string[]\n): Promise<PromiseSettledResult<SpeciesImages>[]> {\n  return Promise.allSettled(\n    species.map(sp =>\n      fetch(\n        `${process.env.VUE_APP_SERVER_URL}/api/species-image-urls?species=${sp}&cached_only=false`\n      )\n        .then(resp => resp.json())\n        .then(data => data[0])\n        .catch(error =>\n          console.log(`Error: fetchSpeciesImagesParallel: ${error}`)\n        )\n    )\n  );\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport Vue2TouchEvents from \"vue2-touch-events\";\nimport VueI18n from \"vue-i18n\";\n\nVue.use(Vue2TouchEvents);\nVue.use(VueI18n);\n\nimport {\n  LMap,\n  LTileLayer,\n  LCircle,\n  LMarker,\n  LPopup,\n  LLayerGroup,\n} from \"vue2-leaflet\";\nimport eventBus from \"./event-bus\";\nimport Help from \"./Help.vue\";\nimport { fetchEbirdHotspotsByLatLng } from \"./ebird\";\nimport { LatLngLiteral } from \"leaflet\";\nimport { EbirdHotspot, LeafletMapEvent } from \"./types\";\n\nexport default Vue.extend({\n  components: {\n    Help,\n    LMap,\n    LTileLayer,\n    LCircle,\n    LMarker,\n    LPopup,\n    LLayerGroup,\n  },\n  props: {\n    center: Array as PropType<number[]>,\n  },\n  data() {\n    return {\n      map: {\n        zoom: 2,\n        tap: true,\n      },\n      tileLayer: {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      },\n      hotspotProps: {\n        color: \"#f03\",\n        fillOpacity: 0.5,\n        radius: 500,\n      },\n      popup: {\n        latlng: null as LatLngLiteral | null,\n      },\n      ebirdHotspots: [] as EbirdHotspot[],\n      isLoading: false,\n      helpModalActive: false,\n    };\n  },\n\n  mounted: function (): void {\n    eventBus.$on(\"show:help\", () => {\n      this.helpModalActive = true;\n    });\n  },\n\n  methods: {\n    showCoordinatesPopup(event: LeafletMapEvent): void {\n      this.popup.latlng = event.latlng as any; // TODO\n      if (this.popup.latlng) {\n        this.isLoading = true;\n        fetchEbirdHotspotsByLatLng(this.popup.latlng)\n          .then((data) => (this.ebirdHotspots = data))\n          .finally(() => (this.isLoading = false));\n      }\n    },\n  },\n});\n","import { LatLngLiteral } from \"leaflet\";\n\nexport interface Settings {\n  names: NamesLanguage;\n  commonSpeciesOnly: boolean;\n  songsOnly: boolean;\n  promptIncludesImages: boolean;\n  promptIncludesRecording: boolean;\n  useFieldModals: boolean;\n  disableNetworkRequests: boolean;\n}\n\nexport enum NamesLanguage {\n  Scientific = \"scientific\",\n  English = \"English\",\n  Both = \"both\"\n}\n\nexport interface LocationRequest {\n  ebirdLocId?: string;\n  latlng?: LatLngLiteral;\n}\n\nexport interface EbirdSpecies {\n  sciName: string;\n  comName: string;\n  speciesCode: string;\n  category: string;\n  taxonOrder: number;\n  order: string;\n  familyComName: string;\n  familySciName: string;\n}\n\nexport interface EbirdHotspot {\n  locId: string;\n  locName: string;\n  countryCode: string;\n  subnational1Code: string;\n  lat: number;\n  lng: number;\n  latestObsDt: string | null;\n  numSpeciesAllTime: number | null;\n}\n\nexport interface EbirdObservation {\n  sciName: string;\n  comName: string;\n  speciesCode: string;\n  locId: string;\n  locName: string;\n}\n\nexport interface Recording {\n  url: string;\n  familyEn: string;\n  familySci: string;\n  genus: string;\n  speciesEn: string;\n  speciesSci: string;\n  raw: XenoCantoRecording;\n  [index: string]: string | XenoCantoRecording;\n}\n\nexport interface XenoCantoRecording {\n  file: string;\n  gen: string;\n  sp: string;\n  en: string;\n  type: string;\n  loc: string;\n  cnt: string;\n  also: string[];\n}\n\nexport interface Answer {\n  familySci: string;\n  familyEn: string;\n  genus: string;\n  speciesSci: string;\n  speciesEn: string;\n  [index: string]: string;\n}\n\nexport interface SpeciesImages {\n  species: string;\n  urls: string[];\n}\n\nexport interface TaxonMaps {\n  speciesCode2SciName: Map<string, string>;\n  species2familySci: Map<string, string>;\n  species2familyEn: Map<string, string>;\n  familyEn2Sci: Map<string, string>;\n  familySci2En: Map<string, string>;\n  genus2familySci: Map<string, string>;\n  speciesSci2genus: Map<string, string>;\n  speciesSci2En: Map<string, string>;\n  speciesEn2Sci: Map<string, string>;\n}\n\nexport interface ImageMaps {\n  speciesSciName2images: Map<string, SpeciesImages[]>;\n  genus2images: Map<string, SpeciesImages[]>;\n  familySci2images: Map<string, SpeciesImages[]>;\n  familyEn2images: Map<string, SpeciesImages[]>;\n}\n\nexport interface ChallengeFamily {\n  n: number;\n  selected: boolean;\n}\n\nexport interface LeafletMapEvent {\n  latlng: LatLngLiteral;\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=4d0a1fc4&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { EbirdHotspot } from \"./types\";\nimport Vue from \"vue\";\n\nimport MapComponent from \"./Map.vue\";\n\nexport default Vue.extend({\n  components: { MapComponent },\n  data() {\n    return {\n      ebirdHotSpots: [] as EbirdHotspot[],\n    };\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Root.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Root.vue?vue&type=template&id=f7eae76e&\"\nimport script from \"./Root.vue?vue&type=script&lang=ts&\"\nexport * from \"./Root.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[_c('control-panel',{attrs:{\"open\":_vm.controlPanelOpen,\"challengeFamilies\":_vm.challengeFamilies,\"settings\":_vm.settings}}),_c('family-selector',{attrs:{\"challengeFamilies\":_vm.challengeFamilies}}),_c('game',{attrs:{\"settings\":_vm.settings,\"locationRequest\":_vm.locationRequest}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{model:{value:(_vm.isModalActive),callback:function ($$v) {_vm.isModalActive=$$v},expression:\"isModalActive\"}},[_c('section',{staticClass:\"section has-text-grey-light\"},[_c('ul',_vm._l((_vm.challengeFamilies.entries()),function(ref){\nvar family = ref[0];\nvar data = ref[1];\nreturn _c('li',{key:family},[_c('b-checkbox',{attrs:{\"value\":data.selected},on:{\"input\":function (val) { return _vm.selectFamily(family, val); }}}),_vm._v(\" \"+_vm._s(family)+\" (\"+_vm._s(data.n)+\") \")],1)}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport eventBus from \"./event-bus\";\nimport Vue, { PropType } from \"vue\";\nimport { ChallengeFamily } from \"./types\";\nexport default Vue.extend({\n  props: {\n    challengeFamilies: Map as PropType<Map<string, ChallengeFamily>>,\n  },\n  data() {\n    return {\n      isModalActive: false,\n    };\n  },\n  mounted() {\n    eventBus.$on(\"show:family-selector\", () => (this.isModalActive = true));\n  },\n  methods: {\n    selectFamily(family: string, val: boolean): void {\n      eventBus.$emit(\"family:select\", family, val);\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FamilySelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./FamilySelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FamilySelector.vue?vue&type=template&id=40cb321e&\"\nimport script from \"./FamilySelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./FamilySelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('b-sidebar',_vm._b({attrs:{\"type\":\"is-light\"},model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},'b-sidebar',_vm.sidebarAttributes,false),[_c('div',{staticClass:\"p-1\"},[_c('b-menu',[_c('b-menu-list',[_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Prompt\"}}),_c('b-switch',{model:{value:(_vm.newSettings.promptIncludesImages),callback:function ($$v) {_vm.$set(_vm.newSettings, \"promptIncludesImages\", $$v)},expression:\"newSettings.promptIncludesImages\"}},[_vm._v(\" Images \")]),_c('b-switch',{model:{value:(_vm.newSettings.promptIncludesRecording),callback:function ($$v) {_vm.$set(_vm.newSettings, \"promptIncludesRecording\", $$v)},expression:\"newSettings.promptIncludesRecording\"}},[_vm._v(\" Audio \")]),_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Names\"}}),_c('names-selector',{attrs:{\"settings\":_vm.settings}}),_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Recordings\"}}),_c('b-switch',{staticClass:\"p-1\",model:{value:(_vm.newSettings.commonSpeciesOnly),callback:function ($$v) {_vm.$set(_vm.newSettings, \"commonSpeciesOnly\", $$v)},expression:\"newSettings.commonSpeciesOnly\"}},[_vm._v(\" common species only \")]),_c('b-switch',{staticClass:\"p-1\",model:{value:(_vm.newSettings.songsOnly),callback:function ($$v) {_vm.$set(_vm.newSettings, \"songsOnly\", $$v)},expression:\"newSettings.songsOnly\"}},[_vm._v(\" Songs only \")]),_c('div',{staticClass:\"level p-1\"},[_c('div',{staticClass:\"level-left\"},[_c('b-button',{staticClass:\"light\",on:{\"click\":_vm.showFamilyModal}},[_c('i',{staticClass:\"fas fa-dna\"})]),_c('span',{staticClass:\"pl-2\"},[_vm._v(\"Select Families\")])],1)]),_c('b-menu-item',{staticClass:\"menu-item has-text-weight-semibold\",attrs:{\"label\":\"Appearance\"}}),_c('b-switch',{model:{value:(_vm.newSettings.useFieldModals),callback:function ($$v) {_vm.$set(_vm.newSettings, \"useFieldModals\", $$v)},expression:\"newSettings.useFieldModals\"}},[_vm._v(\" Full-screen dropdowns \")])],1)],1)],1)]),_c('div',{staticClass:\"block\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block\"},[_c('ul',[_c('li',[_c('b-radio',{attrs:{\"name\":\"name\",\"native-value\":_vm.NamesLanguage.English},model:{value:(_vm.names),callback:function ($$v) {_vm.names=$$v},expression:\"names\"}},[_vm._v(\" \"+_vm._s(_vm.NamesLanguage.English)+\" \")])],1),_c('li',[_c('b-radio',{attrs:{\"name\":\"name\",\"native-value\":_vm.NamesLanguage.Scientific},model:{value:(_vm.names),callback:function ($$v) {_vm.names=$$v},expression:\"names\"}},[_vm._v(\" \"+_vm._s(_vm.NamesLanguage.Scientific)+\" \")])],1),_c('li',[_c('b-radio',{attrs:{\"name\":\"name\",\"native-value\":_vm.NamesLanguage.Both},model:{value:(_vm.names),callback:function ($$v) {_vm.names=$$v},expression:\"names\"}},[_vm._v(\" \"+_vm._s(_vm.NamesLanguage.Both)+\" \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport eventBus from \"./event-bus\";\nimport { Settings, NamesLanguage } from \"./types\";\n\nexport default Vue.extend({\n  props: { settings: Object as PropType<Settings> },\n  data() {\n    return {\n      names: this.settings.names,\n      NamesLanguage,\n    };\n  },\n  watch: {\n    names: function (newVal) {\n      eventBus.$emit(\"settings:change:names\", newVal);\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./NamesSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./NamesSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NamesSelector.vue?vue&type=template&id=05459d8c&\"\nimport script from \"./NamesSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./NamesSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport eventBus from \"./event-bus\";\nimport NamesSelector from \"./NamesSelector.vue\";\nimport { ChallengeFamily, Settings } from \"./types\";\n\nexport default Vue.extend({\n  components: { NamesSelector },\n  props: {\n    challengeFamilies: Map as PropType<Map<string, ChallengeFamily>>,\n    settings: Object as PropType<Settings>,\n  },\n  data() {\n    return {\n      newSettings: Object.assign({}, this.settings) as Settings,\n      sidebarAttributes: {\n        overlay: false,\n        fullheight: true,\n        fullwidth: false,\n        right: true,\n      },\n      open: false,\n    };\n  },\n\n  watch: {\n    \"newSettings.commonSpeciesOnly\": function (newVal) {\n      eventBus.$emit(\"settings:change:commonSpeciesOnly\", newVal);\n    },\n    \"newSettings.songsOnly\": function (newVal) {\n      eventBus.$emit(\"settings:change:songsOnly\", newVal);\n    },\n    \"newSettings.promptIncludesImages\": function (newVal) {\n      eventBus.$emit(\"settings:change:promptIncludesImages\", newVal);\n    },\n    \"newSettings.promptIncludesRecording\": function (newVal) {\n      eventBus.$emit(\"settings:change:promptIncludesRecording\", newVal);\n    },\n    \"newSettings.useFieldModals\": function (newVal) {\n      eventBus.$emit(\"settings:change:useFieldModals\", newVal);\n    },\n  },\n\n  mounted: function (): void {\n    eventBus.$on(\"control-panel:show\", () => {\n      this.open = true;\n    });\n  },\n\n  methods: {\n    showFamilyModal() {\n      eventBus.$emit(\"show:family-selector\");\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ControlPanel.vue?vue&type=template&id=3805269e&scoped=true&\"\nimport script from \"./ControlPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./ControlPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ControlPanel.vue?vue&type=style&index=0&id=3805269e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3805269e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('challenge-description',{attrs:{\"ebirdLocIds\":_vm.ebirdLocIds,\"ebirdHotspots\":_vm.ebirdHotspots,\"locationSpecies\":_vm.locationSpecies,\"filteredLocationSpecies\":_vm.filteredLocationSpecies,\"challengeFamilies\":_vm.challengeFamilies,\"commonSpecies\":_vm.commonSpecies,\"recentObservations\":_vm.recentObservations,\"settings\":_vm.settings}}),_c('b-loading',{model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}}),_c('challenge-controls',{attrs:{\"image\":_vm.image,\"recording\":_vm.recording,\"setNextRecording\":_vm.setNextRecording,\"taxonMaps\":_vm.taxonMaps,\"settings\":_vm.settings}}),(_vm.recording)?_c('game-form',{ref:\"gameForm\",attrs:{\"locationSpecies\":_vm.filteredLocationSpecies,\"recording\":_vm.recording,\"image\":_vm.image,\"imageURLMaps\":_vm.imageURLMaps,\"taxonMaps\":_vm.taxonMaps,\"settings\":_vm.settings},on:{\"answer:species-correct\":function (value) { return (_vm.answerIsCorrectSpecies = value); }}}):_vm._e(),(_vm.answerIsCorrectSpecies)?_c('reveal-area',{attrs:{\"image\":_vm.image,\"recording\":_vm.recording,\"recordings\":_vm.otherRecordings,\"settings\":_vm.settings}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _ from \"lodash\";\nimport iso3311a2 from \"iso-3166-1-alpha-2\";\nimport {\n  EbirdHotspot,\n  EbirdSpecies,\n  Recording,\n  XenoCantoRecording\n} from \"./types\";\nimport { ebirdSpecies } from \"./ebird\";\n\nasync function fetchXenoCantoRecordings(\n  query: string\n): Promise<XenoCantoRecording[]> {\n  const response = await fetch(\n    `${\n      process.env.VUE_APP_SERVER_URL\n    }/proxy/xeno-canto/2/recordings?query=${encodeURIComponent(query)}`\n  );\n  const text = await response.text();\n  if (text) {\n    return JSON.parse(text).recordings;\n  } else {\n    return [];\n  }\n}\n\nfunction makeQuery(species: EbirdSpecies, locations: EbirdHotspot[]): string {\n  const genus = ebirdSpecies.getGenus(species);\n  const speciesSci = ebirdSpecies.getSpeciesSci(species);\n\n  var query = `${speciesSci}+gen:${genus}`;\n  const countryCodes = new Set(locations.map(loc => loc.countryCode));\n  if (countryCodes.size === 1) {\n    const [countryCode] = countryCodes;\n    const country = iso3311a2.getCountry(countryCode);\n    if (country) {\n      query = `${query}+cnt:\"${country}\"+q:A`;\n    }\n  }\n  return query;\n}\n\nexport async function fetchRecordings(\n  species: EbirdSpecies,\n  locations: EbirdHotspot[]\n): Promise<Recording[]> {\n  const query = makeQuery(species, locations);\n  const xcRecs = await fetchXenoCantoRecordings(query);\n  return xcRecs.map(x => makeRecording(x, species));\n}\n\nfunction makeRecording(\n  xcRec: XenoCantoRecording,\n  species: EbirdSpecies\n): Recording {\n  const familySci = ebirdSpecies.getFamilySci(species);\n  const familyEn = ebirdSpecies.getFamilyEn(species);\n  const genus = ebirdSpecies.getGenus(species);\n  const speciesSci = ebirdSpecies.getSpeciesSci(species);\n  const speciesEn = ebirdSpecies.getSpeciesEn(species);\n  return {\n    url: xcRec.file,\n    familySci: familySci,\n    familyEn: familyEn,\n    genus: genus,\n    speciesSci: speciesSci,\n    speciesEn: speciesEn,\n    raw: xcRec\n  };\n}\n\nexport function isSong(type: string): boolean {\n  const words = new Set(type.toLowerCase().split(\" \"));\n  return words.has(\"song\") || words.has(\"duet\");\n}\n","export function isDefaultSelectedFamily(\n  family: string,\n  family2order: Map<string, string>\n): boolean {\n  const nonPasserineDefaultSelectedFamilies = new Set([\n    \"Tinamous\",\n    \"Screamers\",\n    \"Pigeons and Doves\",\n    \"Cuckoos\",\n    \"Trogons\",\n    \"Motmots\",\n    \"Puffbirds\",\n    \"Jacamars\",\n    \"New World Barbets\",\n    \"Toucans\",\n    \"Woodpeckers\"\n  ]);\n  return (\n    family2order.get(family) === \"Passeriformes\" ||\n    nonPasserineDefaultSelectedFamilies.has(family)\n  );\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('audio',{staticClass:\"mt-3\",attrs:{\"controls\":\"\",\"src\":_vm.recording.url,\"preload\":_vm.preload},on:{\"loadedmetadata\":function (ev) {\n      _vm.debug(['loadedmetadata']);\n      ev.target.play();\n    },\"loadeddata\":function (ev) {\n      _vm.debug(['loadeddata']);\n    },\"canplay\":function (ev) {\n      _vm.debug(['canplay']);\n    },\"canplaythrough\":function (ev) {\n      _vm.debug(['canplaythrough']);\n      ev.target.play();\n    },\"playing\":function (ev) {\n      _vm.debug(['playing']);\n    },\"play\":function (ev) {\n      _vm.debug(['play']);\n      _vm.eventBus.$emit('ready:challenge-recording');\n    }}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport { debug } from \"./utils\";\nimport eventBus from \"./event-bus\";\nimport { Recording } from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    recording: Object as PropType<Recording>,\n    preload: { type: String, default: \"metadata\" },\n  },\n  data() {\n    return {\n      eventBus,\n      debug,\n    };\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordingPlayer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordingPlayer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RecordingPlayer.vue?vue&type=template&id=b7f26996&scoped=true&\"\nimport script from \"./RecordingPlayer.vue?vue&type=script&lang=ts&\"\nexport * from \"./RecordingPlayer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RecordingPlayer.vue?vue&type=style&index=0&id=b7f26996&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7f26996\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',[_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.familySci},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"familySciField\",attrs:{\"id\":\"familySci\",\"initial\":_vm.answer.familySci,\"handler\":_vm.handleFamilySci,\"shouldShow\":_vm.shouldShowScientificNames,\"filter\":_vm.filterFamilySci,\"truth\":_vm.truth.familySci,\"getImageURLs\":_vm.getFamilySciImageURLs,\"imageLabelFn\":function (im) { return im.species.split(' ')[0]; },\"label\":_vm.shouldShowEnglishNames ? 'Family (scientific)' : 'Family'},on:{\"focus\":function($event){_vm.isModal.familySci = true},\"select\":function($event){_vm.isModal.familySci = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.familyEn},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"familyEnField\",attrs:{\"id\":\"familyEn\",\"initial\":_vm.answer.familyEn,\"handler\":_vm.handleFamilyEn,\"shouldShow\":_vm.shouldShowEnglishNames,\"filter\":_vm.filterFamilyEn,\"truth\":_vm.truth.familyEn,\"getImageURLs\":_vm.getFamilyEnImageURLs,\"imageLabelFn\":function (im) { return im.species.split(' ')[0]; },\"label\":_vm.shouldShowScientificNames ? 'Family (English)' : 'Family'},on:{\"focus\":function($event){_vm.isModal.familyEn = true},\"select\":function($event){_vm.isModal.familyEn = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.genus},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"genusField\",attrs:{\"id\":\"genus\",\"initial\":_vm.answer.genus,\"handler\":_vm.handleGenus,\"shouldShow\":true,\"filter\":_vm.filterGenus,\"truth\":_vm.truth.genus,\"getImageURLs\":_vm.getGenusImageURLs,\"imageLabelFn\":function (im) { return im.species.split(' ')[1]; },\"label\":'Genus'},on:{\"focus\":function($event){_vm.isModal.genus = true},\"select\":function($event){_vm.isModal.genus = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.speciesSci},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"speciesSciField\",attrs:{\"id\":\"speciesSci\",\"initial\":_vm.answer.speciesSci,\"handler\":_vm.handleSpeciesSci,\"shouldShow\":_vm.shouldShowScientificNames,\"filter\":_vm.filterSpeciesSci,\"truth\":_vm.truth.speciesSci,\"getImageURLs\":_vm.getSpeciesSciImageURLs,\"imageLabelFn\":function (im) { return ''; },\"label\":_vm.shouldShowEnglishNames ? 'Species (scientific)' : 'Species'},on:{\"focus\":function($event){_vm.isModal.speciesSci = true},\"select\":function($event){_vm.isModal.speciesSci = false}}})]},proxy:true}])}),_c('game-form-field-container',{attrs:{\"isModal\":_vm.settings.useFieldModals && _vm.isModal.speciesEn},scopedSlots:_vm._u([{key:\"form-field\",fn:function(){return [_c('game-form-field',{ref:\"speciesEnField\",attrs:{\"id\":\"speciesEn\",\"initial\":_vm.answer.speciesEn,\"handler\":_vm.handleSpeciesEn,\"shouldShow\":_vm.shouldShowEnglishNames,\"filter\":_vm.filterSpeciesEn,\"truth\":_vm.truth.speciesEn,\"getImageURLs\":_vm.getSpeciesEnImageURLs,\"imageLabelFn\":function (im) { return ''; },\"label\":_vm.shouldShowScientificNames ? 'Species (English)' : 'Species'},on:{\"focus\":function($event){_vm.isModal.speciesEn = true},\"select\":function($event){_vm.isModal.speciesEn = false}}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shouldShow)?_c('div',{staticClass:\"level\",attrs:{\"id\":_vm.id}},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field has-addons\",staticStyle:{\"width\":\"100%\"}},[_c('p',{staticClass:\"control\",staticStyle:{\"width\":\"100%\"}},[_c('b-autocomplete',{ref:\"autocomplete\",attrs:{\"type\":\"text\",\"placeholder\":_vm.label,\"data\":_vm.filteredCandidates,\"open-on-focus\":true,\"dropdown-position\":\"bottom\",\"max-height\":\"100vh\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"autocapitalize\":\"off\",\"spellcheck\":\"false\"},on:{\"focus\":_vm.handleFocus,\"select\":_vm.handleSelect,\"blur\":_vm.handleBlur},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(_vm.isMobile)?_c('game-form-field-dropdown-row-mobile',{attrs:{\"images\":_vm.getImageURLs(props.option),\"imageLabelFn\":_vm.imageLabelFn,\"option\":props.option}}):_c('game-form-field-dropdown-row',{attrs:{\"images\":_vm.getImageURLs(props.option),\"imageLabelFn\":_vm.imageLabelFn,\"option\":props.option}})]}}],null,false,106505359),model:{value:(_vm.answer),callback:function ($$v) {_vm.answer=$$v},expression:\"answer\"}})],1),_c('p',{staticClass:\"control\"},[(_vm.answer && _vm.answer != _vm.truth && _vm.showInputButtons)?_c('b-button',{on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"fas fa-eraser\"})]):_vm._e()],1),_c('p',{staticClass:\"control\"},[(_vm.answer != _vm.truth && _vm.showInputButtons)?_c('b-button',{on:{\"click\":_vm.reveal}},[_c('i',{staticClass:\"fas fa-eye\"})]):_vm._e()],1)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item has-text-left ml-2\",staticStyle:{\"width\":\"220px\"}},[_c('b',[_vm._v(_vm._s(_vm.option))])])]),_c('div',{staticClass:\"x-scrollable\",attrs:{\"width\":\"100%\"}},[_c('div',{staticClass:\"level-left\",staticStyle:{\"overflow-x\":\"hidden\",\"width\":\"9999px\"}},_vm._l((_vm.images),function(im,i){return _c('div',{key:i,staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('img',{staticStyle:{\"height\":\"160px\"},attrs:{\"src\":im.urls[0]}}),_c('p',{staticClass:\"help has-text-centered\"},[_c('i',[_vm._v(_vm._s(_vm.imageLabelFn(im)))])])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport { SpeciesImages } from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    option: String,\n    images: Array as PropType<SpeciesImages[]>,\n    imageLabelFn: Function,\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormFieldDropdownRow.vue?vue&type=template&id=4b506920&scoped=true&\"\nimport script from \"./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormFieldDropdownRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameFormFieldDropdownRow.vue?vue&type=style&index=0&id=4b506920&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b506920\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-1\"},[_c('b',[_vm._v(_vm._s(_vm.option))])]),_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"x-scrollable\",attrs:{\"width\":\"100%\"}},[_c('div',{staticClass:\"level-left\",staticStyle:{\"overflow-x\":\"hidden\",\"width\":\"9999px\"}},[_c('div',{staticClass:\"level-item is-justify-content-left\"},[_c('div',_vm._l((_vm.images),function(im,i){return _c('span',{key:i},[_c('img',{staticStyle:{\"height\":\"100px\"},attrs:{\"src\":im.urls[0]}})])}),0)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\n\nimport { SpeciesImages } from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    option: String,\n    images: Array as PropType<SpeciesImages[]>,\n    imageLabelFn: Function,\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormFieldDropdownRowMobile.vue?vue&type=template&id=053663aa&scoped=true&\"\nimport script from \"./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormFieldDropdownRowMobile.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameFormFieldDropdownRowMobile.vue?vue&type=style&index=0&id=053663aa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"053663aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { isMobile } from \"mobile-device-detect\";\n\nimport { debug, transformTaxonName } from \"./utils\";\nimport GameFormFieldDropdownRow from \"./GameFormFieldDropdownRow.vue\";\nimport GameFormFieldDropdownRowMobile from \"./GameFormFieldDropdownRowMobile.vue\";\n\nexport default Vue.extend({\n  components: { GameFormFieldDropdownRow, GameFormFieldDropdownRowMobile },\n  props: {\n    initial: String,\n    shouldShow: Boolean,\n    id: String,\n    label: String,\n    filter: Function,\n    truth: String,\n    getImageURLs: Function,\n    imageLabelFn: Function,\n    handler: Function,\n  },\n  mounted() {\n    this.dismissMobileKeyboardOnDropdownScroll();\n  },\n  data() {\n    return {\n      answer: this.initial,\n      showInputButtons: true,\n      isMobile,\n    };\n  },\n  computed: {\n    filteredCandidates(): string[] {\n      debug([`${this.id}.filteredCandidates:`, JSON.stringify(this.answer)]);\n      return this.filter(this.answer);\n    },\n  },\n  watch: {\n    answer: {\n      sync: true,\n      handler: function (value: string): void {\n        debug([`${this.id}: watch: answer:`, JSON.stringify(value)]);\n        this.handler(value);\n        this.styleInputAccordingToAnswer();\n      },\n    } as any, // sync is private\n  },\n  methods: {\n    clear(): void {\n      debug([`GameFormField(${this.id}).clear`]);\n      this.answer = \"\";\n      this.handler(this.answer);\n    },\n\n    reveal(): void {\n      debug([\n        `GameFormField(${this.id}).reveal:`,\n        JSON.stringify(this.answer),\n        JSON.stringify(this.truth),\n      ]);\n      this.answer = this.truth;\n    },\n\n    handleFocus() {\n      this.showInputButtons = false;\n      this.$emit(\"focus\");\n    },\n\n    handleBlur() {\n      this.showInputButtons = true;\n    },\n\n    handleSelect(answer: string) {\n      debug([\n        `GameFormField(${this.id}).handleSelect:`,\n        JSON.stringify(answer),\n      ]);\n      this.showInputButtons = true;\n      if (answer) {\n        this.answer = answer;\n        this.handler(this.answer);\n        this.$emit(\"select\");\n      }\n      this.styleInputAccordingToAnswer();\n    },\n\n    isCorrect(): boolean {\n      debug([\n        `${this.id}.isCorrect:`,\n        transformTaxonName(this.truth),\n        transformTaxonName(this.answer),\n      ]);\n      return transformTaxonName(this.truth) === transformTaxonName(this.answer);\n    },\n\n    styleInputAccordingToAnswer() {\n      const autocomplete = this.$refs.autocomplete as any;\n      const input = autocomplete?.$refs.input.$refs.input as HTMLElement;\n      debug([\n        `${this.id}.styleInputAccordingToAnswer:`,\n        `${input}`,\n        JSON.stringify(this.answer),\n        JSON.stringify(this.truth),\n      ]);\n      if (input) {\n        input.classList.remove(\"is-danger\");\n        input.classList.remove(\"is-success\");\n        if (this.answer && this.truth) {\n          input.classList.add(this.isCorrect() ? \"is-success\" : \"is-danger\");\n        }\n      }\n    },\n\n    dismissMobileKeyboardOnDropdownScroll(): void {\n      const autocomplete = this.$refs.autocomplete as any;\n      const input = autocomplete?.$refs.input.$refs.input as HTMLElement;\n      const dropdown = autocomplete?.$refs.dropdown as HTMLElement;\n      const dropdownContent = dropdown?.querySelector(\n        \".dropdown-content\"\n      ) as HTMLElement;\n      if (input && dropdownContent) {\n        dropdownContent.onscroll = () => {\n          // The purpose of this handler is to cause the soft keyboard of\n          // mobile devices to be dismissed when the user starts scrolling.\n\n          // On iOS and Safari, a single onscroll event is emitted\n          // *after* selecting a dropdown item. Since at that point the\n          // dropdown is closed, we do not want this handler to run.\n          if (autocomplete.isActive) {\n            input.blur();\n            // If the input is focused, scrolling will emit a single blur event.\n            // Since we have arranged for blur events to show the buttons,\n            // we counteract this here.\n            this.showInputButtons = false;\n          }\n        };\n      } else {\n        debug([\n          \"Failed to obtain references to input and dropdown HTML elements.\",\n        ]);\n      }\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormField.vue?vue&type=template&id=0840a4c6&scoped=true&\"\nimport script from \"./GameFormField.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameFormField.vue?vue&type=style&index=0&id=0840a4c6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0840a4c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isModal)?_c('b-modal',{attrs:{\"active\":true,\"full-screen\":\"\"}},[_vm._t(\"form-field\")],2):_c('div',{staticClass:\"m-4\"},[_vm._t(\"form-field\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nexport default Vue.extend({\n  props: { isModal: Boolean },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameFormFieldContainer.vue?vue&type=template&id=ca3675de&\"\nimport script from \"./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameFormFieldContainer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport _ from \"lodash\";\nimport Vue, { PropType } from \"vue\";\n\nimport { debug, transformTaxonName } from \"./utils\";\nimport { EbirdSpecies } from \"./types\";\nimport { ebirdSpecies } from \"./ebird\";\nimport {\n  Answer,\n  ImageMaps,\n  NamesLanguage,\n  Recording,\n  Settings,\n  SpeciesImages,\n  TaxonMaps,\n} from \"./types\";\nimport GameFormField from \"./GameFormField.vue\";\nimport GameFormFieldContainer from \"./GameFormFieldContainer.vue\";\n\ntype GameFormFieldInstance = InstanceType<typeof GameFormField>;\n\nexport default Vue.extend({\n  components: { GameFormFieldContainer, GameFormField },\n  props: {\n    locationSpecies: Array as PropType<EbirdSpecies[]>,\n    recording: Object as PropType<Recording | null>,\n    image: String as PropType<string | null>,\n    imageURLMaps: Object as PropType<ImageMaps>,\n    taxonMaps: Object as PropType<TaxonMaps>,\n    settings: Object as PropType<Settings>,\n  },\n  data() {\n    return {\n      answer: {\n        familySci: \"\",\n        familyEn: \"\",\n        genus: \"\",\n        speciesSci: \"\",\n        speciesEn: \"\",\n      } as Answer,\n      isModal: {\n        familySci: false,\n        familyEn: false,\n        genus: false,\n        speciesSci: false,\n        speciesEn: false,\n      },\n    };\n  },\n\n  computed: {\n    shouldShowScientificNames(): boolean {\n      return new Set([NamesLanguage.Scientific, NamesLanguage.Both]).has(\n        this.settings.names\n      );\n    },\n\n    shouldShowEnglishNames(): boolean {\n      return new Set([NamesLanguage.English, NamesLanguage.Both]).has(\n        this.settings.names\n      );\n    },\n\n    truth(): Answer {\n      debug([`GameForm.truth:`, JSON.stringify(this.recording)]);\n      if (this.recording) {\n        return {\n          familySci: this.recording.familySci,\n          familyEn: this.recording.familyEn,\n          genus: this.recording.genus,\n          speciesSci: this.recording.speciesSci,\n          speciesEn: this.recording.speciesEn,\n        };\n      } else {\n        return {\n          familySci: \"\",\n          familyEn: \"\",\n          genus: \"\",\n          speciesSci: \"\",\n          speciesEn: \"\",\n        };\n      }\n    },\n\n    familySciField(): GameFormFieldInstance {\n      return this.$refs.familySciField as GameFormFieldInstance;\n    },\n\n    familyEnField(): GameFormFieldInstance {\n      return this.$refs.familyEnField as GameFormFieldInstance;\n    },\n\n    genusField(): GameFormFieldInstance {\n      return this.$refs.genusField as GameFormFieldInstance;\n    },\n\n    speciesSciField(): GameFormFieldInstance {\n      return this.$refs.speciesSciField as GameFormFieldInstance;\n    },\n\n    speciesEnField(): GameFormFieldInstance {\n      return this.$refs.speciesEnField as GameFormFieldInstance;\n    },\n  },\n\n  methods: {\n    handleFamilySci(value: string): void {\n      debug([\"handleFamilySci:\", JSON.stringify(value)]);\n      this.answer.familySci = value;\n      const familyEn = this.taxonMaps.familySci2En.get(value) || \"\";\n      this.familyEnField.answer = familyEn;\n      if (!familyEn) {\n        this.genusField.answer = \"\";\n      }\n    },\n\n    handleFamilyEn(value: string): void {\n      debug([\"handleFamilyEn:\", JSON.stringify(value)]);\n      this.answer.familyEn = value;\n      const familySci = this.taxonMaps.familyEn2Sci.get(value) || \"\";\n      this.familySciField.answer = familySci;\n    },\n\n    handleGenus(value: string): void {\n      debug([\"handleGenus:\", JSON.stringify(value)]);\n      this.answer.genus = value;\n      const familySci = this.taxonMaps.genus2familySci.get(value);\n      if (familySci) {\n        this.familySciField.answer = familySci;\n      } else {\n        this.speciesSciField.answer = \"\";\n      }\n    },\n\n    handleSpeciesSci(value: string): void {\n      debug([\"handleSpeciesSci:\", JSON.stringify(value)]);\n      this.answer.speciesSci = value;\n      // Autofill speciesEn\n      const speciesEn = this.taxonMaps.speciesSci2En.get(value) || \"\";\n      (this.$refs.speciesEnField as any).answer = speciesEn;\n      // Autofill genus if the species is valid\n      const genus = this.taxonMaps.speciesSci2genus.get(value);\n      if (genus) {\n        this.genusField.answer = genus;\n      }\n      this.$emit(\"answer:species-correct\", this.speciesSciField.isCorrect());\n    },\n\n    handleSpeciesEn(value: string): void {\n      debug([\"handleSpeciesEn:\", JSON.stringify(value)]);\n      this.answer.speciesEn = value;\n      // Autofill speciesSci\n      const speciesSci = this.taxonMaps.speciesEn2Sci.get(value) || \"\";\n      this.speciesSciField.answer = speciesSci;\n      this.$emit(\"answer:species-correct\", this.speciesEnField.isCorrect());\n    },\n\n    getSpeciesSciImageURLs(answer: string): SpeciesImages[] {\n      if (this.settings.promptIncludesImages) {\n        return [];\n      }\n      return this._getImageURLs(\n        answer,\n        this.imageURLMaps.speciesSciName2images\n      );\n    },\n\n    getSpeciesEnImageURLs(answer: string): SpeciesImages[] {\n      if (this.settings.promptIncludesImages) {\n        return [];\n      }\n      return this._getImageURLs(\n        this.taxonMaps.speciesEn2Sci.get(answer) || \"\",\n        this.imageURLMaps.speciesSciName2images\n      );\n    },\n\n    getGenusImageURLs(answer: string): SpeciesImages[] {\n      return this._getImageURLs(answer, this.imageURLMaps.genus2images);\n    },\n\n    getFamilySciImageURLs(answer: string): SpeciesImages[] {\n      return this._getImageURLs(answer, this.imageURLMaps.familySci2images);\n    },\n\n    getFamilyEnImageURLs(answer: string): SpeciesImages[] {\n      return this._getImageURLs(answer, this.imageURLMaps.familyEn2images);\n    },\n\n    _getImageURLs(\n      answer: string,\n      imageURLMap: Map<string, SpeciesImages[]>\n    ): SpeciesImages[] {\n      var images = imageURLMap.get(answer) || [];\n      if (this.settings.promptIncludesImages && this.image) {\n        images = images.filter((im) => !new Set(im.urls).has(this.image || \"\")); // TODO\n      }\n      return Array.from(images);\n    },\n\n    clear(): void {\n      this.familySciField.clear();\n      this.familyEnField.clear();\n      this.genusField.clear();\n      this.speciesSciField.clear();\n      this.speciesEnField.clear();\n    },\n\n    // filter*\n\n    filterFamilySci(answer: string): string[] {\n      return this._filter(\n        answer,\n        this.isFamilySciMatch,\n        ebirdSpecies.getFamilySci\n      );\n    },\n\n    filterFamilyEn(answer: string): string[] {\n      debug([\"filterFamilyEn:\", JSON.stringify(answer)]);\n      return this._filter(\n        answer,\n        this.isFamilyEnMatch,\n        ebirdSpecies.getFamilyEn\n      );\n    },\n\n    filterGenus(answer: string): string[] {\n      return this._filter(answer, this.isGenusMatch, ebirdSpecies.getGenus);\n    },\n\n    filterSpeciesSci(answer: string): string[] {\n      return this._filter(\n        answer,\n        this.isSpeciesSciMatch,\n        ebirdSpecies.getSpeciesSci\n      );\n    },\n\n    filterSpeciesEn(answer: string): string[] {\n      return this._filter(\n        answer,\n        this.isSpeciesEnMatch,\n        ebirdSpecies.getSpeciesEn\n      );\n    },\n\n    _filter(\n      answer: string,\n      matchFn: Function,\n      mapFn: (_: EbirdSpecies) => string\n    ): string[] {\n      return _.uniq(\n        this.locationSpecies.filter((sp) => matchFn(answer, sp)).map(mapFn)\n      );\n    },\n\n    // is*Match\n\n    isFamilySciMatch(answer: string, species: EbirdSpecies): boolean {\n      return _startsWith(species.familySciName, answer);\n    },\n\n    isFamilyEnMatch(answer: string, species: EbirdSpecies): boolean {\n      return _includes(species.familyComName, answer);\n    },\n\n    isGenusMatch(answer: string, species: EbirdSpecies): boolean {\n      if (\n        this.answer.familySci &&\n        !this.isFamilySciMatch(this.answer.familySci, species)\n      ) {\n        return false;\n      }\n      if (\n        this.answer.familyEn &&\n        !this.isFamilyEnMatch(this.answer.familyEn, species)\n      ) {\n        return false;\n      }\n      return _startsWith(ebirdSpecies.getGenus(species), answer);\n    },\n\n    isSpeciesSciMatch(answer: string, species: EbirdSpecies): boolean {\n      if (\n        this.answer.familySci &&\n        !this.isFamilySciMatch(this.answer.familySci, species)\n      ) {\n        return false;\n      }\n      if (this.answer.genus && !this.isGenusMatch(this.answer.genus, species)) {\n        return false;\n      }\n      return (\n        _startsWith(ebirdSpecies.getSpeciesSciSp(species), answer) ||\n        _startsWith(ebirdSpecies.getSpeciesSci(species), answer)\n      );\n    },\n\n    isSpeciesEnMatch(answer: string, species: EbirdSpecies): boolean {\n      if (\n        this.answer.familyEn &&\n        !this.isFamilyEnMatch(this.answer.familyEn, species)\n      ) {\n        return false;\n      }\n      if (this.answer.genus && !this.isGenusMatch(this.answer.genus, species)) {\n        return false;\n      }\n      return _includes(ebirdSpecies.getSpeciesEn(species), answer);\n    },\n  },\n});\n\nfunction _includes(truth: string, answer: string): boolean {\n  truth = transformTaxonName(truth);\n  answer = transformTaxonName(answer);\n  if (answer.length > 1) {\n    return truth.includes(answer);\n  } else {\n    return truth.startsWith(answer);\n  }\n}\n\nfunction _startsWith(truth: string, answer: string): boolean {\n  return transformTaxonName(truth).startsWith(transformTaxonName(answer));\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameForm.vue?vue&type=template&id=4a5e4308&scoped=true&\"\nimport script from \"./GameForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameForm.vue?vue&type=style&index=0&id=4a5e4308&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a5e4308\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('p',[_c('a',{attrs:{\"href\":_vm.recordingSpeciesWikipediaURL(),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.recordingSpeciesSciName())+\" \")])]),(_vm.image && !_vm.settings.promptIncludesImages)?_c('img',{attrs:{\"src\":_vm.image}}):_vm._e(),(_vm.settings.promptIncludesRecording && _vm.recording)?_c('b-dropdown',{scopedSlots:_vm._u([{key:\"trigger\",fn:function(ref){\nvar active = ref.active;\nreturn [_c('b-button',{attrs:{\"icon-right\":\"chevron-down\",\"icon-pack\":\"fas\"}},[_c('i',{staticClass:\"fas fa-volume-up\"})])]}}],null,false,1660682314)},_vm._l((_vm.recordings),function(rec){return _c('b-dropdown-item',{key:rec.url},[_c('ul',[(rec.url != _vm.recording.url)?_c('li',[_c('recording-player',{attrs:{\"recording\":rec,\"preload\":'none'}})],1):_vm._e(),_c('li',[_vm._v(_vm._s(rec.raw.loc)+\", \"+_vm._s(rec.raw.cnt))])])])}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport { NamesLanguage, Recording, Settings } from \"./types\";\nimport RecordingPlayer from \"./RecordingPlayer.vue\";\n\nexport default Vue.extend({\n  components: { RecordingPlayer },\n  props: {\n    image: String,\n    recording: Object as PropType<Recording>,\n    recordings: Array as PropType<Recording[]>,\n    settings: Object as PropType<Settings>,\n  },\n  methods: {\n    recordingSpeciesWikipediaURL(): string | null {\n      if (this.recording) {\n        return `https://en.wikipedia.org/w/index.php?title=${this.recording.speciesSci.replace(\n          \" \",\n          \"_\"\n        )}`;\n      } else {\n        return null;\n      }\n    },\n    recordingSpeciesSciName(): string | null {\n      if (this.recording) {\n        const speciesEn = this.recording.speciesEn;\n        if (this.settings.names == NamesLanguage.English) {\n          return speciesEn;\n        } else {\n          const speciesSci = this.recording.speciesSci;\n          if (this.settings.names == NamesLanguage.Scientific) {\n            return speciesSci;\n          } else {\n            return `${speciesSci} (${speciesEn})`;\n          }\n        }\n      } else {\n        return null;\n      }\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevealArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevealArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevealArea.vue?vue&type=template&id=c5c48fda&\"\nimport script from \"./RevealArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevealArea.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.ebirdHotspots.length > 0 ? _vm.ebirdHotspots.map(function (h) { return h.locName; }).join(\", \") : _vm.ebirdLocIds.join(\", \"))+\" \")]),_c('ul',[_c('li',[_vm._v(_vm._s(_vm.locationSpecies.length)+\" species\")]),_c('li',[_c('b-dropdown',{scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('a',{attrs:{\"role\":\"button\"}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.filteredLocationSpecies.length)+\" species in challenge \")]),_c('i',{staticClass:\"fas fa-chevron-down\"})])]},proxy:true}])},[_c('b-dropdown-item',[_vm._v(\" \"+_vm._s(_vm.nSelectedFamilies)+\" / \"+_vm._s(_vm.challengeFamilies.size)+\" families selected \")]),(_vm.settings.commonSpeciesOnly)?_c('b-dropdown-item',[_vm._v(\" Restricting to \"+_vm._s(_vm.commonSpecies.size)+\" recently observed species. \")]):_vm._e()],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport {\n  ChallengeFamily,\n  EbirdHotspot,\n  EbirdObservation,\n  EbirdSpecies,\n  Settings,\n} from \"./types\";\n\nexport default Vue.extend({\n  props: {\n    ebirdLocIds: Array as PropType<string[]>,\n    ebirdHotspots: Array as PropType<EbirdHotspot[]>,\n    locationSpecies: Array as PropType<EbirdSpecies[]>,\n    filteredLocationSpecies: Array as PropType<EbirdSpecies[]>,\n    challengeFamilies: Map as PropType<Map<string, ChallengeFamily>>,\n    commonSpecies: Set as PropType<Set<string>>,\n    recentObservations: Array as PropType<EbirdObservation[]>,\n    settings: Object as PropType<Settings>,\n  },\n  computed: {\n    nSelectedFamilies(): number {\n      return [...this.challengeFamilies.values()].filter(\n        ({ selected }) => selected\n      ).length;\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeDescription.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeDescription.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChallengeDescription.vue?vue&type=template&id=4fba9874&\"\nimport script from \"./ChallengeDescription.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChallengeDescription.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[(!_vm.recording)?_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"light is-large\",on:{\"click\":_vm.setNextRecording}},[_c('i',{staticClass:\"fas fa-play\"})])],1)])])]):_c('ul',{staticClass:\"box has-text-centered\"},[_c('li',[_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('b-button',{staticClass:\"light\",on:{\"click\":_vm.setNextRecording}},[_c('i',{staticClass:\"fas fa-step-forward\"})])],1)])])])]),_c('li',[_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('recording-player',{attrs:{\"recording\":_vm.recording}})],1)])]),(_vm.image && _vm.settings.promptIncludesImages)?_c('p',{staticClass:\"level-item\"},[_c('img',{attrs:{\"src\":_vm.image}})]):_vm._e()])]),_c('li',[_vm._v(_vm._s(_vm.recording.raw.loc)+\", \"+_vm._s(_vm.recording.raw.cnt))]),(_vm.recording.raw.also.filter(Boolean).length > 0)?_c('li',[_c('small',[_vm._v(\" Also in recording: \"),_vm._l((_vm.recording.raw.also),function(sp,index){return _c('span',{key:index},[(_vm.settings.names === _vm.NamesLanguage.Scientific)?_c('i',[_vm._v(_vm._s(sp))]):_c('span',[_vm._v(\" \"+_vm._s(_vm.taxonMaps.speciesSci2En.get(sp) || \"\")+\" \"),(_vm.settings.names === _vm.NamesLanguage.Both)?_c('span',[_vm._v(\" (\"),_c('i',[_vm._v(_vm._s(sp))]),_vm._v(\")\")]):_vm._e()]),(index + 1 < _vm.recording.raw.also.length)?_c('span',[_vm._v(\", \")]):_vm._e()])})],2)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport { NamesLanguage, Recording, Settings, TaxonMaps } from \"./types\";\n\nimport RecordingPlayer from \"./RecordingPlayer.vue\";\n\nexport default Vue.extend({\n  components: { RecordingPlayer },\n  props: {\n    image: String,\n    recording: Object as PropType<Recording | null>,\n    setNextRecording: Function,\n    taxonMaps: Object as PropType<TaxonMaps>,\n    settings: Object as PropType<Settings>,\n  },\n  data() {\n    return { NamesLanguage };\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChallengeControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChallengeControls.vue?vue&type=template&id=5e288af6&\"\nimport script from \"./ChallengeControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChallengeControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport _ from \"lodash\";\nimport Vue, { PropType } from \"vue\";\n\nimport {\n  fetchEbirdHotspots,\n  ebirdSpecies,\n  fetchLocationSpecies,\n  fetchRecentObservations,\n  fetchSpeciesImages,\n  fetchEbirdHotspotsByLatLng,\n} from \"./ebird\";\nimport { fetchRecordings, isSong } from \"./xeno-canto\";\nimport { isDefaultSelectedFamily } from \"./birds\";\nimport RecordingPlayer from \"./RecordingPlayer.vue\";\nimport {\n  LocationRequest,\n  ChallengeFamily,\n  EbirdHotspot,\n  EbirdObservation,\n  EbirdSpecies,\n  TaxonMaps,\n  ImageMaps,\n  Recording,\n  Settings,\n  SpeciesImages,\n  XenoCantoRecording,\n} from \"./types\";\nimport GameForm from \"./GameForm.vue\";\n\nimport eventBus from \"./event-bus\";\nimport RevealArea from \"./RevealArea.vue\";\nimport ChallengeDescription from \"./ChallengeDescription.vue\";\nimport ChallengeControls from \"./ChallengeControls.vue\";\n\nexport default Vue.extend({\n  name: \"Home\",\n  components: {\n    RecordingPlayer,\n    GameForm,\n    RevealArea,\n    ChallengeDescription,\n    ChallengeControls,\n  },\n  props: {\n    locationRequest: Object as PropType<LocationRequest>,\n    settings: Object as PropType<Settings>,\n  },\n\n  data() {\n    return {\n      ebirdLocIds: [] as string[],\n      ebirdHotspots: [] as EbirdHotspot[],\n      locationSpecies: [] as EbirdSpecies[],\n      filteredLocationSpecies: [] as EbirdSpecies[],\n      commonSpecies: new Set([]) as Set<string>,\n      recentObservations: [] as EbirdObservation[],\n      challengeFamilies: new Map([]) as Map<string, ChallengeFamily>,\n      selectedFamilies: new Set([]) as Set<string>,\n      speciesImages: [] as SpeciesImages[],\n      taxonMaps: makeTaxonMaps([]),\n      imageURLMaps: makeImageMaps([], []),\n      challengeRecordingsIterator: makeEmptyRecordingsIterator() as AsyncGenerator<\n        [Recording, Recording[]]\n      >,\n      recording: null as Recording | null,\n      otherRecordings: [] as Recording[],\n      haveLocationData: false,\n      challengeActive: false,\n      image: \"\",\n      answerIsCorrectSpecies: false,\n    };\n  },\n\n  created: async function () {\n    if (!this.settings.disableNetworkRequests) {\n      await this.fetchLocationData();\n    }\n    this.haveLocationData = true;\n    this.imageURLMaps = makeImageMaps(this.speciesImages, this.locationSpecies);\n    this.taxonMaps = makeTaxonMaps(this.locationSpecies);\n    this.commonSpecies = new Set(\n      this.recentObservations\n        .map((obs) => this.taxonMaps.speciesCode2SciName.get(obs.speciesCode))\n        .filter(Boolean) as any\n    );\n    this.challengeFamilies = makeChallengeFamilies(this.locationSpecies);\n    eventBus.$emit(\"set:challenge-families\", this.challengeFamilies);\n    this.filterSpecies();\n    this.challengeRecordingsIterator = this.makeChallengeRecordingsIterator();\n  },\n\n  mounted: function () {\n    eventBus.$on(\"family:select\", this.handleFamilySelection);\n    eventBus.$on(\"change:species-filters\", this.filterSpecies);\n    eventBus.$on(\n      \"ready:challenge-recording\",\n      () => (this.challengeActive = true)\n    );\n  },\n\n  computed: {\n    isLoading(): Boolean {\n      return !this.haveLocationData;\n    },\n  },\n\n  methods: {\n    async fetchLocationData(): Promise<void> {\n      try {\n        // Determine locations from request parameters\n        if (this.locationRequest.ebirdLocId) {\n          this.ebirdLocIds = [this.locationRequest.ebirdLocId];\n        } else if (this.locationRequest.latlng) {\n          this.ebirdHotspots = await fetchEbirdHotspotsByLatLng(\n            this.locationRequest.latlng\n          );\n          this.ebirdLocIds = this.ebirdHotspots.map((h) => h.locId);\n        } else {\n          throw \"Expected ebird ebirdLocId or coordinates\";\n        }\n        // In parallel: given locations, fetch combined species list, hotspot info, and recent observations.\n        [\n          this.locationSpecies,\n          this.ebirdHotspots,\n          this.recentObservations,\n        ] = await Promise.all([\n          fetchLocationSpecies(this.ebirdLocIds),\n          this.ebirdHotspots.length > 0\n            ? Promise.resolve(this.ebirdHotspots)\n            : fetchEbirdHotspots(this.ebirdLocIds),\n          fetchRecentObservations(this.ebirdLocIds),\n        ]);\n        // In parallel: given species list, fetch recording and image URLs\n        this.speciesImages = await fetchSpeciesImages(this.locationSpecies);\n        console.log(`Fetched data for ${this.ebirdLocIds.length} locIds:`);\n        console.log(`hotspots: ${this.ebirdHotspots.length}`);\n        console.log(`species: ${this.locationSpecies.length}`);\n        console.log(`images: ${this.speciesImages.length}`);\n        console.log(`recent observations: ${this.recentObservations.length}`);\n      } catch (err) {\n        console.log(\"Error fetching location species and recordings: \", err);\n      }\n    },\n\n    filterSpecies(): void {\n      this.selectedFamilies = new Set(\n        Array.from(this.challengeFamilies.entries())\n          .filter(([_, { selected }]) => selected)\n          .map(([family, _]) => family)\n      );\n      var species = this.locationSpecies.filter((sp) =>\n        this.selectedFamilies.has(\n          this.taxonMaps.species2familyEn.get(sp.sciName) || \"\"\n        )\n      );\n      if (this.settings.commonSpeciesOnly) {\n        species = species.filter((sp) => this.commonSpecies.has(sp.sciName));\n      }\n      this.filteredLocationSpecies = species;\n    },\n\n    handleFamilySelection(family: string, selected: boolean): void {\n      var challengeFamily = this.challengeFamilies.get(family);\n      if (challengeFamily) {\n        challengeFamily.selected = selected;\n        // HACK: force re-evaluation of computed properties depending on this\n        this.challengeFamilies = new Map(this.challengeFamilies);\n      }\n      this.filterSpecies();\n    },\n\n    makeChallengeRecordingsIterator: async function* (): AsyncGenerator<\n      [Recording, Recording[]]\n    > {\n      for (let sp of _.shuffle(this.locationSpecies)) {\n        const recordings = await fetchRecordings(sp, this.ebirdHotspots);\n        // TODO: type\n        for (let recording of this.makeSpeciesRecordingsIterator(\n          recordings\n        ) as any) {\n          yield [recording, recordings];\n          break;\n        }\n      }\n    },\n\n    makeSpeciesRecordingsIterator: function* (\n      recordings: Recording[]\n    ): Iterator<Recording> {\n      for (let recording of _.shuffle(recordings)) {\n        if (this.recordingMatchesFilters(recording.raw, this.settings)) {\n          yield recording;\n        }\n      }\n    },\n\n    recordingMatchesFilters(\n      xcRec: XenoCantoRecording,\n      settings: Settings\n    ): boolean {\n      if (settings.songsOnly && !isSong(xcRec.type)) {\n        return false;\n      }\n      const species = `${xcRec.gen} ${xcRec.sp}`;\n      if (settings.commonSpeciesOnly && !this.commonSpecies.has(species)) {\n        return false;\n      }\n      if (\n        !new Set(this.filteredLocationSpecies.map((sp) => sp.sciName)).has(\n          species\n        )\n      ) {\n        return false;\n      }\n      return true;\n    },\n\n    async setNextRecording(): Promise<void> {\n      (this.$refs.gameForm as any)?.clear();\n      this.image = \"\";\n      const rec = await this.challengeRecordingsIterator.next();\n      if (!rec.done) {\n        [this.recording, this.otherRecordings] = rec.value;\n        let images = this.imageURLMaps.speciesSciName2images.get(\n          this.recording.speciesSci\n        );\n        if (images) {\n          let image = images.values().next();\n          if (!image.done && image.value.urls[0]) {\n            this.image = image.value.urls[0];\n          } else {\n            alert(\"No images for species!\");\n          }\n        }\n      } else {\n        alert(\"No more recordings!\");\n      }\n    },\n  },\n});\n\nfunction makeChallengeFamilies(\n  challengeSpecies: EbirdSpecies[]\n): Map<string, ChallengeFamily> {\n  const family2order = new Map(\n    challengeSpecies.map((sp) => [sp.familyComName, sp.order])\n  );\n\n  return new Map(\n    Object.entries(_.groupBy(challengeSpecies, (sp) => sp.familyComName)).map(\n      ([family, spp]) => [\n        family,\n        {\n          n: spp.length,\n          selected: isDefaultSelectedFamily(family, family2order),\n        },\n      ]\n    )\n  );\n}\n\nexport function makeTaxonMaps(species: EbirdSpecies[]): TaxonMaps {\n  const speciesCode2SciName = new Map();\n  const species2familySci = new Map();\n  const species2familyEn = new Map();\n  const familyEn2Sci = new Map();\n  const familySci2En = new Map();\n  const genus2familySci = new Map();\n  const speciesSci2genus = new Map();\n  const speciesSci2En = new Map();\n  const speciesEn2Sci = new Map();\n\n  for (let sp of species) {\n    speciesCode2SciName.set(sp.speciesCode, sp.sciName);\n    species2familySci.set(sp.sciName, sp.familySciName);\n    species2familyEn.set(sp.sciName, sp.familyComName);\n    familyEn2Sci.set(sp.familyComName, sp.familySciName);\n    familySci2En.set(sp.familySciName, sp.familyComName);\n    genus2familySci.set(ebirdSpecies.getGenus(sp), sp.familySciName);\n    speciesSci2genus.set(sp.sciName, ebirdSpecies.getGenus(sp));\n    speciesSci2En.set(sp.sciName, sp.comName);\n    speciesEn2Sci.set(sp.comName, sp.sciName);\n  }\n\n  return {\n    speciesCode2SciName,\n    species2familySci,\n    species2familyEn,\n    familyEn2Sci,\n    familySci2En,\n    genus2familySci,\n    speciesSci2genus,\n    speciesSci2En,\n    speciesEn2Sci,\n  };\n}\n\nfunction makeImageMaps(\n  speciesImages: SpeciesImages[],\n  locationSpecies: EbirdSpecies[]\n): ImageMaps {\n  var speciesSciName2images: Map<string, SpeciesImages[]> = new Map();\n  var genus2images: Map<string, SpeciesImages[]> = new Map();\n  var familySci2images: Map<string, SpeciesImages[]> = new Map();\n  var familyEn2images: Map<string, SpeciesImages[]> = new Map();\n\n  const species2images = new Map(\n    speciesImages.map((obj) => [obj.species, obj])\n  );\n\n  for (let sp of locationSpecies) {\n    let genus = ebirdSpecies.getGenus(sp);\n    let speciesSci = ebirdSpecies.getSpeciesSci(sp);\n    let haveSeenGenus = true;\n    let images = species2images.get(sp.sciName);\n    if (images) {\n      speciesSciName2images.set(speciesSci, [images]);\n\n      if (!genus2images.has(genus)) {\n        genus2images.set(genus, []);\n        haveSeenGenus = false;\n      }\n      genus2images.get(genus)?.push(images);\n      if (!haveSeenGenus) {\n        let familySci = ebirdSpecies.getFamilySci(sp);\n        let familyEn = ebirdSpecies.getFamilyEn(sp);\n        if (!familySci2images.has(familySci)) {\n          familySci2images.set(familySci, []);\n        }\n        if (!familyEn2images.has(familyEn)) {\n          familyEn2images.set(familyEn, []);\n        }\n        familySci2images.get(familySci)?.push(images);\n        familyEn2images.get(familyEn)?.push(images);\n      }\n    }\n  }\n\n  return {\n    speciesSciName2images,\n    genus2images,\n    familySci2images,\n    familyEn2images,\n  };\n}\n\nasync function* makeEmptyRecordingsIterator(): AsyncGenerator<\n  [Recording, Recording[]]\n> {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=44afbc58&\"\nimport script from \"./Game.vue?vue&type=script&lang=ts&\"\nexport * from \"./Game.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from \"vue\";\nimport { isMobile } from \"mobile-device-detect\";\n\nimport eventBus from \"./event-bus\";\nimport FamilySelector from \"./FamilySelector.vue\";\nimport ControlPanel from \"./ControlPanel.vue\";\nimport Game from \"./Game.vue\";\nimport {\n  ChallengeFamily,\n  LocationRequest,\n  NamesLanguage,\n  Settings,\n} from \"./types\";\n\nexport default Vue.extend({\n  name: \"GameRoot\",\n  props: { locationRequest: Object as PropType<LocationRequest> },\n  components: { ControlPanel, FamilySelector, Game },\n  data() {\n    return {\n      settings: {\n        names: NamesLanguage.Both,\n        promptIncludesImages: false,\n        promptIncludesRecording: true,\n        commonSpeciesOnly: false,\n        songsOnly: true,\n        useFieldModals: isMobile,\n        disableNetworkRequests: false,\n      } as Settings,\n      controlPanelOpen: false,\n      challengeFamilies: new Map() as Map<string, ChallengeFamily>,\n    };\n  },\n  mounted: function (): void {\n    eventBus.$on(\"settings:change:names\", (newVal: NamesLanguage) => {\n      this.settings.names = newVal;\n    });\n    eventBus.$on(\"settings:change:commonSpeciesOnly\", (newVal: boolean) => {\n      this.settings.commonSpeciesOnly = newVal;\n      eventBus.$emit(\"change:species-filters\");\n    });\n    eventBus.$on(\"settings:change:songsOnly\", (newVal: boolean) => {\n      this.settings.songsOnly = newVal;\n    });\n    eventBus.$on(\"settings:change:promptIncludesImages\", (newVal: boolean) => {\n      this.settings.promptIncludesImages = newVal;\n    });\n    eventBus.$on(\n      \"settings:change:promptIncludesRecording\",\n      (newVal: boolean) => {\n        this.settings.promptIncludesRecording = newVal;\n      }\n    );\n    eventBus.$on(\"settings:change:useFieldModals\", (newVal: boolean) => {\n      this.settings.useFieldModals = newVal;\n    });\n    eventBus.$on(\n      \"set:challenge-families\",\n      (newVal: Map<string, ChallengeFamily>) => {\n        this.challengeFamilies = newVal;\n      }\n    );\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameRoot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameRoot.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameRoot.vue?vue&type=template&id=7eb43a48&\"\nimport script from \"./GameRoot.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameRoot.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n\nVue.use(VueRouter);\n\nimport _ from \"lodash\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport \"../node_modules/@fortawesome/fontawesome-free/js/all.js\";\n\nimport { LocationRequest } from \"./types\";\nimport App from \"./App.vue\";\nimport Root from \"./Root.vue\";\nimport GameRoot from \"./GameRoot.vue\";\n\nVue.config.productionTip = false;\nVue.use(Buefy, {\n  defaultIconPack: \"fas\",\n  defaultContainerElement: \"#content\"\n});\n\nconst routes = [\n  { path: \"/\", component: Root },\n  {\n    path: \"/challenge/\",\n    component: GameRoot,\n    props: (route: any) => ({\n      locationRequest: {\n        ebirdLocId: route.query.location,\n        latlng: route.query.coords\n          ? (_.zipObject([\"lat\", \"lng\"], route.query.coords.split(\",\")) as any)\n          : null\n      } as LocationRequest\n    })\n  }\n];\n\nconst router = new VueRouter({ mode: \"history\", routes });\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanel.vue?vue&type=style&index=0&id=3805269e&scoped=true&lang=css&\""],"sourceRoot":""}